信息 与 控制 
 INFORMATION   AND   CONTROL 
 1999 年   第 28 卷   第 2 期   Vol.28   No.2   1999 
 
 
 
 多级 服务台 系统 的 优化 ＊ 
 郑应文 
 　 　 摘要 　 本文 研究 DEDS 中 多级 服务台 系统 的 优化 问题 ． 设 顾客 进入 系统 的 顺序 固定 , 系统 指标 是 使 总 服务 时间 最短 ． 系统 的 建立 者 可以 用 一定 的 投入 来 改善 某些 服务台 的 效率 ． 本文 提出 一套 设计 最佳 投资 方案 的 算法 , 使得 在 一定 的 资金 条件 下 , 系统 的 总 服务 时间 能 达到 最小 ． 
 　 　 关键词 　 离散 事件 系统 ， 优化 ， 矩阵 图 
 OPTIMIZATION   OF   MULTI - STAGE   SERVE   STATION   SYSTEMS 
 ZHENG   Yingwen 
 ( Institute   of   Automation , Fuzhou   Univ . ) ) 
 　 　 Abstract 　 In   this   paper   the   problem   of   optimization   of   multi - stage   serve   station   systems   ( MSSS )   in   DEDS   is   developed . Customers   enter   MSSS   with   a   fixed   order . The   designer   of   MSSS   can   put   certain   investment   on   some   stations   to   shorten   serve   time .   An   approach   is   presented   to   optimize   the   investment   strategies , which   should   get   minimal   total   serve   time . 
 　 　 Key   words 　 DEDS ,   optimization ,   matrix   graph 
 　 　 1 　 模型 的 建立 
 　 　 离散 事件 系统 及 网络 规划 中 的 许多 问题 , 可以 描述 为 如下 的 “ 多级 服务台 ” 问题 [ 1 ] . n 个 顾客 依次 通过 m 个 不同 的 服务台 , 在 同一 时刻 , 1 个 顾客 只能 在 1 个 服务 台上 接受 服务 , 1 个 服务台 也 只能 同时 接待 1 个 顾客 ． 设 第 i 个 顾客 ( 1 ≤ i ≤ n ) 在 第 j 服务台 ( 1 ≤ j ≤ m ) 上 接受 服务 所 需 的 时间 是 tij ． 当 n 个 顾客 依 一定 顺序 排队 接受 服务 时 , 所 需要 的 总 服务 时间 ( 即 第 1 个 顾客 在 1 号 服务台 开始 接受 服务 到 第 n 个 顾客 离开 m 号 服务台 的 时间 长度 ) 为 w , 系统 的 指标 是 使 w 尽量 小 ． 
 　 　 比如 在 机械加工 线上 , 可以 把 n 个 工件 依次 通过 m 个 机床 的 问题 看作 是 这种 问题 ． 我们 假定 顾客 或 工件 的 排序 是 固定 的 , 这样 , 可以 把 tij 写成 一个 n × m 的 矩阵 , 称为 O型 矩阵 ． 
 　 　 假定 系统 的 建立 者 可以 增加 一定 的 资金投入 , 来 提高 某个 服务台 的 工效 , 设 投入 单位 资金 可以 使 第 j 个 服务台 的 效率 提高 η j , 也就是说 如果 对 第 j 个 服务台 投入 资金 ε , 可以 使 矩阵 T 中 第 j 列 所有 元素 的 值 都 减少 ε η j 倍 , 由 原来 的 tij 变成 为 \ ( 1 - ε η j ) tij , 这里 ε η j 是 小于 1 的 正 实数 ． 本文 研究 的 问题 是 : 在 这种 情况 下 , 系统 的 建立 者 的 最优 策略 是 将 资金 按 什么 比例 用以 优化 哪几个 服务台 , 才能 改进 系统 使 w 达到 最小 ． 
 　 　 2 　 最大 路径 与 各型 矩阵 图 
 　 　 定义 1 　 在 n × m 的 矩阵 T 中 , 从 左上角 元素 t11 开始 , 向 右 或 向下 作 一条 折线 , 通过 T 阵中 的 某些 元素 tij , 到达 右下角 的 元素 tnm 为止 , 称为 矩阵 T 的 一条 路径 ． 将 路径 所 经过 的 这 n + m - 1 个 元素 的 值 相加 , 其 和 称为 这 条 路径 的 权 ． 从 t11 到 tnm 的 所有 路径 中 , 权 最大 的 路径 称为 T 的 最大 路径 ． 矩阵 T 的 最大 路径 一定 存在 , 但 未必 唯一 ． 在 多级 服务台 系统 中 , 为 保证 w 尽量 小 , 最大 路径 上 的 各级 服务 要 一个 接 一个 进行 , 不能 有 任何时刻 中断 ． 
 　 　 由 极大 代数 方法 [ 2 ] , 不难 证明 
 　 　 定理 1 　 以 矩阵 T 描述 的 多级 服务台 系统 , 总 服务 时间 w 等于 T 矩阵 中 最大 路径 的 权 ． 
 　 　 为了 方便 地求 出 T 的 最大 路径 及其 权 , 还 可以 建立 以下 几种 类型 的 矩阵 图 : 
 　 　 第 1 型 　 以 矩阵 T ( 1 ) 表示 , 其 元素 为 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 1 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 2 ) 
 对 其它 的 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 3 ) 
 
 　 　 这时 总 服务 时间 
 　 　 从 出发 , 找出 上方 或 左方 元素 中 较大 的 一个 , 用 短线 连 上 , 这样 依次 连 到 , 就 可以 找到 最大 路径 ． 如果 在 某 一点 , 上方 与 左方 数值 相同 , 则 要 都 连 上 , 这时 系统 的 最大 路径 不止 一条 , 但 它们 的 权 是 一样 的 ． 
 　 　 第 2 型 　 由 对称性 , 亦可 从 右下角 开始 , 令 , 然后 向 上方 与 向 左方 依次 计算 , 每个 等于 的 值 与 中 较大 一个 相加 的 和 , 这样 加 到 左上角 , 所得 的 t ( 2 ) 11 就是 总 服务 时间 w ． 
 　 　 第 3 型 　 将 矩阵 T 的 元素 分割 成 T1 与 T2 两个 部分 , 左 上 部分 为 T1 , 右 下 部分 为 T2 , 使得 如果 有 T 中 元素 则 tij ∈ T1 ( i ≤ k , j ≤ l ) ; 如果 tgh ∈ T2 , 则 tij ∈ T2 ( i ≥ g , i ≥ h ) ． 对 T1 部分 用 第 1 型 计算 , T2 部分 用 第 2 型 计算 , 那么 在 T1T2 分割线 旁 相邻 两个 元素 和 的 最大值 就是 总 服务 时间 w ． 
 　 　 常见 的 分割 方法 是 将 T 的 前 几列 划为 T1 , 其余 的 列划 为 T2 , 在 分割线 左边 一列 的 元素 为 A1 , A2 , … , An , 分割线 右边 一列 元素 为 B1 , B2 , … , Bn , 则 
 　 　 第 4 型 　 当 把 矩阵 T 按 第 3 型 方式 写 成为 
 后 , 我们 令 a1 = A1 , a2 = A2 - A1 , … , an = An - An - 1 ; bn = Bn , bn - 1 = Bn - 1 - Bn , … , b1 = B2 - B1 , 由此 可 得到 一个 n × 2 型 矩阵 T ( 4 ) , 总 服务 时间 W 为 a1 到 bn 的 最大 路径 的 权 ． 
 　 　 第 5 型   以 第 3 型 方式 将 矩阵 T 左边 n 列划 为 T1 区 , 用 1 型 表示 , 把 T 的 右边 数列 划为 T2 区 , 用 2 型 表示 , 但 中间 保留 几列 未划 在 T1 或 T2 之中 , 仍用 tij 表示 , 记作 T0 区 , 这时 的 路径 是从 T1 区 边界 上 的 某个 元素 Ai 开始 , 经过 T0 区 的 某些 元素 , 到达 T2 区 边界 的 元素 Bj ( i ≤ j ) , 路径 的 权 是 这些 元素 相加 , 其 最大值 就是 总 服务 时间 w ． 
 　 　 第 6 型 　 将 第 5 型 中 T1 与 T2 的 边界 元素 用 第 4 型 的 方式 加以 处理 , 和 T0 区 ( 设有 c 列 ) 的 元素 一起 , 可 将 矩阵 T 化为 一个 n × ( 2 + c ) 阶 的 0 型 矩阵 ． 
 　 　 3 　 微观 优化 策略 
 　 　 设 多级 服务台 系统 0 型 矩阵 为 [ tij ] , 单位 量 的 投资 可以 使 第 j 个 服务台 的 效率 提高 η j , 就是 使 T 阵中 第 j 列 元素 的 值 都 减少 tij . η j ． 现在 投入 少量 资金 ε , 没有 引起 最大 路径 的 变化 , 这时 的 最佳 投资 方法 称为 微观 优化 策略 ． 
 　 　 3.1 　 最大 路径 唯一 的 情况 
 　 　 设 矩阵 T 只有 一条 最大 路径 R , 它 的 权为 r , R 经过 T 阵 第 j 列 的 各 元素 的 和 为 rj ( j = 1 , 2 , … m ) , 则 Σ rj = r ． 令 Sj = rj η j , 如有 第 k 列 存在 , 使得 Sk > Sj ( j ≠ k ) , 那么 k 列 就是 首先 应该 改善 的 服务台 , 这时 投入 资金 ε , 可 使 系统 缩短 服务 时间 △ W = Sk . ε , 定义 系统 的 投资 效益 , 可知 这时 ξ = Sk ． 
 　 　 若有 P 列 k1 , k2 , … , kp 的 投资 所 得到 的 Sk1 , Sk2 , … , Skp 相等 , 且 都 大于 其它 各列 的 Sj 值 , 应 同时 对 这 P 列 进行 投资 改善 , 且 对 各列 的 投资额 应 相等 , 以 保证 各 SK1 到 SKp 同步 改善 ． 
 　 　 3.2 　 最大 路径 不 唯一 的 情况 ． 
 　 　 矩阵 T 中 , 设有 q 条 路径 R ( 1 ) , R ( 2 ) , … , R ( q ) 都 是 权 等于 r 的 最大 路径 , 它们 经过 j 列 的 各 元素 的 和 分别 为 , 这些 和 与 单位 投资 效率 η j 相乘 的 值 为 不难 看到 , 如果 系统 建立 者 的 改善 方案 是 对 j 列 投资额 为 μ j ε , 这里 , 那么 路径 R ( 1 ) 缩短 了 , R ( 2 ) 缩短 了 最大 路径 的 减少 量 为 
 
 而 系统 的 最大 投资 效益 ξ 为 
 
 　 　 最优 投资 方案 ( μ 1 , μ 2 , … , μ m ) 的 选择 , 当 最大 路径 数 q = 2 时 , 可用 图解法 来 作 ． 
 　 　 在 两条 平行 的 纵 坐标轴 上 , 左轴标 上 的 值 , 右轴标 上 的 值 , 将 与 之间 用 线段 连结 , 凡 的 用 红线 , 否则 用 蓝线 ． 
 　 　 3.2 . 1 　 如果 有 一条 或 数条 红线 ( j1 , j2 , … , jp ) 位于 所有 蓝线 的 上方 ( 之间 无 交点 ) , 那么 最优 投资 策略 应是 取使 中 最大者 所 对应 的 列 jk ． 如果 有 两个 或 数个 相等 且 都 最大 , 则 应 平均分配 投资 这 几列 ． 
 　 　 如果 有 蓝线 位于 所有 红线 之上 , 类似 地 , 应 投资 于 这些 蓝线 中使 S \ + \ { ( 1 ) \ } 的 点 最大 的 列 ． 
 　 　 3.2 . 2 　 如果 没有 3.2 . 1 中 的 红线 或 蓝线 存在 , 则 比较 所有 的 红线 与 蓝线 的 交点 , 取其 纵坐标 最大 的 交点 , 不妨 设 这点 是 红线 与 蓝线 的 交点 , 交点 的 纵坐标 值为 ． 那么 当 系统 建立 者 对 j1 列 投资 ε μ j1 , 对 j2 列 投资 ε μ j2 , 且 当 二者 投资 的 比例 为 
 
 的 时候 , 所 提高 的 效率 达到 最大 , 为 
 
 　 　 4 　 宏观 优化 策略 
 　 　 当 投资额 很少 时 , 可用 上节 的 投资 策略 来 优化 多级 服务台 系统 ． 设 矩阵 T 的 最大 路径 R 经过 的 第 j 列 的 Sj 最大 , 对 第 j 个 服务台 投资 ε , 第 j 列 各 元素 都 减少 了 原来 的 倍 , 最大 路径 在 j 列 的 权 由 原来 的 γ j 减少 为 γ j - ε Sj = ( 1 - β j ) γ j ． 当 ε 逐渐 增大 到 一定 数值 时 , 最优 投资 策略 会 发生变化 ． 
 　 　 4.1 　 最大 路径 R 经过 的 路线 在 优化 中 不 改变 的 情况 ． 
 　 　 设 R 经过 第 j ' 列 的 Sj ' 为次 大 ( 小于 Sj 而 大于 其它 各列 ) ． 当对 j 列 投资额 ε 到 一定 数量 时 , 第 j 列 的 Sj 降为 ( 1 - β j ) Sj , 与 Sj ' 的 值 相等 , 这时 就要 改变 投资 策略 , 开始 对 j 列 与 j ' 列 同时 进行 投资 , 这 称为 策略 的 第一种 转折 , 其 转折点 的 条件 是 
 ( 1 - β j ) Sj = Sj ' 
 或 β j = 1 - Sj ' Sj 
 　 　 4.2 　 最大 路径 R 发生变化 的 情况 
 　 　 随着 最大 路径 R 的 权 逐渐 变小 , 系统 中将 出现 另 一条 路径 R ′ 也 会 成为 最大 路径 , 这时 最优 投资 策略 也 会 发生变化 , 称为 策略 的 第二种 转折 ． 
 　 　 设 微观 优化 的 列 是 第 j 列 , 我们 将 系统 写成 第 5 型 , 前 j - 1 列是 T1 区 , 从 j + 1 列起 是 T2 区 ． 这时 的 最大 路径 是从 Ai 经 tij 通过 j 列到 tkj 再 到 Bk 止 ． 权为 , 这里 M = Ai + Bk , 在 对 j 列 优化 的 过程 中 , M 是 不变 的 量 ． 
 　 　 系统 中 的 其它 路径 都 可 表示 为 Ap → Bq 的 形式 , 权为 ． 这里 M ′ = Ap + Bq , γ ′ j = ． 当对 j 服务台 投资 ε 时 , 这 条 路径 的 权 将 降为 M ′ + ( 1 - β j ) γ ′ j ． 因此 产生 第二种 转折 的 条件 是 
 
 或 
 这里 ． 不难看出 , 如 发生 第二种 转折 , 路径 R ' 的 必要条件 是 △ γ > △ M > 0 . 
 　 　 最后 , 把 建立 多级 服务台 系统 的 优化 策略 归纳如下 : 
 　 　 ( 1 ) 对系统 矩阵 图 , 求 出 最大 路径 ; ( 2 ) 找出 微观 优化 的 列 j ; ( 3 ) 找出 次优 列 j ' , 计算 ; ( 4 ) 列出 其它 M ' > M 的 路径 , 找出 ; ( 5 ) 对 j 级 服务台 进行 投资 优化 , 投资额 为 ; ( 6 ) 返回 1 , 进行 下 一步 最优 策略 的 计算 ． 
 国家 863 计划 和 福建省 自然科学 基金 资助 项目 
 作者简介 ： 郑应文 ， 男 ， 50 岁 ， 副研究员 ． 研究 领域 为 离散 事件 动态 对策 ， CIMS ， 控制 理论 在 农业 上 的 应用 等 ． 
 作者 单位 ： 福州大学 自动化 研究所 　 350002 
 参考文献 
 　 1 　 彭永进 等 ． 离散 事件 动态 系统 , 湖南 科学技术 出版社 , 长沙 , 1994 
 　 2 　 陈文德 等 ． 离散 事件 动态 系统 ( 极大 代数 法 ) , 科学出版社 , 北京 , 1994 
 1997 - 11 - 22 收稿 
