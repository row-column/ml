计算机 工程 
 COMPUTER   ENGINEERING 
 1999 年     第 25 卷   第 7 期   Vol.25   No.5   1999 
 
 
 
 Jasmine 在 网上 商场 中 的 应用 
 何武 
 摘要 　 Jasmine 是 纯 面积 对象 型 多媒体数据库 ， 它 采用 WebLink 工具 ， 实现 从 WWW 直接 对 Jasmine 数据库 中 动态 、 交互式 信息 的 存取 。 讨论 Jasmine 在 网上 商场 中 的 应用 。 
 关键词 　 模板 Weblink 开放 数据库 查询语言 
 Jasmine ’ s   Application   in   Online   Shopping 
 He   Wu 
 Est - China   Research   Institute   of   Computer   Technology   Shanghai   200233 
 Abstract ： Jasmine   is   and   object - oriented   multimedia   database . It   realizes   access   to   dynamic   and   interactive   information   in   Jasmine   database   by   WebLink   tool . The   article   discussed   Jasmine ' s   application   in   online   shopping 
 Key   words ： Template ; WebLink ; ODQL 
 　 　 近年来 , 随着 以 计算机网络 为 核心 的 信息技术 的 迅速 发展 及 国际 互连网 在 全球 的 日益 普及 和 应用 , 电子商务 已 成为 网络 技术 应用 新 的 发展 方向 。 电子商务 作为 一种 新型 的 商业模式 ， 必将 对 未来 商业 的 发展 产生 深远影响 。 网上 商场 就是 电子商务 的 典型 例子 ， 呈现出 蓬勃 的 发展前景 。 作者 前不久 参与 了 上海市 首家 网上 商场 购物 系统 的 设计 与 开发 ， 该 系统 采用 美国 CA 公司 最新 推出 的 面向对象 数据库 技术 Jasmine ， 利用 其 适合 开发 电子商务 应用环境 和 对 多媒体 数据 进行 有效 管理 的 特色 ， 通过 三维 虚拟空间 、 逼真 的 实物 模型 、 精美 的 图片 信息 ， 为 顾客 营造 了 一个 网上 购物 的 环境 。 顾客 足不出户 ， 在 家中 或 办公室 的 电脑 上 轻点 鼠标 ， 便 可 逛商场 、 选 商品 ， 进行 实时 的 网上 订购 并 由 商家 送货上门 。 
 1 　 Jasmine 介绍 
 　 　 Jasmine 是 CA 与 富士通 合作开发 的 第一套 可 在 Internet 和 客户 / 服务器 计算环境 中 创建 下一代 商业系统 的 纯 对象 解决方案 ， 它 为 开发商 提供 了 非常适合 动态 多媒体 应用 的 开发 环境 。 Jasmine 带有 用于 创建 和 管理 图形 、 动画 、 声音 、 时间 序列 、 全球 定位 坐标 和 全 动态 影象 等 复杂 数据 的 综合类 库 ， 用户 可以 利用 它 连接 企业 数据 ， 构建 电子商务 应用 等 。 
 　 　 Jasmine 采用 纯粹 的 面向对象 技术 ， 可以 存储 多种 数据类型 ， 包括 图形 图象 、 文本 、 声音 、 视频 片段 等 多媒体 数据 ， 并且 对 各类 数据 的 处理 方法 也 与 相应 的 数据 相关联 ， 因而 数据库 的 建立 和 维护 都 非常 方便 。 由于 用 Jasmine 构筑 的 应用 具有 真正 的 面向对象 的 特征 ， 因此 它 不仅 易于 增强 和 易于 添加 新 特性 ， 而且 以后 的 维护 也 将 更 简单 。 基于 Jasmine 的 Web 应用 被 建造 在 一个 安全 的 、 强大 的 、 分布式 的 和 规模 可变 的 架构 上 。 
 　 　 作为 面向对象 数据库 ， Jasmine 数据库 的 设计 和 创建 采用 的 是 面向对象 的 设计 方法 ( Object - Oriented   Design   , OOD ) 。 在 Jasmine 应用 开发 中 , 很多 地方 都 有 OOD 的 杰作 ， 特别 是 其中 的 类 和 继承性 。 过程 如下 ： 
 　 　 1 )   确定 类   在 对 确定 的 主要 商业 对象 进行 需求 分析 时 ， 利用 抽象 和 分解 的 方法 来 确定 Jasmine 类 。 例如 该 购物 系统 确定 了 商品 、 服装 、 西服 、 食品 、 家电 等 类 。 
 　 　 2 )   定义 类 层次 关系     类 被 组织 为 层次 关系 以 表示 具有 特殊性 和 一般性 的 自然 关系 。 层次 越低 越 具有 特殊性 。 位于 一个 类 上层 的 类 称为 该类 的 超类 ， 位于 一个 类 下层 的 类 称为 该类 的 子类 。 直接 位于 一个 给定 类 上层 的 类 称为 该类 的 直接 超类 ， 直接 位于 一个 给定 类 下层 的 类 称为 该类 的 直接 子类 。 例如 商品 类 是 服装 等 其它 所有 类 的 超类 ， 服装 等 其它 所有 类 是 商品 类 的 子类 ； 服装类 是 西服 类 的 直接 超类 ， 西服 类 是 服装类 的 直接 子类 。 
 　 　 3 )   定义 属性   在 定义 属性 时 ， 应当 充分利用 继承性 。 比如 商品 类 定义 有 品名 、 品牌 等 属性 ， 服装类 则 只 需要 定义 颜色 、 材料 等 商品 类 所 没有 定义 的 属性 ， 品名 、 品牌 等 属性 已经 自动 继承 了 。 原因 在于 服装类 是 商品 类 的 子类 ， 子类 自动 继承 父类 的 属性 。 
 2 　 WebLink 介绍 
 　 　 WebLink 是 一种 工具 ， 它 是 Internet 与 Jasmine 数据库 之间 的 接口 。 通过 使用 WebLink ， 能 用 客户端 的 浏览器 在 Internet 上 访问 存储 在 Jasmine 数据库 中 的 信息 ， 包括 多媒体 数据 。 WebLink 能够 创建 HTML 文件 ， 该 文件 的 数据 取自 于 Jasmine 数据库 。 当该 数据库 中 的 数据 变化 时 ， HTML 文件 中 的 数据 也 随之 自动更新 。 我们 把 这种 设计 用来 包含 数据库 中 输出 数据 的 HTML 文件 叫做 模板 。 
 
 图 1   WebLink 与 Internet 和 Jasmine 的 连接 
 　 　 WebLink 支持 以下 的 功能 来 连接 WWW 浏览器 与 Jasmine 数据库 ： 
 　 　 · 访问 数据库   WebLink 使用 包含 在 模板 中 的 ODQL ( Open   Database   Query   Language - - Jasmine 提供 的 数据库 编程语言 ) 命令 来 访问 本地 和 远程 的 Jasmine 数据库 。 这些 命令 可以 是 查询 、 修改 ， 以及 其它 的 数据库 操作 。 
 　 　 · 显示 查询 结果   WebLink 的 模板 被 存储 在 Jasmine 数据库 中 , 通过 ODQL 语句 从 Jasmine 数据库 中 检索 数据 。 
 　 　 · 管理 数据库 流程   流程 是 指 来自 同一个 浏览器 的 一系列 信息 。 通过 执行 一个 WebLink 命令 , WebLink 流程 被 激活 。 一旦 被 激活 ， WebLink 流程 就 能够 连续 地 接收 查询 请求 ， 直到 数据库 的 流程 被 关闭 。 
 　 　 应用 模板 是 WebLink 应用 开发 的 一大 特色 。 使用 模板 可以 节省 大量 的 开发 时间 和 调试 时间 。 借助于 模板 ， 可以 方便 地 进一步 定制 所 需 的 应用 。 WebLink 考虑 了 Web 环境 的 需要 , 提供 了 一个 实例 ， 其中 包括 了 一些 简单 的 模板 ， 对 用户 很 有 帮助 。 用户 可以 参照 设计 。 一般 采取 以下 方法 ： 
 　 　 在 操作系统 中以 文本文件 的 形式 来 开发 模板 。 在 使用 一个 模板 之前 ， 必须 先 把 该 模板 存储 在 WebLink 对象 数据库 中 。 通过 使用 createTemplate ( ) 这个 方法 来 实现 。 注意 ， 每次 创建 或 修改 一个 模板 ， 都 必须 执行 这个 方法 。 每个 模板 都 有 唯一 的 名字 。 必须 为 每 一个 包含 数据库 信息 的 HTML 输出 页 都 定义 一个 模板 。 
 　 　 WebLink 中 常用 的 命令 有 以下 几个 ： 
 　 　 odb _ login 命令 用来 连接 数据库 。 
 　 　 odb _ get 命令 用来 对 数据库 进行 查询 ， 显示 Jasmine 数据库 中 的 对象 。 它 具有 返回 多 结果 集 的 能力 。 
 　 　 odb _ logout 命令 用来 关闭 数据库 连接 。 
 　 　 WebLink 具体 工作 过程 如下 ： 
 　 　 1 )   首先 用户 在 客户机 的 浏览器 上 发出请求 。 请求 命令 嵌 在 客户端 的 HTML 文本 中 。 该 请求 通过 使用 HTTP 协议 被 传送 到 Web 服务器 上 的 WebLink 。 
 　 　 2 )   WebLink 收到 请求 后 ， 将 查询 提交 给 Jasmine 数据库 服务器 。 查询 命令 用 的 是 ODQL 语言 。 
 　 　 3 )   查询 返回 结果 替代 指定 模板 中 的 < ! Replace > 标记 ， 从而 使 模板 能 显示 数据库 数据 。 
 　 　 4 )   带有 最终 数据 的 HTML 文件 送回 用户 的 浏览器 。 像 其它 的 HTML 文件 一样 ， 浏览器 把 符合 查询 条件 的 数据库 中 的 数据 在 屏幕 上 显示 出来 。 
 3 　 网上 商场 购物 系统 
 　 　 ( 1 ) 系统 运行 环境 
 　 　 服务器端 软件 环境 为 ： 
 　 　 · 操作系统 : Windows   NT   4.0 
 　 　 · 数据库 管理系统 ： Jasmine   1.2 
 　 　 · Web 服务器 ： IIS3.0 
 　 　 · 数据库 模板 ： 用 ODQL 、 HTML 语言 编写 
 　 　 硬件 环境 为 ： 华胜 Pentium / 350 
 　 　 ( 2 ) 网上 商场 购物 系统 的 运行 
 　 　 用 鼠标 点取 商品 图标 ， 或 输入 查询 条件 执行 ， 获得 输出 界面 。 有 兴趣 者 ， 可 访问 网址 URL : http : / / billion . commerce . sh . cn 。 
 作者简介 ： 何武   男 ， 23 岁 ， 助理 工程师 ， 主攻 方向 ； 分布式计算 、 系统管理 和 数据库 
 作者 单位 ： 华东 计算机 研究所 总体 预研 部 上海 200233 
 参考文献 
 1 　 Jasmine   Reference . CA 公司 , 1998 
 2 　 WebLink   Manual . CA 公司 , 1998 
 收稿 日期 ： 1998 - 12 - 17 
