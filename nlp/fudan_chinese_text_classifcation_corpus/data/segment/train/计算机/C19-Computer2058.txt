计算机 工程 
 COMPUTER   ENGINEERING   
 1999 年   第 25 卷   第 5 期   Vol.25   No.5   1999 
 
 
 
 非对称 数据 广播系统 的 研究 与 应用 
 王普   刘斌   戴 琼海   张 大力 
 摘要   随着 Internet 的 高速 发展 , 现有 的 服务 方式 无法 满足 大众 对 住处 的 需求 . 为了 解决 这个 问题 , 提出 了 非对称 数据 推送 的 概念 , 利用 宽带 , 高速 的 数据 CATV 下行 通路 , 把 各种 组织 好 的 数学 多媒体信息 单向 广播 到 用户 的 计算机 , 同时 得 用 窄带 的 PSTN 上行 通路 回传 用户 的 反馈 信息 . 在 此 理论 基础 上 开发 了 基于 CATV 的 数字 多媒体 广播系统 , 系统 彩 了 加权 编码 传输 方法 以 提高 运行 效果 . 
 关键词   非对称 数据 推送   数字 多媒体 广播系统   加权 编码 传输 
 Research   and   Application   on   Asymmetric   Data   Broadcasting   System   
 Wang   Pu   Liu   Bin   Dai   Qionghai   Zhang   Dai   
 ( Guangdong - Nanhai - Rsinghua   Information   Industry   R & D   Center , Tsinghua   University   Beijing   100084 ) 
 [ Abstract ]   With   the   high - speed   development   of   Internet   , current   service   can ' tsaisfy   people ' s   increasing   needs   of   information . In   order   to   solve   this   problem   , this   paper   brings   forward   the   conception   of   Asymmetric   Data   Pushing ( ADP ) . Organized   digital   multimedia   inrfornationis   sent   to   clients ' computers   through   broadband   downstream   CATV   channels . And   the   clients ' requests   are   transmitted   back   through   narrow - band   upstream   PSTM . We   develop   a   digital   multimedia   broadcasting   system   based   on   CATV . Priority   Encoding   Transmission ( PET ) is   adopted   in   the   system   to   increase   performance   quality . 
 [ Key   words ]   Asymmetric   data   pushing ; Digital   multimedia   information   broadcasting   system ; Priority   encoding   transmission 
 　 　 进入 90 年代 ， Internet 在 中国 迅速 普及 ， 其中 的 WWW 网 更是 飞速发展 。 WWW 网上 有 数以亿计 的 主页 ， 并 以 极快 的 速度 不断 增加 和 变化 , 它 给 人们 带来 了 形式多样 的 媒体 信息 和 服务 ， 逐渐 成为 当今社会 人们 获取信息 的 重要途径 。 现在 家庭 上网 大多 采用 拨号 方式 ， 这种 方式 的 主要 缺陷 就是 信道 拥塞 ， 信息 流通 经常 受阻 ， 为此 人们 提出 了 多种 方案 如 高速 Modem 等 ， 但 效果 都 不 甚 理想 。 
 　 　 随着 宽带 网络 、 多媒体技术 的 日益 成熟 ， 人们 逐渐 认识 到 ， 宽带网 能够 提供 足够 的 带宽 ， 具有 广阔 的 前景 。 国内 目前 的 有线电视 资源 非常 丰富 ， 全国 有近 3000 家 有线电视 台 ， 7500 万 用户 。 网络 的 发展 应该 充分利用 国内 的 CATV 资源 ， 以 光纤 同轴电缆 作为 传输 媒介 ， 利用 其 高速 下行 通道 ， 采用 数据 广播 的 形式 向 用户 提供 信息 服务 ， 以 满足 大众 日益增长 的 信息 需求 。 本文 提出 了 非对称 数据 推送 ( ADP ) 的 概念 ， 在 此基础 上 开发 了 基于 CATV 的 数字 多媒体 广播系统 。 
 1   系统结构 及 功能 
 　 　 非对称 数据 推送 是 Internet 的 高速 接入 方案 ， 考虑 到 双向 CATV 造价 昂贵 以及 上行 频带 很难 避免 噪声 干扰 ， 所以 把 广播 网络 设计 成 CATV + PSTN 的 非对称 网络 。 利用 宽带 、 高速 的 数据 下行 通路 把 各种 经过 挑选 的 、 组织 好 的 多媒体 数据 信息 单向 广播 到 用户 的 计算机 ， 用户 可以 在 进行 数据 接受 后 ， 直接 浏览 信息 或 将 数据 存入 硬盘 后 浏览 ， 同时 通过 PSTN 进行 上行 信息 回传 。 
 　 　 基于 ADP 的 数字 多媒体 广播系统 ( Digital   Multimedia   Information   Broadcasting   System ) 的 基本 构成 为 ： ( 1 ) 下行 数据 广播 通道 与 上行 交互 通道 ； ( 2 ) 高速 互联 服务器 群 ； ( 3 ) 支持 Internet 的 服务器 及 客户端 软件 。 
 　 　 数字 多媒体 广播系统 的 主要 模块 和 功能 如下 ： ( 1 ) 服务端 信息 组织 模块 用于 资源 组织 ， 资源 注册 ， 资源 编排 ； ( 2 ) 服务端 信息 发送 模块 用于 信息 的 发送 ； ( 3 ) 客户端 信息 接收 模块 用于 信息 接收 和 信息 筛选 ； ( 4 ) 底层 硬件 传输 与 接收 设备 ( 包括 发送 卡 ， 接收 卡 ， 传输 通路 ) 。 
 　 　 服务器端 完成 资源 的 组织 、 注册 和 编排 后 ， 底层 模块 根据 资源 发送 表 找到 待 发送 的 资源 目录 ， 将 其 做成 广播 包 ， 利用 CATV 电缆 进行 数据传输 ； 客户端 硬件 层 接收 通过 有线电视 的 频道 发来 的 广播 包 ， 对 数据 进行 解调 和 软件 纠错 与 筛选 ， 从而 恢复 出 资源 数据 。 用户 的 特殊 信息 要求 可以 通过 电话 通道 回传 ， 由 专门 负责 信息 组织 的 服务器进行 处理 。 
 　 　 数据 多媒体 广播系统 网络图 可以 用图 1 表示 。 
 
 图 1   数据 广播系统 网络图 
 　 　 采用 本 系统 ， 可以 为 用户 提供 以下 服务 ： ( 1 ) 新闻广播 ； ( 2 ) Internet 信息 的 快速 浏览 ； ( 3 ) 股票 信息 等 实时 数据 信息 的 接收 ； ( 4 ) NVOD 。 
 2   系统 实现 的 关键技术 
 　 　 与 传统 的 Internet " 点对点 " 传输 机制 不同 ， 数字 多媒体 广播系统 采用 了 " 一点 对 多点 " 的 发送 机制 ， 使 每个 用户 平等 地 共享 带宽 ， 信息 代理 机制 ， 信息 发送 机制 和 信息 接收 机制 使 人们 方便 快速 地 获取信息 。 
 　 　 系统 借用 了 电视 技术 的 一些 概念 ： ( 1 ) 节目 是 指 一些 相互 关联 的 、 包含 多媒体信息 的 文件 或 文件夹 ； ( 2 ) 子 频道 是 一组 内容 相近 的 节目 的 集合 ； ( 3 ) 频道 是 属于 同一 主题 的 子 频道 的 集合 ； ( 4 ) 节目单 是 指 一组 从 资源 数据库 中 挑选 的 节目 提要 。 
 　 　 它们 的 相互 关系 如图 2 所示 。 
 
 图 2   术语 及其 关系 
 2.1   信息 代理 机制 
 　 　 WWW 网是 一个 复杂 的 开放式 分布 系统 ， 因此 网上 的 信息 组织 比较 杂乱 ， 对于 没有 丰富 使用 经验 的 用户 ， 想 在 这个 信息 海洋 中 找到 自己 感兴趣 的 信息 是 极其 困难 的 。 利用 信息 代理 机制 ， 由 信息 代理 者 对 网上 大量 的 无序 信息 进行 整理 ， 提供 符合 用户 需求 的 信息 资源 ， 可以 解决 上述 矛盾 。 
 　 　 ( 1 ) 资源 组织     资源 组织 是 系统 能否 被 认同 的 关键 ， 资源 可以 从 Internet 下载 ， 可以 由 ISP 等 信息源 提供 ， 也 可以 专门 制作 ， 数据 多媒体 广播系统 包含 新闻 制作 、 天气预报 、 航班信息 、 商品信息 和 租房 信息 子系统 。 信息库 内 信息 最终 应 有效 合法 ， 信息 组织 完毕 ， 要 经过 节目 审查 才能 进行 广播 。 
 　 　 在 资源 收集 方面 ， 系统 采用 了 基于 分布式 数据库 和 信息 智能 搜索引擎 的 网络 导航系统 ， 实现 了 信息 收集 的 智能化 。 智能 搜索引擎 的 结构 如图 3 所示 。 
 
 图 3   智能 搜索引擎 
 　 　 ( 2 ) 信息管理   系统 具有 完善 的 信息库 管理机制 ， 包括 建立 资源 数据库 ， 进行 资源 注册 和 编排 等 。 组织 好 的 资源 存放 在 服务器 上 ， 并且 必须 在 服务器资源 数据库 中 进行 注册 ， 资源 数据库 存有 所有 资源 的 详细 内容 、 存放 位置 等 ， 发送 资源 表 包括 发送 的 资源 资料 。 
 　 　 系统 中 最 重要 的 部分 就是 节目 广播 。 将 所有 节目 划分 为 若干 频道 ， 如 " 天气预报 " 、 " 股票行情 " 、 " 娱乐 休闲 " 、 " 体育 沙龙 " 等 。 每个 频道 又 可 分为 若干 子 频道 ， 例如 " 天气预报 " 频道 由 " 本地 天气预报 " 、 " 国内 主要 城市 天气预报 " 、 " 世界 主要 城市 天气预报 " 3 个子 频道 组成 。 服务器端 将 每天 的 节目 内容摘要 整理 成 节目单 发送给 用户 ， 由 用户 选择 需要 的 节目 。 
 2.2   信息 发送 机制 
 　 　 服务器端 的 发送 控制 调用 底层 发送 模块 进行 资源 的 发送 ， 完成 节目单 的 发送 和 相应 节目 的 发送 ， 它 可以 对 多个 节目单 进行 发送 控制 ； 还 可以 发送 实时 的 信息 ， 在 客户端 显示信息 窗口 ， 以 满足 通知 、 广告 等 实时性 信息 的 需要 。 
 　 　 ( 1 ) 多点 传输         数字 多媒体 广播系统 的 广播 机制 ， 在 底层 主要 使用 IP / Multicast [ 1 - 2 ] 协议 。 
 　 　 IP / Multicast 协议 其 内容 包括 多点 发送 的 组 地址 分配 和 IGMP 组 管理 协议 两 部分 ： 
 　 　 1 ) Internet 的 多点 发送 地址 为 IP地址 的 D 类 地址 ， 其 地址 最高 4 位为 " 1110 " ， 范围 为 224.0 . 0.0   239.255 . 255.255 。 D 类 地址 与 一般 IP地址 不同 的 ， 它 并 不 对应 着 固定 的 主机 或 网络接口 ， 而是 对应 一个 动态变化 的 主 机组 ， 这个 组内 的 每 一台 主机 都 有 其 自身 的 IP地址 。 
 　 　 2 ) IGMP 协议 与 ICMP 协议 类似 ， 是 利用 IP 数据 报 传送 报文 ， 完成 辅助 控制 功能 的 协议 。 其 核心 就是 组 的 管理 。 主机 可以 通过 IGMP 报文 来 加入 或 退出 某个 主 机组 。 
 　 　 ( 2 ) 发送 策略   为了 提高 系统 的 性能 ， 我们 在 发送 模块 中 采用 以下 发送 策略 ： 
 　 　 1 ) 某 节目 根目录 下 的 文件 与 根目录 下 的 文件夹 及子 文件夹 相比 ， 应 优先 发送 、 多次 发送 ， 因此 根目录 下 的 文件 应 尽量 小 。 
 　 　 2 ) 节目 一般 由 名为 Index . html 的 文件 作为 起始页 ， 它 位于 资源 所在 根目录 下 ， 由于 用户 首先 看到 的 是 节目 的 起始页 ， 制作 应 较为 生动 ， 但 这会 导致 起始页 数据量 偏 大 ， 系统 采用 的 方法 是 把 Index . html 做成 欢迎 主页 ， 并 包含 多个 资源 链接 ， 用户 根据 自己 的 爱好 ， 选择 不同 的 信息 进行 浏览 。 
 　 　 3 ) 按 节目 的 大小 及 重要性 确定 发送 顺序 ， 如 基本 相当 ， 则 进行 分 时 发送 。 
 2.3   信息 接收 机制 
 　 　 用户 根据 自己 的 需要 定购 一组 频道 ， 就 可以 接受 该组 频道 的 信息 服务 。 系统 经营者 根据 用户 接收 的 信息量 收取 费用 。 节目 采用 WWW 网 的 主页 文件格式 ， 具有 良好 的 多媒体 表现 效果 ， 超链接 功能 使得 人们 在 浏览 信息 的 时候 可以 自由 跳转 ， 迅速 找到 感兴趣 的 主题 。 用户端 节目 浏览 软件 集成 了 各种 多媒体 节目 浏览 工具 ， 能够 解释 超文本 、 音频 、 视频 等 。 
 　 　 ( 1 ) 容错 机制         由于 本 系统 的 底层 采用 IP / Multicast 机制 ， 而 IP 数据 报 又 不 保证 数据传输 的 可靠性 ， 因此 数据 的 容错 就是 一个 关键问题 。 考虑 到 多媒体信息 数据量 较大 ， 系统 采用 了 加权 编码 的 方案 来 提高 数据传输 的 可靠性 。 
 　 　 加权 编码 传输 ( PET ) [ 3 ] 是 一种 在 不 可靠 网络 中 传输数据 的 新 方法 ， 可以 有效 地 解决 丢包 问题 。 其 定义 如下 ： 
 　 　 一个 PET 系统 由 以下 部分 组成 ： 
 　 　 1 ) 编码 函数 E 把 长度 为 m 的 数据 M 映射 为 E ( M ) ， 其 总长 ε ， 包长 l ， 包数 n ， 有 ε = nl ； 
 　 　 ( 2 ) 解码 函数 D 把 一套 最多 n 个 数据包 映射 为 m 个 字 ； 
 　 　 ( 3 ) 优先权 函数 ρ 把 { 1 , … , m } 映射 为 区间 ( 0 , 1 ] 。 
 　 　 其中 数据 长度 为 m ， 数据包 长为 l ， 数据包 数为 n ， 编码 长度 为 ε = nl 
 　 　 传输 信息 之前 首先 指定 数据 各 部分 的 加权 值 ， 在 不同 加权 值 的 基础 上 ， 服务器端 软件 通过 编码 把 数据 打成 数据包 后 再 发送给 用户 ， 数据 各 部分 的 加权 值 决定 了 不同 编码数据 包 在 进行 信息 恢复 时所 需要 的 数量 。 每个 接收者 只要 收到 足够 的 数据包 ， 即使 部分 数据包 在 发送 过程 中 丢失 ， 仍能 恢复 出 原始数据 。 
 　 　 ( 2 ) 两级 筛选   为了 节省 用户 的 时间 和 财力 ， 系统 的 客户端 软件 使用 了 两级 筛选 机制 ： 
 　 　 ( 1 ) 一级 筛选 ： 广播 的 多媒体信息 = > 用户 定制 信息 
 　 　 利用 CATV 信道 可 向 用户 传输 大量 多媒体信息 ， 而 每个 用户 只会 关心 其中 的 部分 信息 ， 因此 需要 引入 一级 筛选 机制 。 用户 可以 根据 自己 的 爱好 预定 自己 的 节目 ， 系统 根据 用户 定制 ， 自动 在 高速 数据流 中 拦截 所 需 信息 存入 硬盘 。 
 　 　 ( 2 ) 二级 筛选 ： 用户 定制 信息 = > 用户 浏览 信息 
 　 　 用户 每天 阅读 的 信息 只是 下载 信息 的 一部分 ， 二级 筛选 机制 会 根据 用户 定制 将 不 看 的 信息 自动 地 从 硬盘 上 删除 或者 进行 保存 。 
 3   总结 
 　 　 与 传统 的 Internet " 点对点 " 传输 机制 不同 ， 数字 多媒体 广播系统 采用 非对称 数据 推送 机制 ， 使 每个 用户 平等 地 共享 带宽 ， 它 将 彻底改变 人们 信息 获取 方式 。 信息 代理 机制 ， 信息 发送 机制 和 信息 接收 机制 使 人们 方便 快速 地 获取信息 ， 这个 从远 找到 近 的 信息 获取 方式 也 是 数字 多媒体 广播系统 区别 于 其他 系统 的 关键所在 ， 它 实现 了 宽带 高速 网络 的 应用 ， 是 真正 面向 大众 的 网络服务 系统 ， 将 给 现有 的 信息产业 带来 新 的 飞跃 。 
 作者简介 : 王普   男 , 53 岁 , 副教授 , 主要 研究 方向 : 信息 理论 和 人工智能 . 
 作者 单位 : 广东 南海   清华 信息产业 发展 研究 中心 , 清华大学   北京 100084 
 参考文献 
 1   Deering   S .   Host   Extensions   for   IP   Multicast .   RFC1112 ， 1989 - 08 
 2   Peter   B   D . Flow   Control   for   Limited   Buffer   Multicast .   IEEE   Tran - sactions   on   Software       Engineering ， 1994 ， 20 ( 1 ) ： 1 - 11 
 3   Albanese   A ， Sudan   M . Priority   Encoding   Transmission . IEEE . Transactions   on   Information   Theory.1996 ， 42 ( 6 ) ： 1737 
 4   周 明天 ， 汪文勇 . TCP / IP 网络 原理 与 技术 . 北京 ： 清华大学出版社 ， 1993 - 12 
 收稿 日期 : 1998 - 07 - 14 
