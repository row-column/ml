信息 与 控制 
 INFORMATION   AND   CONTROL 
 1999 年   第 28 卷   第 2 期   Vol.28   No.2   1999 
 
 
 
 一类 新型 自 学习 控制器 及其 在 气动 
 伺服系统 中 的 应用 
 王淑莲 　 陆璐 　 史维祥 
 　 　 摘要 　 设计 了 一种 新 的 学习 控制 律 ， 它 通过 沿 学习 轴 递推 辨识 学习 增益 矩阵 以 改善 控制 效果 ， 并 分别 针对 连续 系统 及 离散系统 设计 了 学习 控制 律 ， 给出 了 相应 的 收敛性 证明 结果 ， 同时 考虑 了 系统 存在 噪声 干扰 及 初始 误差 不 为 零时 学习 控制器 收敛性 条件 ， 最后 把 它 用于 气动 伺服系统 位置 控制 ， 给出 了 相应 仿真 结果 ， 结果表明 本文 提出 的 控制算法 能 达到 很 高 控制精度 ． 
 　 　 关键词 　 学习 控制 ， 收敛性 ， 气动 伺服系统 
 A   NEW   LEARNING   CONTROLLER   AND   ITS   APPLICATION 
 TO   PNEUMATIC   SERVO   SYSTEM 
 WANG   Shulian 
 ( Department   of   Mechanical   Engineering ,   Shenyang   Architectural   and   Civil   Engineering   Institure ,   Shenyang   110015 ) 
 LU   Lu 　 SHI   Weixiang 
 ( Department   of   Mechanical   Electrical   Engineering , Xi ' an   Jiaotong   University ,   Xi ' an   710049 ) 
 　 　 Abstract 　 This   paper   presents   a   new   learning   control   law   which   can   obtain   learning   gain   matrices   from   a   recursive   identifier   alone   the   learning   axis .   The   controller   is   designed   respectively   in   continuous   and   discrete   time   dynamic   system ,   the   system   convergence   is   proved ,   and   it   is   spread   when   there   exists   disturbances   in   the   system   and   its   initial   error   isn ' t   zero   in   every   iteration .   Finally   it   is   applied   to   pneumatic   servo   control   system ,   the   simulation   results   show   its   validity . 
 　 　 Key   words 　 learning   control ,   convergence ,   pneumatic   servo   system 
 　 　 1 　 引言 
 　 　 近些年来 很多 学者 在 研究 迭代 学习 控制算法 [ 1 , 2 ] ， 迭代 学习 控制器 对于 处理 这样 一类 重复性 强 的 任务 是 一种 非常 有效 的 算法 ， 它 对系统 模型 参数 要求 不高 ， 它 根据 当前 的 系统 输入输出 对 下次 学习 的 输入 进行 调整 ． 目前 学习 算法 主要 采用 固定 学习 因子 ， 仅仅 根据 学习 误差 调整 控制 输入 ， 这样 学习 稳定性 与 收敛性 证明 充要条件 与 学习 因子 选取 有关 ， 而 学习 因子 选取 依赖 系统 参数 ， 当 系统 参数 不 知道 时 学习 算法 很难 保证 这些 条件 成立 ， 这 就 和 学习 控制 在 应用 时 假设 被控 对象 结构 与 参数 未知 形成 了 矛盾 ， 因此 必需 解决 在 实际 应用 中 判断 学习 稳定 与 修正 学习 增益 相 统一 的 算法 ． 文献 ［ 3 , 4 ］ 提出 了 在线 辨识 系统 参数 修正 学习 因子 的 方法 ． 该 算法 计算 量 大 ， 特别 是 当 不 知道 系统 阶次 和 时延 ， 这时 对系统 辨识 工作 将 很 困难 ， 同时 在 实际 系统 中 不可避免 地 存在 各种 扰动 ， 当 扰动 存在 时 如何 保证 辨识 精度 也 是 一个 值得 探讨 的 问题 ． 文献 ［ 5 , 6 ］ 提出 沿 学习 轴 辨识 学习 因子 的 方法 是 一条 选择 学习 因子 的 新思路 ， 但文 [ 5 ] 要求 系统 模型 必需 化为 Rossel 模型 ， 文 [ 6 ] 仅 对 连续 定常 线性系统 且 系数 矩阵 均 可逆 时 学习 控制 收敛性 才能 保证 ， 且 两者 都 没 考虑 系统 外来 干扰 ， 而 实际 过程 中外 来 干扰 是 不可避免 的 ． 本文 首先 在 考虑 外 在 干扰 时 对 连续 时间 系统 提出 一种 动态 辨识 学习 因子 的 新 算法 ， 它 不论 系统 阶次 如何 ， 仅 需 辨识 二个 学习 因子 矩阵 ， 且 该 辨识 过程 是 一个 沿 学习 轴 辨识 过程 ， 为了 计算机 实现 方便 ， 本文 同时 给出 离散系统 相应 的 学习 算法 ， 给出 了 该 学习 算法 收敛性 条件 ， 并 提出 了 一种 闭环 学习 算法 去 克服 系统 初始 误差 ， 最后 将 该 算法 用于 可 重复 运动 的 气动 伺服系统 位置 控制 ， 仿真 结果表明 该 算法 具有 跟踪 精度高 ， 收敛 速度 快 的 特点 ． 
 　 　 2 　 连续 系统 学习 控制器 设计 
 　 　 考虑 如下 连续 时间 动态 系统 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 1 ) 
 这里 x ( t ) ,   u ( t ) 分别 为 n * 1 维 状态 矢量 和 m * 1 维 控制 矢量 ， ξ ( t ) 为 n * 1 维 外部 干扰 ， 系统 矩阵 A ( t ) ,   B ( t ) ,   C ( t ) 满足 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 2 ) 
 这里 T 为 一次 学习 时间 ， N 为 正整数 ， 0 ≤ t ≤ T , 且 外部 干扰 （ 这里 j 为 学习 次数 ） ， 是 一有界 正常 数 ， ∞ 及 λ 范数 分别 定义 为 
 　 　 　 　 　 　 　 　 　 　 　 ( 3 ) 
 为 简化 起 见 ， 下面 用 A , B , C 来 代替 A ( t ) , B ( t ) , C ( t ) , 当 不 考虑 外部 干扰 时 由 ( 1 ) 知 
 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 4 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 5 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 6 ) 
 由 ( 4 ) , ( 5 ) , ( 6 ) 得 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 7 ) 
 这里 C + ， C + 分别 表示 B , C 的 广义 逆 ． 当 考虑 使用 如下 学习 控制 律 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 8 ) 
 将 ( 8 ) 写成 离散 形式 ， k1 ( i , j ) , k2 ( i , j ) 可 采用 如下 递推 算法 求 出 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 9 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 10 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 11 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 12 ) 
 由 递推 最小 二乘 得 增益 阵 k ( i , j ) 估计 为 
 　 　 　 　 　 　 　 　 　 　 　 　 ( 13 ) 
 　 　 评论 　 这种 递推 算法 不同于 一般 的 最小 方差 参数估计 ， 式 ( 13 ) 的 估计 是 沿 学习 轴 迭代 进行 的 ， 而 不是 通常 的 学习 轴 ， 所以 可以 不象 自 适应 算法 那样 在线 求解 估计值 ， 而是 在 两次 学习 间隔 上 离线 地 运算 ． 正 因为 这种 特点 ， 较为 复杂 的 递推 最小 二乘 的 运算 时间 对 控制 效果 没有 影响 ， 算法 可以 推广 到 运算 速度 较慢 的 微机 上 实现 ， 而且 在 这种 算法 基础 上 可 发展 出 更为 复杂 的 算法 ． 下面 定理 给出 了 该 学习 控制 律 收敛性 的 必要条件 ． 
 　 　 定理 1 　 考虑 ( 1 ) 式 的 线性 时变 系统 ， 若 满足 每次 迭代 初始 误差 为 0 ， ( 即 ej ( 0 ) = 0 ) ， 且 满足 ‖ I - CBk2 ‖ ∞ ＜ 1 ， 则 采用 ( 8 ) 式 学习 控制 律 将 保证 该 系统 输出 yj ( t ) 当 j → ∞ 时 收敛 于 yd ( t ) ． 
 　 　 证明 
 　 　 　 　 　 　 　 ( 14 ) 
 　 　 　 　 　 ( 15 ) 
 将 ( 15 ) 代入 ( 14 ) 得 
 　 　 　 ( 16 ) 
 上 式 两端 同乘 exp ( - λ t ) ， 再取 ‖ . ‖ λ 范数 得 
 　 　 ( 17 ) 
 当 ‖ I - CBk2 ‖ ∞ ＜ 1 ， 可取 足够 大 λ 使且 ‖ I - CBk2 由此 结合 ( 17 ) 得当 j → ∞ 时 ， ‖ ej ( t ) ‖ λ → 0 当 t ∈ [ 0 , T ] 成立 ， 即 系统 ( 1 ) 收敛 ． 且 由 ( 17 ) 知当 ‖ I - CBk2 ‖ ∞ = 0 即 k2 = ( CB ) - 1 ， 且 令 
 得 
 k1 = - B + AC + 
 由此 得当 k1 = - B + AC + ,   k2 = ( CB ) - 1 ， 时 系统 收敛 速度 最快 ． 
 　 　 推论 1 　 如果 外部 扰动 是 周期性 干扰 即 ζ j ( t ) = ζ j + 1 ( t ) , 0 ≤ t ≤ T 则 类似 上述 证明 可 很 方便 地 得到 ‖ ej ( . ) ‖ λ → 0 当 j → ∞ . 
 　 　 以上 是 针对 连续 系统 推导 的 学习 控制 律 ， 考虑 到 实际 控制系统 是 以 离散 形式 进行 控制 的 ， 则 可 把 上述 控制 律 推广 至 如下 离散 形式 ． 
 　 　 3 　 离散系统 学习 控制 律 的 设计 
 　 　 考虑 如下 离散 时间 动态 系统 
 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 18 ) 
 同样 满足 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 19 ) 
 则 有 如下 定理 成立 ． 
 　 　 定理 2 　 对 ( 18 ) 离散 时间 系统 采用 如下 学习 控制 律 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 20 ) 
 当 ‖ I - k2B ‖ ∞ ＜ 1 时 ， 该 系统 学习 误差 满足 , 即该 算法 收敛 ． 
 　 　 证明 
 　 　 ( 21 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 22 ) 
 　 　 　 ( 23 ) 
 将 上述 结果 写成 矩阵 形式 为 ( 0 ≤ i ≤ N ) 
 　 　 　 　 　 　 ( 24 ) 
 则 当 　 　 　 　 　 　 　 　 　 　 　 ( 25 ) 
 当 j → ∞ , Δ u ( j , i ) → 0 , 即 y ( j , i ) → yd ( i ) . 
 同理 当 k2 收敛 至 B + ( i ) ,   k1 收敛 至 - B + ( i ) A ( i ) 时该 系统 收敛 最快 ． 
 　 　 评论 　 该 算法 优越性 是 对系统 先验 知识 要求 不高 ， 无需 知道 系统 阶次 和 时延 ， 且 该 辨识 过程 沿 学习 轴 进行 ， 不需 在线 辨识 系统 参数 ． 由于 学习 过程 本质 上 是 一个 向 逆 系统 逼近 的 过程 ， 学习 因子 k1 ( j , i ) k2 ( j , i ) 中 包含 了 设定 轨迹 逆 动力学 系统 的 信息 ， 该 学习 控制器 不仅 可以 学习 某 一种 设定 轨迹 yd ( t ) ,   还 可以 在 此基础 上 较 快 地 学习 另 一种 相似 的 设定 轨迹 yd ( t ) ,   从而 表现 为 某种 类似 人类 的 智能 ． 
 　 　 以上 都 假设 系统 初始 误差 为 零 ， 当 系统 初始 误差 不 为 零时 下述 推论 保证 学习 控制 收敛性 ． 
 　 　 推论 2 　 同样 考虑 ( 18 ) 的 离散 时间 动态 系统 ， 当 初始 误差 不为 零 但 能 保证 渐进 趋于 零 （ 即 → 0 时 ) ， 采用 如下 的 学习 控制 律能 保证 学习 控制 收敛 ． 
 　 　 　 　 　 　 　 　 　 　 　 　 ( 26 ) 
 特别 地当 k1 , k2 , k3 辨识 结果 分别 收敛 至 - B + A , B + , B + A 时 ， 该 学习 过程 收敛 最快 ． 该 推论 证明 过程 与 定理 2 类似 ， 这里 从略 ． 
 　 　 评论 　 该 算法 提示 我们 当 系统 初始 误差 不为 零 但 能 渐近 趋于 零时 ， 该 学习 控制 律 是 成立 的 ， 这 在 实际 系统 中 可 认为 ( ε 是 一 给定 界限 ） ． 这时 可 保证系统 输出 跟踪 期望 输出 ， 它 不仅 用到 了 上 一次 学习 误差 ， 还 用到 了 本次 学习 误差 ， 因此 本质 上 它 是 一个 闭环 学习 过程 ， 这个 推论 收敛性 条件 与 定理 2 相比 放宽 了 ． 
 　 　 4 　 仿真 结果 
 　 　 这里 采用 如下 气动 伺服系统 模型 进行 仿真 ［ 7 ］ 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 27 ) 
 　 　 其中 a1 , a2 , a3 , b1 如图 1 , 2 所示 ． ( 注 ： 通常 阀 控缸 型 气动 伺服系统 最高 响应 频率 为 3 - 5HZ ， 本 实验 中 气动 伺服系统 主频 为 1.91 HZ ， 采样 周期 T 取为 0.06 s ) ． 图 3 ,   图 4 是 跟踪 三角 波 和 正弦 函数 仿真 曲线 ， 经过 6 次 学习 后能 较 好 跟踪 期望 曲线 ， 图 5 是 在 图 3 基础 上 ， 即当 实现 对 三角 波函数 完全 跟踪 时 ， 这 表明 k1 , k2 的 辨识 结果 已 收敛 于 系统 参数值 ， 这时 它 已 学会 系统 动力学 特性 ， 让 它 转而 跟踪 另 一 斜率 的 曲线 时 ， 经 一次 学习 后 即可 与 期望 曲线 完全 重合 ， 这时 学习 控制 的 智能性 被 充分体现 出来 ． 因此 对 可 重复 运动 的 场合 ， 学习 控制 的 意义 在于 ： 先 对系统 进行 学习 ， 以后 在 实际 运行 过程 中 把 学好 的 控制 量 直接 加 于 系统 ， 则 一次 即可 实现 对 期望 曲线 的 完全 跟踪 ， 这 充分体现 了 学习 控制 的 实用性 ． 图 6 是 采用 本 算法 ( 曲线 2 ) 和文 ［ 1 , 2 ］ 中 固定 学习 因子 的 PID 型 学习 算法 控制 效果 ( 曲线 1 ) 相对误差 曲线 比较 结果 ， 从图 6 可 看出 ， 本 算法 误差 减少 较 快 ( 相对误差 指标 为 
 为 学习 次数 ） ． 
 
 
 图 1 　 系统 参数 曲线 
 
 图 2 　 系统 参数 曲线 
 
 图 3 　 跟踪 三角 波 仿真 曲线 
 
 图 4 　 跟踪 正弦 仿真 曲线 
 
 图 5 　 变 斜率 跟踪 三角 波 仿真 曲线 
 
 图 6 　 相对误差 曲线 
 　 　 5 　 结论 
 　 　 本文 提出 这 类 二维 变 因子 自 学习 控制 律 ， 它 不 需 在线 辨识 系统 参数 ， 利用 学习 过程 是 一个 沿 时间轴 和 学习 轴 的 二维 过程 ， 采用 沿 学习 轴 动态 递推 辨识 以 修正 学习 矩阵 ， 分别 从 连续 域 和 离散 域 角度 给出 了 学习 过程 收敛性 条件 ， 并 考虑 在 存在 干扰 噪声 及 初始 误差 时 学习 控制 收敛性 条件 ， 同时 把 它 应用 于 模型 较为 复杂 的 气动 伺服系统 位置 控制 中 ， 仿真 结果表明 该 控制 律 具有 较 好 的 跟踪 精度 ， 这种 算法 不需 人为 固定 学习 因子 ， 在 满足 收敛性 条件 下 对 这类 具有 可重复性 运动 的 系统 具有 较为理想 的 控制 效果 ． 
 作者简介 ： 王淑莲 ， 女 , 54 岁 , 副教授 ， 硕士生 导师 . 研究 领域 为 电液 伺服系统 计算机控制 , 非 接触 检测 , 智能 控制 等 . 
 　 　 　 　 　 陆璐 ,   男 , 26 岁 , 博士生 .   研究 领域 为 非线性 控制 , 学习 控制 ，   智能 控制 等 . 
 　 　 　 　 　 史维祥 ,   男 , 69 岁 , 教授 , 博士生 导师 .   研究 领域 为 电液 伺服系统 计算机控制 ,   智能 控制 等 . 
 作者 单位 ： 王淑莲 ： 沈阳 建筑 工程学院 机械 工程系 　 沈阳 　 110015 
 　 　 　 　 　 陆璐 　 史维祥 ： 西安交通大学 机械 电子 工程系 　 西安 　 710049 
 参考文献 
 　 1 　 Arimoto   S ,   Kawamura   S , and   Miyazaki   F .   Bettering   Operations   of   Robots   by   Learning .   Journal   of   Robotic   Systems .   1984 ,   1 ( 2 ) : 123 ～ 140 
 　 2 　 Arimoto   S ,   Kawamura   S ,   Miyazaki   F , and   Tamaki   S .   Learning   Control   Theory   for   Dynamatic   Systems .   Proceedings   of   24th   Conference   on   Decision   and   Control .   December , 1985 
 　 3 　 Sang - Rok   oh ,   Zeungnam   Bien .   An   Iterative   Learning   Control   Method   with   Application   for   the   Robot   Manipulator . IEEE   Journal   of   Robotics ,   Automatic .   October ,   1988 , 4 ( 5 ) 
 　 4 　 Hwang   D   H ,   Z   Bien . S . - R . oh .   Iterative   Learning   Control   Method   for   Discrete - time   Dynamatic   Systems .   IEE   Proceeding .   1991 , 138 ( 2 ) 
 　 5 　 Zheng   Geng , Robet   Carrol   and   Jahong   Xie .   Two - - dimensional   Model   and   Algorithm   for   a   Class   of   Iterative   Learning   Control   Systems .   INT . J .   Control , 1990 , 52 ( 4 ) : 833 ～ 862 
 　 6 　 甘澄宇 .   智能 控制 理论 及其 在 压差 控制 中 的 应用 ， 西安交通大学 硕士论文 ， 1995 
 　 7 　 陆 　 璐 . 学习 控制 理论 及其 在 气动 伺服系统 中 的 应用 ， 西安交通大学 硕士论文 ， 1996 
 1998 - 09 - 28 收稿 
