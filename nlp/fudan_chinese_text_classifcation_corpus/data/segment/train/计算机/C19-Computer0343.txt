计算机 应用 
 COMPUTER   APPLICATIONS 
 1999 年   第 19 卷   第 9 期   Vol.19   No.9   1999 
 
 
 
 实现 渔业资源 评估 专家系统 的 一种 方法 
 谭宁 　 陆  史忠植 
 　 　 摘 　 要 　 本文 介绍 了 一种 用 计算机 专家系统 实现 我国 东海 渔业资源 评估 的 方法 。 这一 渔业资源 评估 专家系统 是 用 面向对象 的 知识 处理 系统 （ OKPS ） 构造 而成 。 OKPS 是 我们 自主 开发 的 一套 可视化 专家系统 工具 。 本文 着重 阐述 了 OKPS 系统 和 该 专家系统 的 原理 、 模型 选择 的 规则 、 专家 知识库 的 构造 与 实现 等 问题 。 
 　 　 关键词 　 专家系统 ,   知识 处理 ,   面向对象 ,   渔业资源 评估 
 AN   APPROACH   TO   IMPLEMENT   A   FISHERY   RESOURCE   
 ASSESSMENT   EXPERT   SYSTEM 
 Tan   Ning 　 Lu   Feng 　 
 Graduate   School ,   University   of   Science   and   Technology   of   China ,   Beijing   100080 
 Shi   Zhongzhi 
 Institute   of   Computering   Technology , Chinese   Academy   of   Sciences ,   Beijing   100080 
 　 　 Abstract 　 This   article   introduces   how   to   implement   computer   evaluation   of   fishery   resources   in   Chinese   East   Sea   by   using   an   expert   system .   This   expert   system   is   constructed   with   Object - oriented   Knowledge   Processing   System   ( OKPS ) ,   which   is   an   expert   system   tool   developed   by   us .   The   article   focuses   on   the   principles   of   OKPS   and   the   expert   system ,   rules   of   model   selection ,   structure   of   the   knowledge   base ,   and   so   on . 
 　 　 Keywords 　 Expert   system ,   Knowledge   processing ,   Object - oriented ,   Evaluation   of   fishery   resources 
 　 　 本文 所 讲述 的 渔业资源 评估 专家系统 ， 是 国家 863 项目 《 海洋渔业 遥感信息 服务 系统 技术 示范 试验 》 （ 课题 号 863 - 818 - 07 ） 中 03 子课题 的 一部分 。 
 　 　 该 863 项目 的 目标 任务 是 建立 具有 我国 自主 知识产权 的 ， 以 东海 渔区 （ 25 ° — 34 ° N ， 130 ° E 以西 海区 ) 为 示范 海区 ， 以 卫星 遥感 渔业 分析 技术 、 海洋渔业 服务 地理信息系统 技术 和 渔情 分析 专家系统 技术 为 支撑 的 海洋渔业 遥感信息 与 资源 评估 服务 系统 。 并 为 渔情 分析 专家系统 应用 于 海洋渔业 生产 管理 领域 提供 先进 实用 的 集成 平台 。 
 1 　 渔业资源 评估 专家系统 的 原理 
 　 　 渔业资源 评估 与 动态 预测 的 关键 是 根据 特定 目标 和 特定 海区 选择 最佳 的 评估 和 预测 模型 。 
 　 　 渔业资源 研究 分析 过程 通常 由 资料 收集 、 分析 计算 、 专家 评估 分析 、 最终 应用 目标 几个 部分 组成 。 渔业资源 评估 专家系统 的 工作 原理 是 ， 根据 现有 的 统计资料 （ 产量 、 渔获量 等 ） 、 鱼类 群体 生物学 参数 、 评估 的 需求 和 目标 ， 利用 专家系统 中 的 专家 知识 对模型 进行 选择 、 拟合 和 计算 ， 并 对模型 计算 的 结果 进行 判断 和 提供 必要 的 解释 。 
 　 　 该 专家系统 针对 不同 海区 的 主要 鱼种 （ 带鱼 、 鲐 鱼 、 马面 屯 ） 、 主要 渔汛 或 每年 的 资源量 、 最大 持续 产量 、 可捕量 进行 评估 和 预测 ， 结果 以 报表 或 图表 的 形式 提供 。 该 系统 由 专家 知识库 、 推理 系统 和 模型库 等 部分 构成 。 
 　 　 渔业资源 评估 专家系统 的 工作 流程 见图 1 ， 主要 分 以下 几个 过程 ： 
 
 
 图 1 　 渔业资源 评估 子系统 流程 
 　 　 .   数据 输入 。 人机对话 ， 对 现有 的 数据 的 类型 、 数量 、 质量 作 进一步 了解 和 分析 ， 并 输入 评估 的 需求 和 目标 。 
 　 　 .   系统 根据 专家 知识 ， 选择 合适 的 模型 进行 拟合 和 计算 。 
 　 　 .   输出 拟合 的 模型 及其 参数 ， 同时 输出 模型 计算结果 。 
 　 　 .   系统 利用 统计学 原理 和 专家 知识 对 拟合 的 模型 进行 验证 ， 对模型 计算结果 进行 分析判断 。 
 　 　 .   系统 根据 专家 知识 提出 资源 评估 结果 （ 包括 资源量 、 可捕量 等 ） ， 并 提出 相应 的 决策 建议 。 
 2 　 系统 设计 
 　 　 渔业资源 评估 专家系统 ， 是 应用 了 面向对象 知识 处理 系统 （ OKPS ） 工具 ， 自主 开发 的 可视化 专家系统 。 以下 作 简单 介绍 。 
 2.1 　 面向对象 知识 处理 系统 （ OKPS ） 
 　 　 这一 专家系统 工具 由 两 部分 组成 ： 知识 获取 和 管理工具 ， 以及 面向对象 推理机 。 知识 获取 和 管理工具 是 一个 可视化 的 知识库 构造 和 管理程序 。 用 这个 工具 构造 的 知识库 ， 可以 在 面向对象 推理机 中 访问 并 进行 推理 。 系统 的 主要 功能 和 特点 是 ： 
 　 　 采用 面向对象 的 知识 表示 方法 　 知识 表示 是 指用 计算机 表示 知识 的 可行 的 、 有效 的 、 通用 的 原则 和 方法 。 该 系统 将 框架 理论 和 语义 网络 相结合 ， 采用 面向对象 的 概念 和 技术 来 实现 知识 表示 。 一个 知识库 是 由 各种 对象 组成 的 树型 结构 。 这些 对象 对应 于树 中 的 结点 ， 它们 有 定义 自身 外观 的 属性 和 定义 自身 行为 的 方法 。 通过 设置 推理结点 的 属性 和 编写 实现 行为 的 方法 脚本 ， 可以 将 推理 的 规则 和 控制策略 与 对象 有机 的 结合 在 一起 。 
 　 　 可视化 的 知识 获取 和 管理 　 知识库 的 实现 建立 在 技术 成熟 的 数据库系统 之上 ， 通过 通用 接口 ， 知识库 可以 建立 在 任何 流行 的 数据库系统 之上 。 通过 专家系统 工具 中 的 可视化 知识 获取 和 管理工具 ， 知识 工程师 可以 方便 地 添加 、 删除 和 修改 专家 知识 ， 从而 高效 地 建立 、 扩展 和 维护 专家系统 的 知识库 。 
 　 　 推理 控制 语言 ICL 　 该 系统 采用 知识库 系统 和 推理 机制 相 分离 的 方式 来 构造 专家系统 。 这样 ， 构造 专家系统 时 ， 只 需要 改变 知识库 系统 中 的 知识 ， 就 可 实现 不同 的 专家系统 。 为了 提供 功能 足够 强大 的 推理 机制 ， 并 最大 限度 地 保持 灵活性 和 方便性 ， 系统 引入 了 一种 专用 的 高级 语言 ： 推理 控制 语言 ICL 。 用来 描述 和 操作 专家 知识 与 规则 ， 以及 控制 推理 过程 。 
 　 　 ICL 脚本语言 的 元素 包括 构成 ICL 脚本 的 名字 、 数字 、 和 字符 。 ICL 定义 了 如下 一些 符元 （ Token ） ： 标志 、 注释 、 关键字 、 标识符 和 常量 等 。 
 　 　 ICL 语句 控制 着 脚本 执行 流程 、 象 其他 的 编程语言 一样 ， 在 ICL 中有 几种 语句 可以 执行 循环 ， 选择 执行 其他 语句 或是 改变 控制 ， 这些 语句 包括 ： 复合 语句 、 do - while 语句 、 表达式 语句 、 for 语句 、 if - else 语句 、 空 ( null ) 语句 、 返回 ( return ) 语句 、 规则 ( rule ) 语句 和 while 语句 等 。 
 　 　 用户 还 可以 使用 功能强大 而 丰富 的 ICL 函数 。 这些 函数 包括 ： 控制台 输入 / 输出 、 数值 计算 、 字符串 操作 、 图形 / 图表 展示 、 黑板 存取 、 文件 操作 、 数据库 访问 、 网络通信 、 知识库 存取 、 推理 控制 以及 外部 调用 等等 。 
 　 　 ICL 中 的 数据 共有 4 种 类型 ： 整型 （ int ） ， 浮点 型 （ float ） ， 字符 型 （ char ） ， 字符串 型 （ string ） 。 
 　 　 面向对象 推理 机制 
 　 　 在 面向对象 推理机 中 ， 知识库 中 每个 对象 中 的 方法 将 按 一定 顺序 执行 。 每 一个 对象 可以 有 三个 方法 ： 先序 方法 ， 中序 方法 和 后序 方法 。 通过 知识 获取 和 管理工具 ， 你 可以 在 这 三种 方法 中 编写 推理 控制 语言 ( ICL ) 脚本 。 
 　 　 在 面向对象 推理机 中 ， 推理 过程 是 对 知识库 树型 结构 的 遍历 。 在 默认 控制 下 ， 这个 过程 从根 结点 开始 ， 树中 所有 结点 都 将 被 访问 。 
 　 　 默认 情况 下 ， 推理机 按 以下 方式 访问 结点 ： 
 访问 根 结点 。 
 　 　 对 正在 访问 的 结点 （ 假设 为 结点 A ） ： 
 　 　 对 A 执行 先序 方法 ； 
 如果 A 有 孩子 结点 ， 访问 它 的 第一个 孩子 ； 
 如果 A 的 第一个 孩子 结点 有 兄弟 结点 ， 对 每 一个 兄弟 ： 
 执行 A 的 中序 方法 ； 
 访问 兄弟 结点 。 
 执行 A 的 后序 方法 。 
 　 　 请 看 以下 例子 ， 树中 有 10 个 结点 ， 方法 执行 序列 为 ： 
 结点 1 :   先序 方法 　 结点 7 　 :   先序 方法 
 结点 2 :   先序 方法   结点 7   :   后序 方法 
 结点 3 :   先序 方法   结点 6   :   中序 方法 
 结点 3 :   后序 方法   结点 8   :   先序 方法 
 结点 2 :   中序 方法   结点 8   :   后序 方法 
 结点 4 :   先序 方法   结点 6   :   后序 方法 
 结点 4 :   后序 方法   结点 1   :   中序 方法 
 结点 2 :   中序 方法   结点 9   :   先序 方法 
 结点 5 :   先序 方法   结点 10 :   先序 方法 
 结点 5 :   后序 方法   结点 10 :   后序 方法 
 结点 2 :   后序 方法   结点 9   :   后序 方法 
 结点 1 :   中序 方法   结点 1   :   后序 方法 
 结点 6 :   先序 方法 
 
 2.2 　 系统结构 
 　 　 该 专家系统 的 总体 结构 可 分为 两 部分 ， 分别 对应 于 不同 层次 的 使用者 所 看到 的 系统 ， 如图 2 所示 。 知识 工程师 通过 知识 获取 工具 ， 对 知识库 中 各项 进行 操作 ， 包括 专家 知识 的 添加 、 删除 和 修改 。 具体 的 库 结构 、 库中 各个 表 之间 的 关系 对 知识 工程师 是 透明 的 。 
 
 a ) 知识 工程师 看到 的 系统 
 
 b ) 最终用户 看到 的 系统 
 图 2 　 专家系统 功能 结构 
 2.3 　 渔业资源 评估 模型 
 　 　 当前 国内外 常用 的 渔业资源 评估 的 经典 模型 有 ： 实际 种群 分析模型 （ VPA ） 、 Berverton - Holt 模型 、 Schaefer 和 Fox 模型 、 Leslie 模型 、 Delury 模型 、 生态 转换 模型 、 生长 参数 估算 模型 （ VON   BERTALANFFY 生长 方程 、 根据 体长 / 年龄 数据 估算 生长 参数 、 根据 体长 频率 估算 年龄 组成 ） 、 死亡 估算 模型 （ 总死亡率 估算 模型 、 自然 死亡率 估算 模型 ） 等 。 
 　 　 我们 根据 近 5 年 的 实践 ， 对 各种 模型 进行 检验 分析 ， 初步 选定 了 进行 绿鳍 马面 屯 、 带鱼 和 鲐 鱼 资源 评估 和 可捕量 预报 所 需要 的 模型 ， 如 多元回归 分析 、 实际 种群 分析 、 体长 股 分析 和 剩余 产量 模型 等 。 
 　 　 再 结合 国内 历年来 在 渔业资源 评估 方面 的 资料 ， 经过 适当 的 提炼 ， 可 得到 专家系统 所 需 的 有关 渔业资源 评估 方面 的 专家 知识 。 
 2.4 　 模型 选择 规则 
 　 　 根据 迄今 所 总结 的 专家 知识 ， 该 专家系统 可 完成 的 主要 需求 为 ： 总 许可 捕捞 量 （ TAC ） 或 评估 最大 持续 产量 （ MSY ） 、 评估 渔业 资源量 、 可捕量 或 预报 渔获量 、 控制 总 捕捞 努力 量 ， 确定 开捕 年龄 tc 、 捕捞 努力 量 水平 （ 即 捕捞 死亡 系数 F 值 ） 等 。 
 　 　 专家 知识 除了 数据 以外 ， 主要 以 规则 的 形式 存贮 在 知识库 中 ， 在 专家系统 执行 过程 中 ， 推理机 将 根据 这些 规则 ， 并 结合 当前 具备 的 数据 和 模型 条件 ， 判断 并 选择 合适 的 模型 进行 求解 。 以下 列出 了 模型 选择 规则 的 总体 框架 ， 限于 篇幅 ， 规则 的 细节 没有 列出 。 
 总 许可 捕捞 量 （ TAC ） 或 评估 最大 持续 产量 （ MSY ） 
 
 控制 总 捕捞 努力 量 
 确定 开捕 年龄   tc 、 捕捞 努力 量 水平 （ 即 捕捞 死亡 系数 ） 
 
 评估 渔业 资源量 、 可捕量 或 进行 产量 预报 
 
 3 　 系统 实现 
 3.1 　 知识库 结构 
 　 　 根据 上面 总结 的 规则 ， 我们 可以 建立 起 基本 的 专家系统 知识库 ， 其 结构 如图 3 所示 。 
 
 图 3 　 资源 评估 专家系统 知识库 结构 
 　 　 知识库 的 根 结点 为 第一层 。 第二层 有 三个 结点 ， 分别 对 应该 专家系统 所 要 解决 的 三 部分 需求 ， 即求 总 许可 捕捞 量 （ TAC ） 或 评估 最大 持续 产量 （ MSY ） ， 评估 渔业 资源量 、 可捕量 或 进行 产量 预报 ， 以及 控制 总 捕捞 努力 量 ， 确定 开捕 年龄 tc 、 捕捞 努力 量 水平 （ 即 捕捞 死亡 系数 ） 。 每个 部分 又 由 不同 的 模型 求解 组成 ， 他们 组成 各个 部分 的 第三层 结点 。 
 　 　 知识库 中 每个 结点 都 含有 方法 ， 总结 出来 的 专家 规则 和 控制策略 以 ICL 脚本语言 的 形式 写 在 这些 方法 中 。 它们 的 作用 就是 完成 各自 所在 结点 的 所有 处理 工作 ， 以及 控制 推理 的 执行 路径 。 这些 工作 总体 上 包括 以下内容 ： 
 　 　 .   进行 规则 匹配 ， 找到 正确 的 推理 路径 ， 从而 完成 模型 选择 ； 
 　 　 .   进行 相应 模型 的 调用 ， 并 得到 模型 计算结果 ； 
 　 　 .   输出 对 各 部分 需求 的 求解 结果 。 
 3.2 　 模型 调用 
 　 　 专家系统 对模型 的 调用 如图 4 所示 。 由于 专家系统 提供 了 对 数据库 和 调用 外部 程序模块 的 支持 ， 所以 能够 很 容易 地 使用 模型库 中 的 各种 模型 来 进行 计算 。 该 专家系统 对模型 的 调用 是 通过 动态 连接 库 这 一 标准 形式 来 实现 的 。 
 
 图 4 　 专家系统 与 模型 调用 关系 
 4 　 结束语 
 　 　 本文 主要 探讨 了 如何 应用 面向对象 的 知识 处理 系统 （ OKPS ） 来 构造 渔业资源 评估 专家系统 。 OKPS 是 我们 自主 开发 的 一套 专家系统 开发工具 。 该 渔业资源 评估 专家系统 主要 在 以下 几 方面 做 了 研究 与 实践 ： 
 　 　 如何 用 专家系统 工具 构造 技术 成熟 、 高效 而 可靠 的 渔业资源 评估 专家系统 ； 采用 面向对象 的 方式 来 描述 问题 ， 使 用户 易于 理解 ； 规则 和 控制策略 用 专用 的 ICL 脚本语言 及其 函数库 实现 ， 可以 灵活 定制 以 适用 各种 特定 的 和 复杂 的 问题 求解 ； 使 专家系统 的 知识库 维护 工作 符合 当前 流行 的 可视化 风格 ， 即 界面 友好 ， 使用方便 ， 所见即 所得 。 
 注 ： 国家 863 项目 “ 海洋渔业 遥感信息 服务 系统 技术 示范 试验 ” ( 课题 号 863 - 818 - 07 ) 中 03 子课题 的 一部分 。 
 作者简介 ： 谭宁 　 硕士 研究生 。 主要 研究 方向 ： 人工智能 、 专家系统 。 
 陆 　 硕士 研究生 。 主要 研究 方向 ： 人工智能 。 
 史忠植 　 研究员 ， 博士生 导师 。 主要 研究 方向 ： 人工智能 、 智能 软件 、 神经计算 。 
 作者 单位 ： 谭宁 　 陆  中国科技大学 研究生院 　 北京 ( 100080 ） 
 史忠植 　 中国科学院计算技术研究所 　 北京 ( 100080 ） 
 参考文献 
 ［ 1 ］ 　 史忠植 . 知识 工程 . 北京 ： 清华大学出版社 ， 1988 
 ［ 2 ］ 　 陆汝钤 . 专家系统 开发 环境 . 北京 ： 科学出版社 ， 1994 
 ［ 3 ］ 　 史忠植 . 高级 人工智能 . 北京 ： 科学出版社 ， 1997 
 ［ 4 ］ 　 吴 泉源 ， 刘 江宁 . 人工智能 与 专家系统 . 长沙 ： 国防科技大学 出版社 ， 1995 
 ［ 5 ］ 　 王众 托 ， 贺兆明 ， 王 　 敬 ， 等 . 计算机 决策支持系统 . 中国 石化 出版社 ， 1995 
 ［ 6 ］ - ［ 9 ］ 略 。 
 收稿 日期 : 1999 - 03 - 15 
