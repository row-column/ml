计算机 应用 研究 
 APPLICATION   RESERCH   OF   COMPUTERS 
 2000     Vol.17 　 No.1 　 P.47 - 49 
 
 
 
 
 CORBA 安全 参考模型 
 蔡 建宇 　 滕猛 　 王怀民 　 邹鹏 
 摘   要   CORBA 是 一种 面向对象 的 分布式计算 技术 。 安全 服务 是 CORBA 的 一项 重要 公共对象 服务 。 简要 介绍 了 CORBA 安全 服务 ， 着重 讨论 了 CORBA 安全 服务 的 安全 参考模型 ， 对 认证 、 安全 联系 、 访问控制 、 代理 、 审计 、 安全策略 、 域 等 概念 进行 了 解释 。 
 关键词   CORBA 安全   安全 参考模型   安全策略   域 
 1 　 前言 
 　 　 CORBA 标准 是 OMG ( 对象 管理 组织 ) 制定 的 关于 分布 计算环境 的 标准 ， 其 核心内容 是 ORB ， 即 对象 请求 代理 。 它 将 对象 技术 和 Client / Server 模型 有机 地 结合 起来 ， 总结 了 对象 技术 的 最新 应用 经验 ， 改进 并 发展 了 传统 的 Client / Server 模型 ， 使 分布 计算技术 又 向前 发展 了 一大步 。 遵循 此 标准 编制 的 软件产品 最 显著 的 特点 是 具有 非常 强 的 互操作性 ， 可 实现 多 语言 、 多 厂家 环境 、 异构 硬件平台 、 异构 操作系统 和 异构 网络 条件 下 的 互操作 。 
 　 分布式系统 具有 网络化 和 异构化 的 特点 ， 因而 比 传统 系统 更 易 受到 攻击 。 在 分布式系统 中 ， 安全 是 一个 重要 而 普遍 的 问题 。 CORBA 系统 具有 分布式 特征 ， 象 其它 分布式系统 一样 面临 着 以下 威胁 ： 
 　 　 □   用户 获得 他 无权 见到 的 信息 。 
 　 　 □   用户 A 假冒 成 用户 B 进行 操作 。 在 分布式系统 中 用户 可以 授权 给 其它 对象 ， 这 增加 了 权利 被 过分 广泛 代理 的 威胁 ， 又 导致 了 未经 授权 访问 的 威胁 。 
 　 　 □   安全控制 被 旁路 。 
 　 　 □   监听 通讯 线路 获取 机密 数据 。 
 　 　 □   篡改 对象 间 的 通讯 — 修改 、 插入 和 删除 数据 。 
 　 　 □   缺乏 可 说明性 ， 例如 用户 标识 不 充分 。 
 　 　 针对 这些 安全 威胁 ， CORBA 安全 服务 提供 的 保护措施 有 ： 
 　 　 。 认证 ： 对 主体 进行 身份 鉴别 和 验证 。 主体 是 在 系统 中 已 注册 和 可 信任 的 用户 或 系统 实体 。 
 　 　 。 授权 和 访问控制 ： 决定 一个 主体 是否 能够 访问 某个 对象 ， 可以 根据 主体 的 属性 和 目标 对象 的 控制 属性 ( 主体 为 调用 具体 对象 实现 的 指定 操作 而 必须 得到 的 某种 认可 ) 来 决定 。 
 　 　 。 安全 审计 ： 使 用户 对 自己 与 安全 相关 的 活动 可 负责 。 
 　 　 。 对象 之间 的 安全 通信 ： 经常 建立 在 非 安全 的 底层 通信 基础 上 。 这 要求 通过 客户 与 对象 之间 的 身份验证 建立 安全 联系 。 它 还 包括 对象 间 信息 传输 的 完整性 保护 和 机密性 保护 。 
 　 　 。 代理 机制 ： 主体 的 访问控制 信息 可以 委托 给 其它 对象 ， 使受 委托 者 能够 在 指定 的 条件 下 代表 它 。 
 　 　 。 防 否认 ： 提供 活动 的 不可 辩驳 证据 ， 避免 活动 的 发起者 否认 这一 活动 的 发生 。 
 　 　 。 安全 信息 的 管理 ： 例如 安全策略 的 管理 。 安全策略 规定 系统安全 服务 必须 提供 的 保护 。 
 2 　 CORBA 安全 参考模型 
 　 　 分布式 协同 操作 的 系统 是 OMG 的 OMA ( 对象 管理 体系结构 ) 的 最终目标 ， 它 必须 支持 多种 安全策略 。 为此 CORBA 安全 服务 规范 [ 2 ] 提出 了 安全 参考模型 ( SRM ) 。 SRM 提供 了 实施 多种 安全策略 的 框架 。 本文 后续 部分 将 在 CORBA 安全 服务 规范 的 基础 上 对 SRM 进行 讨论 。 
 2.1 　 认证 、 标识 和 特权 
 　 　 CORBA 安全 服务 SRM 所 关注 的 实体 是 主体 。 主体 可以 通过 多种 方式 得到 认证 。 主体 最 常用 的 方法 是 口令 验证 。 主体 的 认证 信息 ( 如 长期 密钥 ) 需要 跟 对象 联系 起来 。 
 　 　 主体 的 属性 集 表示 了 CORBA 安全 服务 需要 的 信息 。 CORBA 安全 服务 利用 这些 信息 决定 是否 允许 主体 做 某件事 。 SRM 规定 了 两类 属性 ： 标识 属性 和 特权 属性 。 标识 属性 用于 主体 承担责任 、 签发 信息 、 某些 形式 的 访问控制 和 对象 实现 使用 管理 。 根据 系统 策略 ， 主体 的 每次 应用 都 有 不同 的 标识 或 它 在 所有 应用 中 只有 唯一 的 标识 。 特权 属性 为 CORBA 安全 服务 的 访问 决策 提供 了 基础 。 系统 施加 的 访问 策略 和 对 这个 主体 预先规定 的 访问 限制 确定 哪些 特权 属性 对 主体 可用 。 
 　 　 在 SRM 中 主体 并 不是 真正 的 对象 ， 但是 表示 主体 的 系统 信息 封装 在 Credentials ( 凭证 ) 对象 中 。 图 1 显示 了 Credentials 对象 的 创建 过程 。 User   Sponsor ( 例如 在 认证 用户 时 调用 CORBA 安全 服务 接口 的 代码 ) 代表 主体 请求 Principal   Authenticator 对象 执行 认证 主体 的 操作 ， 操作 需要 使用 主体 的 安全 名 、 认证 信息 和 特权 属性 。 
 
 图 1 　 CORBA 安全 服务 认证 体系结构 
 2.2 　 安全 联系 和 信息 保护 
 　 　 CORBA 系统 中 只有 客户 和 对象 能 处理 操作 请求 并 对 这些 请求 作出 应答 。 在 这个 过程 中 ORB 在 客户 和 对象 之间 维持 着 牢固 的 连接 。 CORBA 安全 服务 在 这种 连接 之上 建立 安全 联系 。 建立 安全 联系 就是 在 客户 和 对象 之间 建立 信任 关系 和 协商 它们 之间 信息 传输 保护 。 从 某种意义 上 说 ， 安全 联系 是 客户 和 对象 之间 关于 信息 保护 的 类型 和 强度 的 公共 协议 。 建立 安全 联系 的 技术 和 系统 由此 而 具有 的 特性 由 客户 和 对象 各自 的 管理 和 技术 安全策略 以及 他们 的 公共安全 机制 而定 。 CORBA 安全 服务 规范 为 设置 客户 和 对象 的 安全 联系 策略 定义 了 一组 管理 接口 和 可选 的 名字 。 
 　 　 CORBA 安全 服务 提供 的 信息 保护 包括 ： 机密性 保护 和 完整性 保护 。 客户 与 对象 之间 的 安全 联系 决定 了 它们 之间 信息 传输 保护 的 质量 。 一般 信息 保护 由 ORB 信息 层 提供 。 但 在 某些 时候 ， 保护 可以 在 ORB 信息 层 以下 提供 。 例如 ， 依靠 安全套 接字 层 ( SSL ) 或 物理 手段 进行 信息 保护 。 
 2.3 　 对象 调用 访问控制 
 　 　 在 OMA 分布式 对象 系统 中 访问控制 基本 分为 两个 级别 ： 对象 调用 访问控制 和 应用 访问控制 。 对象 调用 访问控制 在 对象 调用 时 由 ORB 自动 实施 ， 而 应用 访问控制 由 应用 自己 实施 。 
 　 　 对象 调用 访问控制 服务 是 基于 对象 调用 访问 策略 实现 的 。 对象 访问 控制策略 控制 代表 当前 主体 的 客户 是否 能 调用 目标 对象 上 的 操作 。 对于 所有 的 应用 ， 不管 它们 有无 安全意识 ， 对象 调用 访问 控制策略 由 ORB 和 ORB 使用 的 安全 服务 实施 。 对象 调用 访问 控制策略 中 Access   Decision 功能 实现 。 当 被 要求 检查 访问 是否 被 允许 ， Access   Decision 函数 只 提供 yes 或 no 回答 。 客户 方 访问 判定 函数 用于 判断 客户 能否 调用 目标 对象 上 指定 的 操作 。 目标 方 访问 判定 函数 判断 对象 是否 接受 调用 。 某些 系统 可能 只 支持 目标 方 控制 ， 甚至 仅 把 它们 用于 某些 对象 。 CORBA 安全 服务 访问 策略 通过 主体 的 特权 属性 和 目标 对象 的 控制 属性 表示 。 主体 的 特权 属性 封装 在 CORBA 安全 服务 的 Credentials 对象 中 ， 目标 对象 的 控制 属性 封装 在 CORBA 安全 服务 的 Access   Decision 对象 中 。 
 　 　 概念 上 对象 调用 访问控制 服务 通过 截获 对象 调用 ( 如 请求 ) 实现 。 截获 可能 发生 在 客户 和 目标 两方 。 一旦 ORB 截获 到 对象 调用 ， ORB 就 咨询 Credentials 对象 获取 客户 对象 拥有 的 特权 。 然后 这组 特权 作为 Access   Decision 对象 的 access _ allowed 操作 的 参数 ， 由 这个 操作 判断 是否 继续 对象 调用 。 
 2.4 　 安全 审计 
 　 　 安全 审计 记录 系统 发生 的 安全 相关 事件 ， 帮助 审查 系统 危害 。 各个系统 对 安全 相关 事件 的 定义 并 不 一致 ， 因此 CORBA 安全 服务 SRM 和 规范 都 包括 安全 审计 策略 ， 说明 在 什么 情况 下 事件 应 被 审计 。 审计 策略 分为 两类 ： 一是 系统 审计 策略 ， 控制 ORB 和 CORBA 安全 服务 事件 的 审计 ； 二是 应用 审计 策略 ， 控制 发生 在 应用 范围 事件 的 审计 。 
 　 　 安全 审计 策略 确定 是否 审计 某 事件 基于 以下几点 ： 
 　 　 。 事件 类型 ( 如 方法 调用 完成 、 所 做 的 访问控制 检查和 安全 联系 的 建立 等 ) 。 
 　 　 。 事件 的 成功 或 失败 ( 只 审计 失败 事件 ) 。 
 　 　 。 被 调用 的 对象 和 操作 。 
 　 　 。 代表 请求 调用 的 主体 的 审计 ID 。 
 　 　 。 日期 、 时间 。 
 　 　 CORBA 安全 服务 规范 提供 了 完备 的 系统 审计 策略 。 系统 审计 策略 在 所有 应用 中 都 是 自动 实施 的 ， 即使 对 没有 安全意识 的 应用 也 不 例外 。 另外 规范 还 规定 了 一种 特殊 应用 审计 策略 ， 根据 事件 的 类型 、 事件 的 成功 或 失败 确定 是否 审计 此 事件 。 CORBA 安全 服务 模仿 CORBA 事件 服务 ， 规定 由 审计 事件 生产者 把 事件 发送到 审计 通道 。 但是 规范 中 没有 说明 审计 通道 的 消费者 如何 处理 通道 中 的 记录 。 
 2.5 　 代理 
 　 　 在 CORBA 系统 中 存在 这样 一种 情况 ， 客户 调用 目标 对象 执行 某一 操作 ， 但是 目标 对象 自己 不能 完成 这个 操作 。 于是 目标 对象 就 请求 其它 对象 执行 这个 操作 。 这样 形成 了 对象 之间 的 请求 链 ， 使得 系统 的 访问控制 复杂化 了 。 从 访问控制 的 立场 来看 ， 问题 变成 了 从 客户 到 目标 的 对象 请求 链中 某 一 请求 的 后续 请求 能 用 哪些 特权 。 针对 这一 问题 ， CORBA 安全 服务 规范 提出 了 特权 代理 的 概念 。 在 特权 代理 中 启动 主体 ( 请求 链中 第一个 客户 ) 的 特权 属性 以 某种 形式 委托 给 中间 对象 直到 传到 最终目标 对象 。 目标 对象 依靠 收到 的 特权 属性 作 访问 决定 。 
 　 　 CORBA 安全 服务 规范 给出 了 如下 五类 代理 策略 。 
 　 　 。 无 代理 — 这种 情况 下 中间 对象 只能 利用 自己 的 特权 属性 ， 而且 不能 把 属性 委托 给 其它 对象 。 
 　 　 。 简单 代理 — 中间 对象 使用 启动 主体 的 特权 属性 代替 自己 的 特权 。 目标 对象 收到 的 只是 启动 主体 的 特权 ， 不 知道 中间 对象 是 哪个 对象 。 
 　 　 。 复合 代理 — 中间 对象 能够 使用 客户 的 凭证 ， 还 能 把 这个 凭证 委托 给 其它 对象 。 客户 和 中间 对象 的 特权 都 传递 给 目标 对象 。 所以 目标 对象 可 分别 检查 客户 特权 和 中间 对象 的 特权 。 
 　 　 。 混合 特权 代 — 客户 同意 中间 对象 使用 它 的 特权 。 中间 对象 把 客户 的 特权 转化 为 凭证 并 与 自己 的 凭证 结合 起来 。 这种 情况 下 目标 不能 区别 特权 分别 来自 哪个 主体 。 
 　 　 。 跟踪 代理 — 实际上 是 复合 代理 的 扩展 。 在 请求 链中 每个 中间 对象 都 把 自己 的 特权 和 收到 的 特权 传递 下去 。 这样 最终目标 就 能 跟踪 代理 的 序列 并 就 任何 中间 对象 特权 作出 访问控制 判断 。 
 2.6   　 防 否认 
 　 　 在 相当 多 的 应用 中 都 有防 否认 安全 服务 的 需求 。 防 否认 服务 为 每次 发生 的 活动 产生 不可 辩驳 的 证据 。 根据 不同 的 安全 机制 和 策略 ， 防 否认 需要 一个 或 多个 可 信任 的 第三方 参与 。 CORBA 防 否认 服务 为 有 安全意识 的 应用 而 设计 ， 不 在 标准 CORBA 安全 服务 或 ORB 中 使用 。 CORBA 的 防 否认 服务 不但 可 生成 仅 在 使用 防 否认 服务 的 应用 上下文 中 相关 的 证据 ， 而且 可 生成 与 信息 的 创建 ( 起源 ) 和 接收 ( 发送 ) 相关 的 证据 。 防 否认 服务 不 提供 成功 执行 对 某 对象 的 请求 的 证据 。 因为 这种 情况 需要 在 ORB 中 使用 防 否认 服务 。 
 
 图 2 　 ISO （ CORBA 安全 服务 ） 防 否认 模型 
 　 　 CORBA 安全 的 防 否认 服务 只 提供 国际标准 组织 ( ISO ) 防 否认 模型 中 证据 产生 和 验证 的 功能 ( 见图 2 ) 。 这 意味着 它 只 为 应用 提供 以下 操作 ： 
 　 　 ① 产生 活动 的 证据 。 
 　 　 ② 验证 活动 的 证据 。 
 　 　 ③ 请求 发送 消息 的 证据 。 
 　 　 ④ 接收 对 收到 信息 证据 的 请求 。 
 　 　 ⑤ 分析 活动 的 证据 。 
 　 　 ⑥ 收集 需要 长期 保存 的 证据 。 
 2.7 　 安全 管理 
 　 　 在 CORBA 系统 中 分别 管理 每个 对象 的 开销 太 大 。 因此 CORBA 标准 提出 了域 的 概念 。 域 是 具有 一定 的 公共 特征 并 遵守 一定 的 公共 规则 的 对象 集 。 为 管理 安全 相关 对象 ， CORBA 安全 服务 定义 了 三类 有关 安全 的 域 ： 
 　 　 。 安全策略 域 — 实施 安全策略 的 作用域 。 
 　 　 。 安全 技术 域 — 使用 相同 技术 实现 安全 服务 的 对象 或 实体 的 集合 。 
 　 　 。 安全 环境 域 — 在域 内 策略 的 实施 可 通过 基于 环境 的 手段 而 不是 在 对象 系统 中 完成 。 例如 ， 所有 网络连接 线路 加密 可以 解除 CORBA 安全 服务 确保 信息 机密性 的 职责 。 
 　 　 CORBA 安全 服务 规范 着重 讨论 了 安全策略 域 。 彻底解决 管理 CORBA 安全 服务 需要 管理 安全策略 域 的 以下 三 方面 ： 
 　 　 ① 管理 安全策略 域 本身 ， 包括 创建 ， 删除 域 和 建立 它们 之间 的 联系 。 
 　 　 ② 管理 域 的 成员 对象 ， 包括 在域 之间 迁移 对象 的 能力 。 
 　 　 ③ 管理 每个 域 实施 的 策略 。 不仅 为域 指定 策略 ， 还要 设置 安全策略 的 细节 。 
 　 　 现有 CORBA 安全 服务 规范 虽然 在 上述 ① 、 ② 方面 只 规定 了 最低 限度 的 服务 ， 但是 对 第 ③ 方面 进行 了 详细 说明 。 它 包括 了 管理 安全策略 的 框架 和 如何 管理 特殊 策略 的 细节 ， 如 指定 域 中 信息 保护 缺省 质量 、 代理 凭证 和 审计 事件 的 策略 。 
 　 　 访问控制 方面 的 策略管理 是 不 明确 的 ， 因为 管理 访问 控制策略 的 方法 依赖于 策略 的 类型 。 例如 ， 基于 ACL ( Access   Control   List ) 的 策略 和 基于 分类 的 策略 需要 不同 的 管理 。 但是 标准 域 访问 策略 是 明确规定 的 。 访问 策略 可以 使用 权利 为 访问控制 操作 分类 。 CORBA 安全 服务 规范 包括 了 权利 到 操作 的 映射 的 管理 。 像 这样 权利 到 操作 的 映射 用于 标准 域 访问 策略 ， 也 用于 其它 访问 策略 。 
 3 　 总结 
 　 　 本文 通过 讨论 安全 参考模型 对 CORBA 安全 进行 了 论述 。 现有 的 CORBA 安全 服务 规范 已 是 1.5 版 ， 综合 了 上 一版 和 其它 关于 安全 的 规范 ， 对 更 广泛 的 安全 问题 进行 了 讨论 ， 提出 了 解决 方法 。 它 给出 的 安全 模型 和 体系结构 都 是 可 扩充 的 。 本文 给出 的 CORBA 安全 参考模型 仅仅 是 设计 实现 CORBA 安全 系统 的 指导方针 。 根据 系统 实际 需要 CORBA 安全 服务 可以 有 不同 的 具体 实现 方案 。 随着 安全 技术 的 发展 和 众多 CORBA 安全 服务 产品 的 出现 ， CORBA 安全 服务 规范 将 得到 进一步 的 发展 ， 由此 实现 更 安全 的 CORBA 系统 。 
 蔡 建宇 （ 国防科技大学 计算机 学院   长沙   410073 ） 
 滕猛 （ 国防科技大学 计算机 学院   长沙   410073 ） 
 王怀民 （ 国防科技大学 计算机 学院   长沙   410073 ） 
 邹鹏 （ 国防科技大学 计算机 学院   长沙   410073 ） 
 参考文献 
 1The   Object   Management   Group ,   The   Common   Object   Request   Broker : Architecture   and   Specification ,   Version   2.2 ,   Feburary   1998 
 2The   Object   Management   Group ,   Security   Service   Specification ,   Version   1.5 ,   March   1999 
 3TECS :   Papers :   A   Quick   Tour   of   the   CORBA   Security   Service ,   July   1998 
 收稿 日期 ： 1999 年 6 月 28 日 
