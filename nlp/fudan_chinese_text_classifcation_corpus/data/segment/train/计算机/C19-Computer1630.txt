信息 与 控制 
 INFORMATION   AND   CONTROL 
 1999 年   第 28 卷   第 6 期   Vol.28   No.6   1999 
 
 
 
 基于 平均 空间 的 故障 检测 与 诊断 
 
 石志勇   李国章   付 建平   黄允华 
 　 　 摘 　 要 ： 本文 针对 故障 检测 与 诊断 中 存在 系统 不确定性 问题 ， 应用 空间 近似 法 提出 一种 直接 求取 残差 增益 使 残差 与 系统 不确定性 最大 限度 解 耦 的 方法 ， 并 提出 区分 执行机构 故障 和 传感器 故障 的 方法 ， 最后 给出 了 仿真 结果 ， 仿真 证明 该 方法 具有 计算 量 小 、 检测 诊断 可靠 等 特点 ． 
 　 　 关键词 ： 故障 检测 与 诊断 ,   平均 空间 法 ,   最优 解 耦 
 　 　 中 图 分类号 ： TP206 　 　 　 　 　 　 文献 标识码 ： B 
 FAULT   DETECTION   AND   DIAGNOSIS   BASED   ON   MEAN   SPACE   
 SHI   Zhi - yong   LI   Guo - zhang   FU   Jian - pin   HUANG   Yun - hua 
 ( Ordnance   Engineering   College ,   Shijiazhuang   050003 ) 
 Abstract : The   paper   presents   a   problem   of   how   to   decouple   system   uncertainty   with   residual   and   how   to   distinguish   sensor   failure   from   executor   failure .   Residual   gain   matrix   can   be   obtained   by   means   of   mean   space .   At   last   , simulation   results   are   given . 
 　 　 Key   words : fault   detection   and   diagnosis ,   mean   space   method ,   optimal   decoupling 
 1 　 提出 问题 
 　 　 自 1971 年 Beard 首次 提出 故障 检测 滤波器 以来 ， 控制系统 故障 检测 与 诊断 技术 得到 了 快速 发展 ， 目前 ， 已经 形成 很多 检测 与 诊断 方法 [ 1 - 5 ] ， 并 在 许多 领域 得到 应用 ． 但 总的说来 ， 其 应用 并 不 十分 广泛 ， 究其原因 主要 是 系统 存在 不确定性 ， 这些 不确定性 因素 包括 过程 噪声 、 建模 误差 和 参数 摄动 ． 根据 描述 方式 不同 ， 模型 的 不确定性 可 分为 结构化 不确定性 和 非 结构化 不确定性 ． 本文 针对 结构化 不确定性 ， 并 假设 系统 的 不确定性 可以 表示 为 系统 未知 输入 ． 鲁棒 故障 检测 算法 是 指 故障 检测 算法 具有 抵御 系统 不确定性 的 特性 ． 通常 ， 检测 算法 要 与 系统 不确定性 完全 解 耦是 很 难 的 ， 如何 使 检测 算法 尽量 与 系统 不确定性 解 耦是 值得 研究 的 课题 ． 
 　 　 设一 线性 时 不变 系统 描述 如下 ： 
 y ( s ) = u ( s ) + d ( s ) 　 　 　 　 ( 1 ) 
 其中 G ( s ) 为 系统 的 标称 传递函数 ， Δ G ( s ) 为 模型 误差 ， d ( s ) 为 干扰 ． 
 　 　 （ 1 ）   式 可 表示 为 ： 
 y ( s ) = G ( s ) u ( s ) + v ( s ) 　 　 　 ( 2 ) 
 v ( s ) = Δ G ( s ) u ( s ) + d ( s ) 　 　 ( 3 ) 
 v ( s ) 包含 了 模型 误差 和 干扰 ． 
 　 　 设 系统 的 状态 空间 实现 为 ： 
 　 　 　 ( 4 ) 
 Y = Cx + Du + fs 　 　 　 　 　 　 　 ( 5 ) 
 其中 x 为 n × 1 状态 向量 ； u 为 q × 1 系统 输入 ； Y 为 m × 1 系统 输出 ； d 为 q × 1 未知 输入 ． E 为 未知 输入 分布 矩阵 ， Ed 用于 描述 作用 于 系统 的 不确定性 ， fs 为 传感器 故障 ， Qfa 描述 执行机构 故障 ． 
 　 　 设计 如下 状态 观测器 ： 
 　 　 　 ( 6 ) 
 　 　 　 　 　 　 　 　 　 　 ( 7 ) 
 为 x 的 估计值 ， 为 Y 的 估计值 ． 设 状态 估计 误差 为 ： 
 e = x - 　 　 　 　 ( 8 ) 
 = ( A - KC ) e - Ed + Qfa - Kfc 　 　 　 ( 9 ) 
 　 　 设 残差 信号 为 ： 
 r = W ( Y - ) 　 　 　 　 　 　 ( 10 ) 
 其中 ， W 为 p × m 维 加权 矩阵 ， 可 推导 得 ： 
 r ( s ) = fs ( s ) + WC ( sI - A + KC ) - 1Qfa ( s ) + WC ( sI - A + KC ) - 1Ed 　 　 　 　 ( 11 ) 
 　 　 为 保证 残差 与 未知 输入 d ( s ) 解 耦 ， 并 当 无故障 时 残差 为 0 ， 必须 合理 选择 W 和 K 使得 ： 
 　 　 1 )   sI - A + KC 的 特征值 位于 s 平面 的 左 半面 ， 保证 观测器 稳定 ； 
 　 　 2 )   WC ( sI - A + KC ) - 1Ed = 0 　 　 　 　 　 　 　 　 　 　 　 　 ( 12 ) 
 　 　 根据 文献 [ 6 ] ， （ 12 ） 成立 的 必要条件 为 ： 
 WCE = 0 　 　 　 　 　 ( 13 ) 
 　 　 文献 [ 5 ] 中 提出 了 两种 最优 解 耦 方法 ， 其实 可 归结为 ： 
 　 　 设 H = WC 
 　 　 （ 13 ） 式 等价 为 ： 
 HE = 0 
 　 　 H 有解 的 充分 必要条件 为 Rank ( E ) ≤ n - p 
 　 　 寻求 与 E 在 下述 意义 下 最 接近 的 E * :   1 ）   Rank ( E ) ≤ n - p ． 
 　 　 2 ）   ‖ E - E * ‖ 2F 最小 ， subject   to   :    H ≠ 0 ,   HE * = 0 
 　 　 这种 寻优 方法 首先 求出 H ， 然后 再求 W ， 计算 烦琐 ； 对于 实际 系统 而言 ， E 不 可能 精确 已知 ， 可能 是 一系列 值 或 近似 为 一系列 值 ， 本文 对 上述 方法 进行 改进 ， 提出 一种 能 直接 求出 W ， 且 对 系列 E 值 具有 鲁棒性 的 诊断 算法 ． 故障 检测 与 诊断 技术 要求 在 检测 到 故障 以后 应 查明 故障 源 ， 上述 方法 可以 判断 系统 是否 发生 故障 ， 但 不能 区分 是 执行机构 故障 还是 传感器 故障 ． 本文 空间 近似 法 [ 7 ] 提出 一种 故障诊断 方法 ， 仿真 证明 是 一种 有效 的 方法 ． 
 2 　 近似 空间 法 
 　 　 考虑 如下 方程 
 WH = 0 　 　 　 　 　 ( 14 ) 
 即 W 为 H 的 正交 空间 ． 
 　 　 设 H 的 取值 为 H1 , H2 , … , HQ ． 由于 一个 的 正交 补 通常 不 与 其他 的 Hj ， j ≠ i （ j = 1 , 2 , … , Q ） 正交 ， 但 从 几何 的 角度 出发 ， 可以 找到 一个 空间 W ， 使得 它 与 Hi （ i = 1 、 2 … Q ） 的 距离 之 和 最小 ， 即 
 　 　 　 ( 15 ) 
 　 　 最小 ． 
 　 　 这个 W 便是 几何 意义 上 的 Hi （ i = 1 , 2 , … , Q ） 平均值 的 正交 补 空间 ． 
 　 　 定义 如下 … 维 矩阵 ： 
 　 　 　 　 　 ( 16 ) 
 　 　 最优 的 平均 空间 由 ZQ 的 列 空间 构成 ， 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 17 ) 
 　 　 这里 ， ‖ ● ‖ F 为 Frobenius 范数 ． 一个 n × m 维 矩阵 X 的 Frobenius 范数 为 ： 
 ‖ X ‖ F = ∑ ni = 1 ∑ mj = 1x2tj 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 18 ) 
 令 Z 的 奇异 值 分解 为 ： 
 Z = U Σ V 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 19 ) 
 其中 
 　 　 　 　 　 　 　 　 　 　 　 ( 20 ) 
 　 　 U 、 V 均 为 正交 矩阵 ， 其中 σ 1 ≥ σ 2 ≥ … ≥ σ M 是 Z 的 奇异 值 ． 使 （ 17 ） 式 极小 的 Z0 显然 是 
 
 　 　 由于 矩阵 U 的 列 向量 是 正交 的 ， 因此 Z 的 正交 补由 U 的 前 P 列 组成 ， 即 
 W = [ u1 ,   u2 , … ,   up ] 
 3 　 空间 近似 法在 参数 摄动 系统 中 的 应用 
 　 　 设 系统 可 描述 为 ： 
 
 　 　 其中 ， 为 系统 标称 模型 ， [ Δ A ,   Δ B ] 表示 系统 的 模型 摄动 ， N 为 噪声 干扰 ， fa 、 fs 分别 为 执行机构 和 传感器 的 故障 信号 ． 构造 如下 状态 观测器 ： 
 
 　 　 令 ， 则 
 
 设 残差 为 
 
 令 E = [ Δ A   Δ B   F ] ,   ， 则 
 
 　 　 故障 检测 步骤 如下 ： 
 　 　 ( 1 )   合理 选择 K ， 使得 sI - A + KC 的 特征值 位于 s 平面 的 左 半面 ， 保证 观测器 稳定 ； 
 　 　 ( 2 )   根据 E ， 确定 W ． 
 　 　 一般说来 ， E 不 可能 精确 得到 ， 但 可以 将 其 近似 为 一系列 的 值 E1 、 E2 … EQ ． 通常 ， C 是 一个 常量 矩阵 ， 设 Hi = CEi ， 可 根据上述 空间 近似 法 确定 W ． 如果 已知 Ei 的 概率 为 pi ， ， 则 （ 15 ） 式 可 改为 ： 
 
 　 　 可用 相似 的 方法 求出 W ， 只 需用 即可 ． 
 4 　 空间 近似 法在 故障诊断 中 的 应用 
 　 　 通常 ， 执行机构 和 传感器 故障 有 四种 情况 ： 执行机构 和 传感器 均 无故障 ； 执行机构 发生 故障 而 传感器 无故障 ； 执行机构 无故障 而 传感器 发生 故障 ； 执行机构 和 传感器 均 发生 故障 ． 执行机构 和 传感器 同时 发生 故障 的 可能性 很小 ， 只 需 判断 是 执行机构 故障 还是 传感器 故障 即可 ． 如果 使 残差 与 执行机构 故障 无关 ， 根据上述 检测 方法 还 能 检测 到 故障 ， 说明 是 传感器 发生 故障 ， 否则 是 执行机构 发生 故障 ． 
 　 　 ( 11 ) 可 表示 为 
 
 令 E ′ = [ QE ] 
 　 　 应用 空间 近似 法求 出 W ′ ， 可 保证 执行机构 故障 与 残差 最大 限度 解 耦 ． 由此 可以 诊断 出是 执行机构 故障 还是 传感器 故障 ． 
 5 　 仿真 实验 
 　 　 考虑 如下 三阶 线性系统 ： 
 
 其中 
 
 
 　 　 取 U 为 单位 阶跃 信号 ， d = [ d  2 ， d2 , d3 , d4 ] T 其中 d1 ， d2 ， d3 ， d4 为 互不 相关 的 带有 直流 分量 的 随机 干扰 ， fa 、 fs 分别 为 执行机构 和 传感器 的 故障 信号 ． 
 　 　 设计 如下 状态 观测器 ： 
 
 　 　 定义 残差 信号 
 
 　 　 令 
 CEi = Hi 
 　 　 构造 如下 矩阵 
 Z ′ = [ H1 , H2 , H - ] 
 Z ′ 的 奇异 值 分解 为 
 
 取 W1 = [ 0.9105 ， - 0.0963 ， 0.4021 ] 
 令 K = 5 * I + A ， I 为 单位矩阵 ， 保证系统 稳定 ．   
 　 　 图 1 、 2 、 3 为 仿真 结果 ， 其中 图 A 为 第 4 秒 执行机构 发生 幅度 为 1 的 故障 时 残差 变化 曲线 ， 图 B 为 第 4 秒 传感器 发生 幅度 为 1 的 故障 时 残差 变化 曲线 ． 图 1 对应 于 E = E3 ， 图 2 对应 于 E = E2 ， 图 3 对应 于 E = E1 ． 
 　 　 由 仿真 结果 可以 看出 ， 当 未知 输入 矩阵 E 在 一定 范围 变化 时 ， 采用 上述 方法 可 直接 计算 W ， 可以 可靠 的 检测 出 故障 ． 
 若 上述 系统 ， ， E = E1 ， 其他 参数 不变 ． 设 执行机构 在 4s 时 发生 幅度 为 1 的 故障 ， 当 采用 检测 算法 时 ， 仿真 结果 如图 4 ， 当 用 检测 上述 诊断 算法 时 ， 仿真 结果 如图 5 ． 可见 ， 当 执行机构 发生 故障 时 ， 上述 诊断 算法 能 保证 残差 与 故障 解 耦 ， 从而 当 系统 发生 故障 时能 区分 是 执行机构 故障 还是 传感器 故障 ． 
 
 
 图 1 　   仿真 结果 
 
 
 图 2 　 仿真 结果 
 
 
 图 3 　 仿真 结果 
 
 
 图 4 　 仿真 结果 
 
 图 5 　 仿真 结果 
 　 　 由 仿真 结果 可以 看出 ， 当 未知 输入 矩阵 E 在 一定 范围 变化 时 ， 采用 上述 方法 计算 W ， 可以 可靠 的 检测 出 故障 ． 
 6 　 小结 
 　 　 本文 就 最优 解 耦 和 故障诊断 问题 进行 了 一些 探讨 ， 仿真 实验 证明 ， 用 近似 空间 法 进行 最优 解 耦 和 故障诊断 具有 较 好 的 效果 ． 
 作者简介 
 　 　 石志勇 ， 男 ， 博士生 ． 研究 领域 为 故障 检测 与 诊断 ． 
 作者 单位 ： 军械 工程学院 一 系 　 石家庄 　 050003 
 参考文献 
 1 　 Frank   P   M .   Fault   Diagnosis   in   Dynamic   System   via   State   Estimation - A   Survey   ,   Proc   .   Of   First   Europe   Workshop   on   Fault   Diagnosis   ,   Reliability   and   Related   Knowledge   Based   Approaches ,   1987 ,   1 ( 1 ) : 35 ～ 98 
 2 　 Iserman ,   R . ,   Process   Fault   detection   Based   on   Modeling   and   Estimation   Method   - A   Seuvey , Automatica ,   1983 ,   20 ( 4 ) : 387 ～ 404 
 3 　 叶银忠 ， 潘日芳 ， 蒋慰 孙 . 动态 系统 的 故障 检测 与 诊断 方法 . 信息 与 控制 ，   1987 ,   16 ( 6 ) : 27 ～ 34 
 4 　 周 东华 ， 席裕庚 ， 张钟俊 .   故障 检测 与 诊断 技术 .   控制 理论 与 应用 ，   1991 ,   8 ( 1 ) : 1 ～ 10 
 5 　 李谓 华 ， 萧德云 ， 方崇智 .   基于 数学模型 的 故障 检测 与 分离 技术 .   控制 与 决策 ， 1992 ,   7 ( 6 ) : 401 ～ 409 
 6 　 陈金水 .   鲁棒 故障诊断 与 优化 及其 工业 应用 .   浙江大学 博士学位 论文 ， 1995 
 7 　 Xi - Cheng   Lou   et .   al .   Optimal   Robust   Redundancy   Relations   for   Failure   Detection   in   Uncertain   System ,   automatica ,   1986 ,   22 ( 3 ) 333 ～ 344 
 收稿 日期 : 1998 - 07 - 8 
