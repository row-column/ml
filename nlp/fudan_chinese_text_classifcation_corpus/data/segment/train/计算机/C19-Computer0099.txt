计算机 应用 
 COMPUTER   APPLICATIONS 
 1999 年   第 19 卷   第 9 期   Vol.19   No.9   1999 
 
 
 
 数据仓库 实施 策略 
 杨光 　 张雷 　 艾波 
 　 　 摘 　 要 　 本文 介绍 了 数据 集市 以及 元 数据 的 概念 ； 分析 并 比较 了 企业 建立 数据仓库 的 六种 策略 ； 在 文章 的 最后 给出 了 一个 较为 典型 的 数据仓库 系统结构 。 
 　 　 关键词 　 数据仓库 ， 数据 集市 ， 元 数据 
 THE   IMPLEMENTATION   STRATEGIES   OF   DATA   WAREHOUSE 
 Yang   Guang 　 Zhang   Lei 　 Ai   Bo 
 Beijing   University   of   Posts   and   Telecommunications ,   Beijing   100876 
 　 　 Abstract 　 This   paper   first   introduces   the   concepts ,   Data   Mart   and   Metadata ,   then   analyzes   and   compares   six   implementation   strategies   of   Data   Warehouse .   At   the   end   of   the   paper   a   typical   architecture   of   Data   Warehouse   is   presented . 
 　 　 Keywords 　 Data   warehouse ,   Data   mart ,   Metadata 
 　 　 　 　 为了 解决 企业 中 普遍存在 的 “ 数据 监狱 ” 和 “ 数据 贫穷 ” 现象 ， 为 企业 决策分析 人员 方便 、 迅速 地 提供 更 准确 、 高质 的 信息 ， 已 成为 企业 当前 迫切需要 解决 的 问题 。 因此 ， 数据仓库 技术 应运而生 。 
 1 　 数据 集市 
 　 　 数据仓库 无疑 是 解决 困扰 企业 的 “ 数据 监狱 ” 和 “ 数据 贫乏 ” 问题 的 好 方法 。 据 市场 研究 机构 META   Group 的 研究 报告 ， 当今 全球 最大 2000 家 企业 中 的 90% 都 有 开发 企业 数据仓库 的 计划 。 但是 在 开发 的 过程 中 人们 发现 了 一些 问题 。 为了 解决 早期 在 建设 数据仓库 中 所 面临 的 问题 ， 因而 提出 了 数据 集市 的 概念 。 
 　 　 数据 集市 是 支持 某一 部门 或 特定 商业 需求 的 DSS 应用 的 数据 集合 。 数据 集市 中 的 数据 仍 具有 数据仓库 中 数据 的 特点 。 只不过 ， 数据 集市 中 的 数据 是 专为 某 一 部门 或 某个 特定 商业 需求 所 定制 的 。 数据 集市 的 结构 和 数据仓库 类似 。 一般 认为 数据 集市 中 的 数据 来自 数据仓库 。 
 　 　 数据 集市 有 以下 优点 ： 
 　 　 数据 集市 的 建设 周期短 （ 只 需 几个 月 ） ， 投资 小 ， 见效快 ； 
 　 　 部门 用户 完全 拥有 自己 的 数据 集市 可以 根据 需要 定制 其中 的 数据 ； 
 　 　 部门 用户 可以 自由 地 选择 适合 自己 的 数据 集市 的 决策分析 工具 ； 
 　 　 数据 集市 的 使用 可以 解决 各 部门 对 数据仓库 资源 的 竞争 ， 提高 处理速度 。 
 2 　 元 数据 （ Metadata ） 
 　 　 数据仓库 中 存储 着 几百 G   B 的 数据 。 这些 来自 不同 操作 数据库系统 的 数据 在 经过 提取 ( extraction ) 、 清洁 ( clean ) 、 聚集 ( aggregation ) 、 转换 ( transformation ) 等 操作 后 被 存入 数据仓库 。 为了 让 商业 用户 能 更好 地 使用 数据仓库 ， 元 数据 的 概念 被 引入 数据仓库 技术 中 。 
 　 　 元 数据 是 关于 数据 的 数据 ， 即 描述 数据 的 数据 。 在 数据仓库 中 的 元 数据 至少 应 包括 以下 一些 内容 ： 
 　 　 原始数据 的 拥有者 的 信息 ； 
 　 　 原始数据 的 数据源 信息 （ 包括 数据源 的 系统 平台 ， 数据源 的 网络地址 等 信息 ） ； 
 　 　 数据 的 商业 意义 和 典型 用法 ； 
 　 　 数据 提取 程序 的 名称 及 版本 ； 
 　 　 被 提取 数据 之间 的 依赖 （ 或 从属 ） 关系 ； 
 　 　 数据 从 各 OLTP 数据库 向 数据仓库 中 载入 的 频率 ； 
 　 　 数据 载入 数据仓库 的 日期 、 时间 ； 
 　 　 载入 数据仓库 的 数据 的 记录 数 ； 
 　 　 数据仓库 中 数据 的 利用率 ； 
 　 　 数据 转换 的 算法 ； 
 　 　 数据 的 保密 级别 ； 
 　 　 数据 的 格式 ； 
 　 　 用于 计算 出 汇总 数据 的 商业 规则 ； 
 　 　 数据 从 OLTP 数据源 到 数据仓库 的 映射 信息 ， 包括 ： 源 数据 域 的 标识 、 属性 到 属性 之间 的 映射 ， 属性 的 转换 ， 名称 的 转换 ， 关键字 的 转换 ， 从 多个 数据源 选择 数据 的 算法 逻辑 等 ； 
 　 　 数据 汇总 的 算法 ， 及 对 算法 的 解释 ； 
 　 　 数据仓库 的 数据模型 及其 描述 。 
 　 　 有 了 元 数据 就 等于 拥有 了 数据仓库 的 一张 蓝图 。 元 数据 最 显著 的 作用 就是 它 类似 于 现实生活 中 的 地图 ， 能 指引 用户 在 多达 几百 GB 的 数据仓库 的 数据 海洋 中 找到 自己 所 需要 的 数据 ， 帮助 用户 更好 地 理解 数据仓库 中 的 数据 。 元 数据 可以 帮助 数据仓库 管理员 更好 地 管理 仓库 中 的 数据 ， 例如 数据仓库 管理员 可以 利用 元 数据 追踪 非法 的 数据处理 到 它 的 数据源 ， 并 可 进行 深入调查 。 用户 可以 利用 元 数据 找到 所 需 的 事实 ， 这些 事实 可 帮助 用户 来 支持 他们 的 决策 、 验证 通过 分析 工具 得出 的 结论 的 是否 正确 ， 以及 找出 他们 的 结论 与 其他 部门 的 结论 的 不同 的 原因 。 如果 不同 厂商 的 数据仓库 及 联机 分析 处理 工具 都 遵循 统一 的 元 数据交换 标准 ， 则 不同 厂商 的 数据仓库 和 联机 分析 处理 工具 之间 可以 通过 元 数据 方便 地 共享 和 交换 数据 ( 迄今 ， 已有 两个 组织 推出 了 Metadata 交换 的 标准 ， 一个 是   Microsoft   Corp . 的   OIM — Open   Information   Model ,   另 一个 是 Meta   Data   Coalition   的   MDIS — Metadata   Interchange   Standard ) 。 
 　 　 由于 元 数据 在 数据仓库 中 的 重要 作用 ， 当今 各大 数据仓库 生产 厂商 纷纷 把 元 数据 的 生成 和 管理 功能 集成 到 产品 中 ， 形成 元 数据 的 管理 环境 ， 如图 1 。 
 
 图 1 　 元 数据管理 环境 
 3 　 数据仓库 的 实现 策略 
 　 　 随着 数据仓库 技术 的 发展 ， 如今 数据仓库 的 实现 策略 已 从 原先 的 “ 自顶向下 ” 模式 （ The   Top   Down   Model ） 发展 到 了 以下 六种 模式 。 
 3.1 　 “ 自顶向下 ” 模式 
 　 　 “ 自顶向下 ” 的 开发 策略 ( 见图 2 ) 是 指 从 原来 分散 存储 在 企业 各处 的 OLTP 数据库 中 的 有用 数据 通过 提取 （ extraction ） 、 清洁 ( clean ) 、 转换 （ transformation ） 、 聚集 （ aggregation ） 等 处理 步骤 建立 一个 全局性 数据仓库 。 这个 全局 的 数据仓库 将 提供 给 用户 一个 一致 的 数据格式 ， 一致 的 软件 环境 。 从 理论 上 说 ， 决策 支持 所 需 的 数据 都 应该 包含 在 这个 全局 数据库 中 。 数据 集市 中 存储 的 数据 是 为 某个 部门 的 DSS 应用 而 专门 从 全局 数据仓库 中 提取 的 ， 它 是 全局 数据仓库 中 数据 的 一个 子集 。 在 “ 自顶向下 ” 模式 中 ， 数据 集市 和 数据仓库 的 关系 是 单 方向 的 ， 即 数据 从 数据仓库 流向 数据 集市 。 
 
 图 2 　 “ 自顶向下 ” 模式 
 3.2 　 “ 自 底向上 ” 模式 
 　 　 “ 自 底向上 ” 模式 （ 见图 3 ） 是从 建立 各个部门 或 特定 的 商业 问题 的 数据 集市 开始 ， 全局性 数据仓库 是 建立 在 这些 数据 集市 的 基础 上 。 “ 自 底向上 ” 模式 的 特点 是 初期 投资 少 ， 见效快 。 因为 它 在 建立 部门 数据 集市 时 只 需要 较少 的 人 做出 决策 ， 解决 的 是 较 小 的 商业 问题 。 “ 自 底向上 ” 的 开发 模式 可以 使 一个 单位 在 数据仓库 发展 初期 尽可能少 的 花费 资金 ， 也 可以 在 做出 有效 的 投入 之前 评估 技术 的 收益 情况 。 
 
 图 3 　 “ 自 底向上 ” 模式 
 3.3 　 “ 平行 开发 ” 模式 
 　 　 “ 平行 开发 ” 模式 ( 见图 4 ) 是 指 在 一个 全局性 数据仓库 的 数据模型 的 指导 下 数据 集市 的 建立 和 全局性 数据仓库 的 建立 同时 进行 。 在 “ 平行 开发 ” 模式 中 由于 数据 集市 的 建立 是 在 一个 统一 的 全局 数据模型 的 指导 下 进行 的 ， 可 避免 各 部门 在 开发 各自 的 数据 集市 时 的 盲目性 ， 减少 各 数据 集市 之间 的 数据 冗余 和 不 一致 。 事实上 ， 一些 部门 在 建立 数据 集市 的 过程 中 所 遇到 问题 及其 解决方案 、 所 获得 的 经验 将 导致 全局性 数据仓库 的 数据模型 做出 相应 的 改变 ， 这些 变化 将 使 其它 部门 在 建立 数据 集市 时 受益 ， 也 有助于 全局性 数据仓库 的 建设 。 在 “ 平行 开发 ” 模式 中 数据 集市 的 这种 相对 独立性 有利于 全局性 数据库 的 建设 。 一旦 全局性 数据仓库 建立 好后 ， 各 部门 的 数据 集市 将 成为 全局 数据仓库 的 一个 子集 ， 全局 数据仓库 将 负责 为 各 部门 已 建成 和 即将 要建 的 数据 集市 提供数据 。 
 
 图 4 　 平行 开发 模式 
 　 　 “ 平行 开发 ” 与 “ 自顶向下 ” 模式 的 区别 在于 它 满足 了 企业 中 的 各个部门 希望 在 较 短时间 内 建立 本 部门 的 决策支持系统 的 要求 ， 使 他们 不用 等待 全局性 数据仓库 建立 好 之后 才 建立 属于 自己 的 数据 集市 。 同时 它 改变 了 在 “ 自顶向下 ” 模式 中 ， 部门 数据 集市 在 与 全局性 数据仓库 关系 中 的 附属性 地位 ， 在 建立 数据 集市 过程 中 所 获得 的 经验 将 有助于 对 全局性 数据仓库 的 数据模型 的 优化 和 全局性 数据仓库 的 建设 。 
 　 　 “ 平行 开发 ” 与 “ 自 底向上 ” 模式 的 区别 在于 ， 它用 一个 统一 的 全局性 数据仓库 的 数据模型 来 指导 各 部门 数据 集市 的 建设 ， 可以 解决 数据 集市 之间 数据 的 不 一致 和 减少 数据 集市 之间 的 数据 冗余 问题 。 
 　 　 “ 自顶向下 ” 、 “ 自 底向上 ” 、 “ 平行 开发 ” 这 三种 模式 都 没有 考虑 如何 将 用户 的 反馈 信息 不断 地 反应 到 数据 集市 和 数据仓库 的 建设 中 。 这 三种 模式 都 只 在 建设 数据 集市 或 数据仓库 的 过程 中 考虑 用户 的 需求 。 但是 用户 的 需求 不是 静止 的 而是 随着 新 技术 和 新 应用 的 出现 而 不断 变化 的 。 用户 的 需求 变化 不仅 局限于 要求 更 快速 的 硬件 、 更好 的 数据挖掘 技术 ， 性能 更 高 的 数据库 软件 ， 更 友好 的 图形用户界面 还 包括 所 需 信息内容 的 变化 ， 以及 所 需 数据 的 变化 ， 这 将 导致 在 数据仓库 或 数据 集市 中 必须 加入 某些 新 的 属性 、 新 的 表 或 重组 已 存在 的 表 、 属性 。 新 的 需求 将 对 数据仓库 和 数据 集市 的 数据模型 产生 影响 。 
 　 　 为了 解决 用户 需求 变化 的 问题 ， 人们 引入 了 以下 三种 模式 。 
 3.4 　 “ 有 反馈 的 自顶向下 ” 模式 
 　 　 “ 有 反馈 的 自顶向下 ” 模式 （ 见图 5 ） 。 在 这个 模式 中 用户 的 新 需求 的 反馈 分为 两个 阶段 。 第一阶段 用户 的 新 需求 不断 地被 反馈 给 部门 的 数据 集市 ， 部门 数据 集市 根据 用户 的 新 需求 产生 自身 的 需求 变化 。 第二阶段 部门 数据 集市 把 自身 的 需求 变化 反馈 给 全局性 数据仓库 ， 全局性 数据仓库 再 做出 相应 的 变化 。 
 
 图 5 　 “ 有 反馈 的 自顶向下 ” 模式 
 3.5 　 “ 有 反馈 的 自 底向上 ” 模式 
 　 　 在 “ 有 反馈 的 自 底向上 ” 模式 （ 见图 6 ） 中 由于 采取 的 是 先 建设 部门 数据 集市 ， 再 以 各 部门 的 数据 集市 为 基础 建立 全局性 数据仓库 的 方式 。 因此 ， 数据 集市 能 较 好 的 满足用户 的 需求 ， 在 全局性 数据库 建立 好 之后 需求 的 变化 将 主要 体现 在 数据 集市 与 数据仓库 之间 。 如果 各个部门 数据 集市 在 发展 时 注意 保持 相互之间 的 数据 一致性 并 能 根据 用户 的 反馈 信息 不断 调整 自己 ， 那么 以 这种 模式 建立 的 数据仓库 在 投入使用 后能 减少 因 用户 需求 变化 所 带来 的 不便 。 
 
 图 6 　 “ 有 反馈 的 自 底向上 ” 模式 
 3.6 　 “ 有 反馈 的 平行 开发 ” 模式 
 　 　 在 “ 有 反馈 的 平行 开发 ” 模式 （ 见图 7 ） 中 ， 在 开发 的 初始 阶段 ， 开发人员 主要 是 在 全局性 数据仓库 数据模型 的 指导 下 建立 部门 数据 集市 ， 并 把 在 建立 过程 中 所 遇到 的 问题 及其 解决方案 以及 用户 的 意见 等 信息 ， 反馈 给 全局性 数据仓库 数据模型 。 全局性 数据模型 在 指导 部门 数据 集市 建设 的 同时 ， 也 收集 开发人员 和 部门 用户 的 反馈 信息 并 根据 这些 信息 调整 自己 。 经过 调整 ， 可以 使 下一阶段 全局 数据仓库 的 建设 相对 顺利 地 进行 。   通常 ， 人们 会 认为 在 这种 “ 平行 开发 ” 模式 中 ， 全局性 数据仓库 的 数据模型 应 在 开始 建设 部门 数据 集市 之前 完成 ， 因此 需要 开发人员 在 项目 的 初始 阶段 就 迅速 地 开发 完成 全局性 数据仓库 的 数据模型 ， 而 数据 集市 的 开发 工作 也 不得不 等待 全局 数据仓库 的 数据模型 完成 后 才 开始 。 
 
 图 7 　 “ 有 反馈 的 平行 开发 ” 模式 
 　 　 事实上 ， 在 “ 平行 模式 ” 的 开发 过程 中 并不一定 要求 在 开发 部门 数据 集市 之前 完成 整个 数据仓库 的 数据模型 的 开发 。 对 “ 平行 开发 ” 模式 来说 ， 全局 数据仓库 的 数据模型 的 开发 可以 在 建设 第一个 部门 数据 集市 的 同时 进行 。 这 是因为 一方面 对 减少 数据 集市 之间 的 数据 冗余 和 数据 的 不 一致 来说 并不需要 一个 完全 建立 好 的 全局 数据模型 ， 全局 数据模型 在 指导 数据 集市 建设 的 同时 还要 不断 听取 开发人员 和 用户 的 反馈 信息 来 调整 自己 ； 另一方面 部门 数据 集市 在 开发 和 使用 过程 中 所 得到 的 经验 有助于 开发人员 在 设计 全局 数据模型 时 更好 地 了解 用户 的 需求 。 
 4 　 数据仓库 系统 的 结构 
 　 　 企业 建设 数据仓库 的 最终 目的 是 让 企业 的 经营管理者 能够 方便 地 使用 数据仓库 这一 集成 的 决策 支持 环境 以 获取 有 价值 的 信息 ， 帮助 经营管理者 对 不断 变化 的 环境 做出 迅捷 、 准确 的 判断 和 找出 相应 的 对策 。 因此 ， 界面 友好 ， 功能强大 的 为 用户服务 的 前端 工具 应 被 有效 地 集成 到 这 一新 的 数据分析 环境 中 。 
 　 　 数据仓库 系统 是 以 数据仓库 为 核心 ， 通过 数据 提取 工具 、 数据 转换 工具 、 查询 工具 、 报表 工具 、 分析 工具 、 数据 发掘 工具 等 ， 满足用户 对 信息 的 各种 需求 。 图 8 是 一幅 较为 典型 的 数据库系统 结构图 。 
 
 图 8 　 数据仓库 系统 结构图 
 5 　 结束语 
 　 　 本文 简要 介绍 了 数据 集市 、 元 数据 的 概念 ， 给出 企业 数据仓库 的 六种 实施 策略 和 数据仓库 系统 的 结构 。 从文中 对 数据仓库 、 数据仓库 的 结构 的 论述 中 可以 得出 这样 一个 结论 ： 数据仓库 不是 对 原有 的 面向 应用 的 操作 型 数据库 的 替代 ； 数据仓库 和 操作 型 数据库 在 企业 的 信息 环境 中 承担 不同 的 任务 ， 发挥 不同 的 作用 ； 数据仓库 主要 应用 于 决策分析 ， 而 原有 的 操作 型 数据库 主要 用于 日常事务 处理 。 数据库 及 数据仓库 是 信息系统 和 决策支持系统 的 基础设施 ， 没有 完善 的 数据库 或 数据仓库 ， 再 好 的 分析 工具 也 发挥 不了 作用 。 
 作者简介 ： 杨光 　 硕士 研究生 。 
 张雷 　 副教授 ， 在职 博士 研究生 。 
 艾波 　 教授 ， 博士生 导师 。 
 作者 单位 ： 北京邮电大学 计算机 学院 　 北京 （ 100876 ） 
 参考文献 
 ［ 1 ］ 　 Data   Warehouses   and   Data   Marts :   A   Dynamic   View ,   Author :   Joseph   M .   Firestone ,   Ph .   D . ,   Executive   Information   System   Inc .   White   Paper   3 ,   March   27 ,   1997 ; ( 3 ) 
 ［ 2 ］ 　 Building   the   Data   Mart ,   Author :   Marc   Demarest ,   DBMS   Magazine ,   1999 ; 7 ( 8 ) : 44 
 ［ 3 ］ 　 A   Metadata   Management   How - To ,   Author :   Terry   Moriarty ,   Database   Programming   &   Design ， Feburary   1997 :   57 - 60   
 收稿 日期 : 1999 - 05 - 07 ( 修改稿 ) 
