计算机 工程 
 COMPUTER   ENGINEERING 
 1999 年     第 25 卷   第 7 期   Vol.25   No.5   1999 
 
 
 
 关于 建立 WWW 电子 地 图库 的 探讨 
 李乔   罗敏 
 摘要   随着 Internet 技术 的 发展 和 社会 对 地理 空间信息 需求 的 增加 ， 建立 WWW 电子 地 图库 已经 成为 必然 。 讲座 了 有关 建立 WWW 电子地图 库存 的 技术支持 和 工作 模式 ， 并 详细 介绍 了 WWW 电子地图 库存 的 3 种 基本 类型 。 
 关键词   万维网   电子 地 图库   网络服务 
 The   Discussion   on   Building   the   WWW   Digital   Map   Library 
 Li   Qiao   Luo   Min 
 Department   of   Surveying   and   Geomatice   Engineering ， Toogji   University   Shanghai   200092 
 Abstract ： Along   with   the   development   of   Internet   technology   and   the   increase   of   social   demand   for   the   geographical   spatial   information , building   WWW   digital   map   library   has   become   necessary . This   article   discussed   the   technology   support   and   the   work   mode   on   building   the   WWW   digital   map   library , and   recommended   three   basic   types   of   the   WWW   digital   map   library   in   detail . 
 Key   words ： WWW ； Digital   map   library ； Network   service 
 1 　 建立 WWW 电子 地 图库 的 作用 和 意义 
 　 　 在 Internet 的 硬件 设施 逐渐 完善 的 同时 ， 网上 中文 信息量 的 严重不足 已经 成为 制约 我国 互联网络 发展 的 瓶颈 。 在 这本 不 丰富 的 中文信息 中 ， 绝大多数 又 是 文字 信息 ， 而 与 国民经济 和 日常生活 密切相关 的 地理 空间信息 在 网上 就 更 难 寻觅 了 。 
 　 　 电子地图 以 地图学 为 基本原理 ， 借助 现代化 技术 和 设备 产生 ， 是 地理信息系统 中 必不可少 的 基础 数据 。 它 是 以 数字 形式 把 地图 各地 物 要素 以及 它们 之间 的 相互 关系 有机 地 组织 起来 ， 存储 在 计算机 能够 直接存取 的 储存 设备 上 的 电子 数据文件 。 与 传统 地图 相比 ， 电子地图 信息量 大 ， 可 通过 数据库 进行 管理 ， 具备 丰富 的 查询 检索 功能 ； 灵活性 强 ， 数据 更新 方便 ； 并 可 利用 GIS 进行 统计分析 。 随着 计算机网络 技术 的 发展 ， 电子地图 可以 方便 地 进行 传输 ， 用户 利用 万维网 浏览 和 查询 电子地图 及其 它 地理信息 ， 也 是 利用 Internet 进行 电子出版 的 新 趋势 。 目前 电子地图 作为 一种 信息 商品 ， 日益 受到 各界 青睐 。 常见 的 电子地图 产品 有 ： 卫星影象 图 - - 地球 资源 卫星 获得 的 地表 景观 影象 数据 ； 电子 地形图 - - 通过 分层 技术 将 多种 地理 要素 分成 独立 的 信息 层 ， 每层 具有 同一 属性 的 地理 要素 ， 如 等高线 、 行政界线 、 道路 、 水系 等 ； 专题 电子地图 ， 如 土壤 类型图 、 人口 专题 图 等 。 
 　 　 GIS 专业 人员 ， 他们 能够 熟练地 使用 GIS 进行 制图 和 数据分析 ， 他们 需要 的 电子地图 是 一些 包含 基础 地理信息 的 普通地图 ， 建立 规范 、 统一 的 WWW 电子 地 图库 ， 可以 利用 Internet 资源 实现 数据 和 信息 的 共享 ， 充分 使用 现有 基础 电子地图 数据 ， 避免 重复劳动 与 重复 投资 ( 重新 制作 电子地图 需 花费 大量 人力物力 ) 。 而 绝大多数 的 普通用户 ， 他们 没有 使用 过 GIS ， 又 缺乏 制图 经验 ， 但 这些 用户 对 电子地图 的 需求量 却 在 不断 地 增加 。 例如 ， 历史学家 需要 研究 区域 的 历史 地图 ； 社会学家 和 经济学家 需要 本 地区 的 人口 、 就业 、 投资 等 专题地图 ； 司机 需要 交通图 ； 普通 居民 出门 旅游 需要 旅游 图 等等 。 然而 ， 这 大量 的 用 图 需求 却 由于 软硬件 条件 的 限制 常常 得不到 满足 。 
 　 　 建立 WWW 电子 地 图库 的 另 一 重要 功能 就是 信息 发布 ， 无论是 公共 图书馆 ， 还是 测绘 、 规划 、 环保 和 资源管理 等 政府部门 都 需要 通过 WWW 广泛 地 传播 政府 信息 。 WWW 电子 地 图库 作为 国家 空间数据 基础设施 的 重要 组成部分 ， 是 发展 地理 信息产业 的 基础 。 各 政府部门 建立 专业性 的 WWW 电子 地 图库 不仅 可以 方便 相互之间 的 数据 传递 ， 实现 信息 共享 ， 还 可以 向 企业 和 公众 及时 传达 政府 的 政策 导向 ， 帮助 他们 进行 决策 ， 使 他们 也 有 机会 参与 有关 的 政府 决策 。 
 2 　 建立 WWW 电子 地 图库 的 相关 技术支持 
 　 　 WWW 电子 地 图库 的 技术 基础 是 万维网 GIS 。 万维网 GIS 是 GIS 与 万维网 的 有机 结合 ， GIS 通过 万维网 使 功能 得到 扩展 ， 并 真正 成为 一种 大众 使用 的 工具 。 从 万维网 的 任意 一个 节点 ， 人们 都 可以 浏览 网上 的 各种 地理 空间数据 及 属性数据 、 图象 、 文件 ， 以及 进行 地理 空间 分析 ； 地理 数据 的 概念 已 扩展 为 分布式 的 、 超媒体 特性 的 、 相互 关联 的 数据 。 开发 基于 万维网 的 开放式 GIS ， 所 需 的 技术支持 主要 包括 Internet 技术 、 数据库 管理 技术 ( DBNS ) 、 面向对象 方法 、 客户机 / 服务器 模式 ( Client / Server ) 、 插件 技术 和 嵌入 技术 、 分布 计算 平台 、 多媒体 数据 ( 包括 空间数据 ) 操作 标准 和 地理 数据 目录 服务 技术 。 
 　 　 如图 1 所示 ， WWW 电子 地 图库 的 构成 主要 有 4 大部分 ： 
 
 图 1   WWW 电子地图 的 构成 模型 
 　 　 ( 1 ) 用户界面 
 　 　 同 其它 类型 的 Web 站点 一样 ， WWW 电子 地 图库 也 有 一个 可视化 的 界面 ， 能为 用户 提供 一种 交互性 的 查询 方式 。 为了 使 普通 Web 浏览器 都 可以 直接 阅读 该 界面 ， 用户界面 应该 采用 HTML 设计 。 利用 HTML 格式 的 界面 ， 用户 可以 选择 自己 熟悉 的 Web 浏览器 、 菜单 和 工具箱 浏览 电子地图 和 查阅 其它 地理 数据 。 数据 由 CGI ( 公共 网关 接口 ) 传送 ， CGI 程序 可以 把 用户 的 选择 转换 为 电子 地 图库 管理器 能够 识别 的 指令 ， 并 将 最终 结果显示 在 用户界面 上 。 例如 ， 用户 在 界面 上 单击 鼠标 ， 会 很快 发出 一个 HTTP 请求 ， 服务器 在 接受 HTTP 请求 后 进行 答复 。 
 　 　 用户 在 浏览 地图 的 同时 可以 通过 缩放 明确 地 定义出 查询 区域 ， 也 可 对 地图 上 的 有关 内容 以 动态 链接 的 方式 继续 查询 ( 包括 文字 、 图片 ， 甚至 声音 、 录象 ) 。 这时 ， 用户界面 应该 引导 用户 选择 自己 所 需 的 电子地图 ， 这 就 需要 有 良好 的 地理 数据 目录 服务 系统 。 
 　 　 ( 2 ) 目录 管理 
 　 　 WWW 电子 地 图库 的 目录 管理系统 使 用户 可以 将 他们 的 信息 要求 映射 到 电子 地 图库 的 大多数 设备 上 ， 而 一个 传统 的 按 作者 、 篇名 、 科目 分类 的 图书馆 目录 系统 则 不能 适应 电子 地 图库 的 管理 。 由于 地理 空间数据 管理 的 特殊性 ， 我们 必须 采用 新 的 按 空间 位置 和 特征 性质 分类 的 目录 管理系统 ， 这种 目录 管理系统 允许 按 地名 索引 进行 查询 。 所谓 地名 索引 ， 是 指 地图 上 各种 地物 的 地名 特征 及其 空间 位置 的 相互 联系 ， 也 包括 一些 简单 的 描述 ， 如 城市 、 河流 、 山脉 等 。 地名 索引 被 保存 在 目录 数据库 中 ， 其 检索 方式 应该 与 图书馆 的 传统 检索 方式 相一致 。 由于 空间 特征 的 模糊性 ( 如 上海 是 指 上海市 区 还是 整个 上海市 域 ) ， 即使 用户 不能 准确 地 写出 特征 名称 ， 地名 索引 也 应该 给出 每 一个 特征 的 位置 ， 甚至 是 包含 它们 的 更 大 范围 ， 而 不仅 是 地图 上 的 一点 。 作为 目录 的 发展 ， 空间 索引 模式 变得 越来越 重要 ， 这 就 要求 地名 索引 和 地图 浏览器 应 相互作用 。 例如 ， 存在 两个 同名 的 地物 ， 但 查询 结果 应该 只是 包含 在 地图 浏览器 窗口 内 的 那 一个 地物 。 
 　 　 我国 现有 的 地理信息 分类 标准 有 ： 地理 网格 、 国土 基础 信息 数据 分类 与 代码 、 林业 资源 数据 分类 与 代码 、 矿产资源 数据 分类 与 代码 ； 全国 河流 名称 代码 和 城市 地理信息系统 标准化 指南 正在 制定 中 。 WWW 电子 地 图库 的 目录 应 与 国际标准 ISO 的 TC211 相衔接 ， 并 支持 传统 图书馆 目录 的 标准 网上 协议 ， 即 Z39.50 界面 。 
 　 　 ( 3 ) 数据 存储 
 　 　 电子地图 的 存储 方式 有 矢量 格式 和 光栅 格式 两种 ， 卫星影象 图 和 扫描 图象 是 光栅 格式 ， 数字化 地图 是 矢量 格式 。 大多数 的 网上 图象 都 是 以 GIF 格式 存储 的 ， GIF 格式 的 图象 可以 在 网上 任意 地 浏览 、 下载 或 打印 。 但 光栅 图象 需要 占用 较 多 的 存储空间 ， 且 不便 进行 拓扑 关系 的 分析 ， 因而 大部分 的 电子地图 是 以 矢量 格式 存储 的 。 由于 HTML 还 不能 支持 矢量 数据 的 显示 ， 所以 必须 先 将 按 矢量 格式 存储 的 电子地图 转换 为 GIF 图象 后 ， 才能 显示 在 用户界面 上 。 对于 专业 GIS 用户 ， 则 可 直接 下载 矢量 格式 的 电子地图 ， 然后 再 利用 GIS 软件 进行 处理 。 
 　 　 ( 4 ) 数据 获取 
 　 　 电子地图 的 来源 是 多种多样 的 ： 可以 将 现有 的 纸质 地图 数字化 ； 也 可以 通过 数字 测量方法 直接 得到 。 美国 地球 观测 公司 已 于 去年 发射 了 第一颗 民用 地球 资源 卫星 ， 其 卫星影象 图 已经 商品化 ， 向 社会 公开 出售 。 目前 ， 国内 许多 地图 出版社 也 开始 出版 光盘 的 电子地图 ， 如 深圳市 电子 地图集 。 这些 电子地图 产品 都 可以 直接 存放 在 WWW 电子 地 图库 中 ， 向 社会 提供 电子地图 的 网络服务 。 
 　 　 为了 提高 电子地图 的 实时性 ， 电子地图 数据库 应 及时 进行 更新 ， 这 就 要求 政府部门 ， 特别 是 测绘 部门 应 及时 地 提供 最新 的 电子地图 数据 。 各 部门 、 各 行业 间 应 加强 电子地图 数据 的 交流 ， 在 各自 的 WWW 电子 地 图库 之间 相互 传递信息 、 及时 更新 数据 。 
 3 　 WWW 电子 地 图库 的 工作 模式 
 　 　 用户 通过 普通 的 Web 浏览器 ， 可以 在 任何 地方 操纵 WWW 电子 地 图库 ， 享用 地理 空间信息 服务 。 与 数据库 之类 的 事务处理 相比 ， 多用户 环境 中 的 地理分析 是 一个 相当 长 的 时间 的 事务 ， 称为 " 巨 事务 " 。 一个 地理分析 事务 ， 可能 在 几秒钟 内 完成 ， 也 可能 需要 几十分钟 。 为了 适应 地理分析 " 巨 事务 " ， 可以 使用 HTML 主页 技术 和 Push 技术 ， 即将 地理分析 结果 存储 在 特制 的 主页 中 ， 并 通过 Push 机制 ， 将 结果 送到 客户端 ( 见图 2 ) 。 
 
 图 2   WWW 电子 地 图库 的 工作 模式 
 　 　 WWW 电子 地 图库 的 工作 过程 如下 ： 用户 首先 通过 Web 服务器 在 主页 界面 上 向 电子 地 图库 的 服务器 发出 用图 请求 和 选择 ， 这些 请求 被 翻译 为 目录 管理系统 的 特定 查询语言 ( 即 结构化 查询语言 ) ； 服务器 根据 查询 命令 从 电子地图 数据库 中 读取 地图 数据 ， 并 按 用户 的 选择 进行 处理 ， 处理结果 保存 在 新 生成 的 HTML 主页 中 。 用户 在 网上 浏览 新 生成 的 主页 ， 并 决定 是否 下载 查询 结果 。 当 用户 完成 这次 请求 后 ， 服务器 将 删除 该 主页 。 若 使用 Push 技术 ， 服务器 可 在 事务处理 完成 后 ， 将 结果 自动 传送 给 用户 。 
 　 　 由于 服务 对象 和 功能 的 不同 ， WWW 电子 地 图库 可 分为 3 种 基本 类型 ： 
 　 　 ( 1 ) 简易型 
 　 　 这种 WWW 电子 地 图库 针对 大众 用户 设计 ， 其 地图 数据库 中 只 存储 GIF 格式 的 光栅 图象 ， 结构 简单 ， 不 需要 进行 格式 转换 。 用户 通过 Web 浏览器 直接 阅读 电子地图 ， 并 可 进行 平移 、 缩放 、 分层 显示 和 信息 查询 ， 还 可 结合 声音 、 图片 、 动画 等 制作 多媒体 信息系统 。 但 由于 磁盘 容量 的 限制 ， 电子地图 数据库 中 不 可能 存储 太多 的 光栅 地图 ， 这 就 限制 了 它 的 使用 范围 。 因此 ， 像 旅游 信息系统 这类 以 信息 发布 为主 的 电子 地 图库 可以 采取 这种 形式 ， 如 旅游 管理 部门 可以 建立 起 一个 城市 或 地区 的 旅游 电子 地 图库 ， 通过 WWW 向 全球 的 游客 发布 最新 的 旅游 地图 ， 以 吸引 他们 前来 旅游 。 
 　 　 如果 是 建立 专门 的 遥感 电子 地 图库 ， 就 只能 采取 这种 形式 。 如 美国加利福尼亚大学 的 亚历山大 电子 图书馆 ( http : / / alexandria . sdc . ucsb . edu ) ， 他们 存储 了 大量 的 航空相片 和 卫星 相片 ， 并 可 通过 一系列 的 影象 变换 对 这些 相片 裁剪 、 分层 和 分析 。 
 　 　 ( 2 ) 制图 型 
 　 　 无论 多么 庞大 的 电子地图 数据库 都 不 可能 拥有 用户 所 需 的 全部 地图 ， 因此 ， 建立 制图 型 的 电子 地 图库 可以 满足 多方面 的 需求 ， 特别 是 那些 专业 人员 制作 专题地图 的 需要 。 比如 美国 宾西法尼亚 州立大学 图书馆 的 PA 电子 地 图库 ( http : / / www . maproom . psu . edu / mapper ) ， 它 以 Arc / Info 作为 制图 工具 ， 允许 用户 通过 用户界面 选择 各种 变量 和 制图 选项 ( 如 颜色 、 间隔 、 分类 方式 等 ) ； 对 那些 没有 制图 经验 的 用户 ， 可以 利用 其 本身 的 缺省值 显示 一幅 样图 ， 再 按 自定义 的 标准 进行 修改 。 
 　 　 ( 3 ) 插入 型 
 　 　 常用 的 Web 浏览 只 提供 一些 最 基本 的 浏览 和 网络 导航 功能 ， 缺乏 显示 、 处理 地理 空间数据 的 能力 。 解决 这个 问题 的 一种 方案 就是 研制 能 和 Web 浏览器 直接 交换 数据 的 专门 GIS 软件 ， 这种 由 Netscape 公司 发明 的 增加 Web 浏览器 功能 的 方法 就 叫 插入法 ( Plug - in ) 。 
 　 　 这种 方法 的 特点 是 速度 快 ， 可以 处理 矢量 地图 数据 ， 因此 ， 在 专业 部门 内部 建立 基于 Intranet 的 电子 地 图库 就 应该 选用 插入 型 。 这样 既 可以 方便 数据 的 传递 和 信息 资源 的 共享 ， 又 使 专业 的 GIS 人员 能够 充分利用 插入 Web 浏览器 中 的 新增 功能 。 但 它 和 传统 的 应用软件 类似 ， 也 需要 先 安装 、 再 使用 ， 对 交互 网 用户 来讲 ， 甚为 不便 。 而且 传统 软件 不同 版本 之间 的 兼容性 及 版本 管理 问题 依然 存在 。 
 4 　 结束语 
 　 　 WWW 电子 地 图库 是 国家 空间信息 基础设施 ( NSII ) 的 重要 组成部分 ， 信息 高速公路 的 建设 和 地理 信息产业 发展 需要 WWW 电子 地 图库 。 建立 WWW 电子 地 图库 的 工作 是 巨大 的 ， 这 需要 大学 、 图书馆 和 政府部门 之间 的 通力合作 ， 美国 已于 1994 年 提出 由 30 多所 著名 大学 、 美国 自然科学 基金会 和 国家 高科技 项目 署 联合 建设 国家 空间数据 基础设施 ( NSDI ) 的 计划 。 我国 的 空间信息 基础设施 计划 也 已 正式 批准 ， 我们 应 加紧 建立 WWW 电子 地 图库 ， 开辟 新 的 网络服务 领域 ， 推动 我国 地理 信息产业 的 发展 。 
 作者简介 ： 李乔   男 ， 24 岁 ， 研究生 ， 主要 研究 方向 为 地图 制图 与 地理 信息工程 
 作者 单位 ： 同济大学 测量 与 国土 信息工程 系   上海   200092 
 参考文献 
 1 　 Lamont   M ， Bowles   G   I . Advancing   the   Digital   Map   Library . Information   Technology   and   Libraries ， 1997 ， 16 ( 3 ) ： 121 ～ 124 
 2 　 Smith   T   R . A   Digital   Library   for   Geographically   Referenced   Materials ． Computer ， 1996 ， ( 5 ) ： 54 ～ 60 
 3 　 孔云峰 ， 林珲 . 基于 万维网 的 地理信息系统 集成 研究 . 遥感 学报 ， 1998 ， 2 ( 2 ) ： 143 ～ 147 
 收稿 日期 ： 1998 - 08 - 31 
