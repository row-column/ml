微型机 与 应用 
 MICROCOMPUTER   &   ITS   APPLICATIONS 
 1999 年   第 18 卷   第 1 期   Vol.18   No.1   1999 
 
 
 
 100MHz 的 440BX 芯片组 
 章强 
 　 　 摘 　 要 ： 主要 介绍 Intel 公司 新近 发布 的 支持 100MHz 外频 的 440BX   AGPset ， 同时 详细分析 了 在 使用 内建该 芯片组 的 主板 时 必须 注意 的 一些 问题 。 
 　 　 关键词 ： Pentium Ⅱ 　 100MHz 外频 　 440BX 芯片组 
 　 　 自从 1997 年 5 月 Intel 发售 Pentium   Ⅱ 以来 ， 所有 的 P Ⅱ ( 包括 P Ⅱ 233 、 P Ⅱ 266 、 P Ⅱ 300 、 P Ⅱ 333 ) 只能 支持 66MHz 总线 频率 ， P Ⅱ 在 PC100 规格 上 给 人 留下 滞后 于 Socket   7 的 印象 。 然而 在 1998 年 4 月 16 日 ， Intel 公司 发布 了 支持 100MHz 外频 的 Pentium   Ⅱ 350 / 400MHz 的 Deschutes 处理器 ， 但 该类 处理器 必须 借助于 新 的 芯片组 支持 ， 而 配合 Pentium   Ⅱ 350 / 400MHzCPU 工作 的 芯片组 是 同时 推出 的 440BX   AGPset ， 它 是 Intel   第 1 套 既 支持 66MHz 又 支持 100MHz 外频 的 芯片组 ， 它 可 充分发挥 Pentium   Ⅱ 350 / 400MHz 的 性能 ， 是 P Ⅱ 步入 100MHz 系统 规格 的 重要 产品 。 440BX 拥有 440LX 芯片组 的 所有 功能 ， 包括 支持 AGP 和 ACPI 能源管理 ， 而且 同时 兼容 100MHz 和 66MHz 系统 规格 ， 除 可 使用 最新 的 Pentium   Ⅱ   350 / 400MHz   CPU 之外 ， 亦可 使用 原先 发布 的 Pentium   Ⅱ 233 ～ 333MHz 的 CPU 。 
 1 　 440BX 芯片组 功能 
 　 　 440BX 芯片组 由 82443BX 主桥 ( Host   Bridge ) 芯片 和 82371EB ( P Ⅱ X4E ) I / O 芯片 组成 。 
 　 　 1 . 主 芯片 82443BX 的 功能 ： 
 　 　 . 支持 单 / 双 Pentium   Ⅱ 处理器 ； 
 　 　 . 64 位 总线 接口 GTL + ： 其 最大 总线 工作频率 为 100MHz 。 GTL + 总线 主要 提供 对 SMP 结构 的 充分 支持 ， 它 能 显著 地 提高 操作系统 和 应用程序 在 多线程 和 多任务 环境 下 的 性能 。 
 　 　 . 64 位主 内存 接口 ， 为 SDRAM 优化 。 82443BX 集成 了 内存 控制器 ， 支持 下面 的 功能 ： 
 　 　 内存 类型 ： SDRAM 或 EDO   RAM ( 笔记本电脑 专用 ) ； 
 　 　 内存容量 ： 8 ～ 512MB ( 1GB   with   Registered   DIMMs ) ； 
 　 　 寻址 类型 ： 对称 和 非对称 寻址 ； 
 　 　 支持 ECC 。 
 　 　 . 32 位主 PCI 总线 接口 ， 集成 PCI 仲裁 器 。 
 　 　 . 具有 133MHz 数据 传送 能力 的 AGP 接口 ， AGP 规格 1.0 版本 。 支持 同步 AGP 接口 ， 使用 133MHz   AGP 设备 时 ， 理论 上 可 达到 500Mb / s 的 传输速率 。 
 　 　 . 在 所有 接口 之间 都 有 数据 缓冲器 ， 以 适应 高 数据 流量 和 并发 操作 的 需要 。 
 　 　 . 支持 深绿 电源 管理 功能 。 
 　 　 2 . P Ⅱ X4E 是 一个 高度 集成 的 多功能 芯片 ， 其 功能 如下 ： 
 　 　 . PCI — ISA 桥接器 ， PCI   2.1 版本 ， 支持 3.3 V 和 5V   33MHz   PCI 设备 ； 
 　 　 . 支持 深绿 电源 管理 功能 ； 
 　 　 . 增强 的 DMA 控制器 ， 中断 控制器 和 计时器 ； 
 　 　 . 集成 IDE 控制器 ， 支持 U1tra   DMA / 33 ； 
 　 　 . USB 控制器 ， 支持 2 个 USB 端口 ； 
 　 　 . 系统管理 总线 ， 支持 DIMM ； 
 　 　 . 支持 外部 I / O   APIC ( 高级 可编程 中断 控制器 — — Advanced   Programmable   Interrupt   Controller ) 部件 ； 
 　 　 . 支持 即插即用 。 
 2 　 440BX 芯片组 的 特点 
 　 　 1 . 更 宽 的 管道 、 更大 的 流量 。 由于 把 系统总线 的 带宽 提高 到 100MHz ， 并 使用 100MHz   SDRAM 内存 ， 使 440BX 芯片组 不仅 可 提供 更 宽 的 通道 ， 而且 还 能 提供 更快 的 数据 流量 ， 因而 提高 了 系统 性能 。 
 　 　 2 . 使用 QPA ， 提高 了 系统 性能 。 Intel 的 4 端口 加速器 ( QPA — — Quad   Port   Acceleration ) 提高 了 在 Pentium   Ⅱ 、 AGP 接口 、 100MHz   SDRAM 和 PCI 总线 之间 的 数据传输 的 带宽 。 440BX 芯片组 通过 QPA 在 4 个 关键 的 地方 提高 了 系统 性能 ： 
 　 　 . 改良 的 总线 仲裁 ( Bus   Arbitration ) 结构 ； 
 　 　 . 更 宽 的 系统 级 数据通道 ； 
 　 　 . 动态 开放式 页面 存储器 ( Dynamic   open   page   memory ) 结构 缩短 了 系统 潜伏期 ； 
 　 　 . 硬件 支持 ECC 存储器 ， 提高 了 可靠性 。 
 　 　 3 . 使 主板 设计 更具 弹性 。 440BX 芯片组 给 主板 设计者 在 设计 66MHz 和 100MHz 系统 时 提供 了 更 大 的 弹性 ， 现在 1 个 基本 的 主板 也 可 设计 为 支持 所有 的 Pentium   Ⅱ   CPU ( 从 233 ～ 400MHz ) 。 它 可以 在 软件开发 和 兼容性 测试 方面 节省 大量 资源 。 
 　 　 4 . 消除 了 桌面 PC 和 笔记本电脑 间 的 差距 。 440BX 芯片组 支持 移动 系统 ( 笔记本电脑 ) 用 Pentium   Ⅱ   CPU 处理器 ， 它 使 移动 系统 可以 从 APM ( 高级 能源管理 — — Advanced   Power   Management ) 和 WFM ( 连线 管理 — — Wired   for   Management ) 中 受益 ， 在 网络 上 使 移动 系统 的 功能 同 桌面 系统 一致 。 
 　 　 5 . 配合 使用 i740 显示卡 时 ， 可以 得到 最佳 的 3D 、 多媒体 和 游戏 平台 ， 但 与 V00D00 Ⅱ 还有 较大 距离 ， 只能 定位 在 中低端 应用 。 与 Intel 的 CPU 和 芯片组 配合 兼容性 极佳 。 
 　 　 6.440 BX 另 一个 改进 的 地方 ， 就是 最多 可 支持 1GB 的 主 内存 ， 能够 满足 作为 服务器 应用 的 要求 ， 并且 具有 笔记本电脑 用 的 节电 控制 功能 。 笔记本电脑 用 的 440BX 是 第 1 套 将 Pentium   Ⅱ   CPU 引入 笔记本电脑 的 芯片组 。 
 　 　 7.440 BX 芯片组 同 LX 芯片组 最 主要 的 不同 就是 它 能 稳定 地 运行 在 100MHz 的 “ 前侧 总线 ” ( front   side   bus ) 上 ， 同时 它 最 多 可以 支持 4 个 Pentium   Ⅱ   CPU ， 而 不是 LX 的 2 个 。 同 LX 一样 主板 上不带 L2   Cache ， 它 的 P Ⅱ 及 P Ⅱ X4e 也 有 一点点 区别 ， 等同于 LX 及 TX 的 P Ⅱ X4 ， 只不过 增加 了 对 100MHz 外频 的 支持 。 
 　 　 8 . Ram   Timing 功能 的 取消 。 一般来说 ， 在 过去 Socket   7 主板 上 ， BIOS 中 Ram   timing 数值 调得 越 低 ( 也 就是 timing 越快 ) ， 主机板 的 速度 就 越 高 。 但是 如果 把 它们 调得 太低 ， 系统 也 会 死机 或 冲突 或 完全 无法 开机 。 现在 BX 主板 使用 SDRAM ， 根本 不用 去 管 这些 设定 ， SDRAM 不会 有 这方面 的 问题 。 因为 普通 10ns 的 SDRAM 理论 上 最高 可 处理 高达 120MHz 的 外频 ， 在 75 / 83 / 100MHz 的 外频 下 ， 应该 可以 使用 。 所以 很多 主板 生产厂家 就 在 新 的 BX 主板 中 取消 了 这 一项 BIOS 设置 。 
 3 　 使用 440BX 主板 时须 注意 的 一些 问题 
 　 　 1 . 不要 使用 低于 8ns 速度 的 普通 不带 SPD 的 SDRAM 内存 。 由于 系统总线 运行 在 100MHz 的 水平 ， 以前 10ns 、 12ns 的 普通 SDRAM 只能 在 66MHz 、 75MHz 、 83MHz 、 92MHz 的 总线 频率 上 运行 ( 当然 如果 将 总线 频率 设在 100MHz 以下 ， 包括 人工 设置 或 主板 自动 诊测 ， 这些 内存 是 没有 问题 的 ， 但 不能 充分发挥 Deschutes   P Ⅱ 和 BX 芯片组 的 优越性 能 ) ， 因此 必须 使用 符合 PC100 规范 的 带 SPD ( Serial   Presence   Detect ) 的 高速 内存 。 经过 有关 测试 ， 这 类 内存 可以 稳定 跑 到 133MHz 。 目前 该 型号 的 内存价格 比较 高 ， 是 普通 SDRAM 内存 的 2 倍 。 
 　 　 2 . 不要 在 BX 芯片组 的 主板 上 使用 P Ⅱ 233 、 P Ⅱ 266 ( 包括 Celeron ) 、 P Ⅱ 300 、 P Ⅱ 333 的 CPU 。 尽管 BX 芯片组 兼容 66MHz 、 75MHz 、 83MHz 、 92MHz 的 总线 频率 ， 但 为了 发挥 主板 的 最大 性能 ， 主板 和 CPU 一定 要 般配 ， 否则 没有 必要 去 买 昂贵 的 BX 主板 。 
 　 　 3 . 购买 BX 主板 时 ， 一定 要 问 清楚 是否 支持 Celeron ， 即 主板 是否 允许 人工 设置 支持 66MHz 的 总线 频率 。 BX 芯片 可以 自动 鉴别 P Ⅱ 的 种类 ， 然后 确定 使用 哪 种 总线 频率 ( 66 / 100MHz ) ， 因此 可能 导致 Celeron 无法 在 BX 主板 上 使用 。 根据 Intel 的 设计 ， Celeron 不 支持 100MHz 总线 频率 ， 所以 就 需要 1 块 不 自动 检查 CPU 类型 并 可以 容许 用户 自行 设置 总线 频率 的 BX 主板 ( 目前 不是 很多 ) 。 Intel 生产 的 SE440BX 主板 就 不 支持 将 普通 的 仅 支持 66MHz 外频 的 CPU 强行 超频 到 100MHz 外频 上 运行 ， 同时 也 不 支持 SDRAM 时序 调整 功能 。 
 　 　 4 . 在 Socket   7 的 主板 上 ， PCI 总线 是 在 系统总线 频率 的 1 / 2 下 工作 ， 如果 总线 频率 强行 提高 到 75MHz 或 83MHz ， 有些 PCI 卡 就 不能 正常 工作 。 虽然 PCI   2.1 规范 ， 理论 上 可以 支持 66MHz 工作频率 ， 事实上 只有 很少 的 PCI 卡能 达到 这个 要求 ， 大部分 是 按 33MHz 标准 制造 的 。 所以 BX 主板 的 BIOS 设置 就 允许 用户 在 100MHz 的 总线 频率 下 ， 将 PCI 总线 频率 由 原来 的 2 分频 改为 3 分频 。 PCI 的 总线 频率 为 系统总线 的 1 / 3 即 33MHz ， AGP 的 总线 频率 往往 为 系统总线 的 2 / 3 即 66MHz 。 这样 对 显示卡 、 硬盘 就 没有 什么 特殊要求 ， 但 如果 用户 系统总线 超频 到 112 ( AGP 为 75MHz ， PCI 为 37.5 MHz ) / 133MHz ( AGP 为 83MHz ， PCI 为 43MHz ) ， 要 特别 慎重 ， 这时 可能 会因 显示卡 或 硬盘 不 适应 ， 造成 经常 死机 或 硬盘数据 的 永久 丢失 或 显示卡 烧毁 。 
 　 　 5 . 不同 BX 主板 对 SPD 信息 读取 后 的 优化 和 设定值 不 一样 。 大多数 主板 在 读取 SPD 信息 后 ， SDRAM 时序 设定 为 2 ( 即 7ns 方式 ) ， 而 有 一些 主板 为了 兼容 品质 较差 的 SDRAM 有意 将 时序 设定 为 3 ( 即 8ns ) ， 如 华硕 P2B 主板 。 这样 如果 默认 它 的 设置 就 不能 充分发挥 BX 芯片组 高速 内存 的 性能 了 。 解决 的 方法 是 将 BIOS 设置 中 SDRAM   CAS   LATENCY   TIME 原 设置 的 SPD 读取 方式 优先 ， 改为 人工 设置 SDRAM 时序 。 
 　 　 6 . CPU 的 B21 脚是 一个 供 BX 芯片组 识别 的 信号 管脚 ， 把 它 贴 上 胶带 就 会 自动 选择 CPU 的 100MHz 外频 。 根据 Intel 制定 的 PC100 规范 ， 主板 上 的 BX 芯片组 应 能 自动 诊测 CPU 的 型号 ， 并 决定 采用 66MHz 还是 100MHz 总线 频率 。 一些 主板 遵循 了 这个 规范 ， 如果 用户 不 在 CPU 的 B21 脚上 粘上 胶纸 就 无法 进行 超频 ； 一些 主板 允许 在 一定 范围 内 的 超频 ， 如 检测 到 66MHz 的 P Ⅱ ， 就 只 允许 主板 在 66MHz 、 68MHz 、 75MHz 、 83MHz 外频 上 运行 ； 如果 检测 出 100MHz 的 P Ⅱ ， 就 只 允许 主板 在 100MHz 、 102MHz 、 133MHz 外频 上 运行 。 当然 也 有 少数 主板 允许 在 66 ～ 133MHz 之间 所有 频率 上 运行 ( 如 精英 的 最新型 号 ) 。 这 一种 如果 是 免 跳线 的 还 会 在 主板 的 BIOS 设置 中 加入 100MHz 外频 、 非 100MHz 外频 的 CPU 选择 ， 即使 所用 的 不是 100MHz 外频 ， Pentium   Ⅱ 也 可以 在 主板 上 跳成 100MHz 外频 。 对于 喜欢 超频 的 用户 来说 ， 当然 这种 主板 最 受欢迎 。 
 　 　 7 . 此外 ， L2   Cache   ECC 的 设定 也 会 影响 性能 。 打开 L2   Cache   ECC 的 功能 会 使 处理器 上 的 L2 缓存 的 资料 具有 错误 检查 与 更正 的 功能 ， 但 也 会 使得 处理器 整体 的 性能 稍降 。 根据 Intel 的 建议 ， 外频 100MHz 时 ， 最好 将 这个 功能 打开 ， 以 保证系统 的 稳定性 和 信息 的 正确 。 在 测试 中 ， 我们 发现 有 一些 主机板 的 BIOS ， 虽然 可以 设定 将 L2   Cache   ECC 的 功能 打开 ， 但是 实际上 却 没有 开启 这项 功能 ， 换句话说 ， 这些 主机板 上 的 这项 功能 是 虚设 的 。 台湾人 编制 了 一个 小 程序 可以 用来 检查 L2   Cache   ECC 是否 打开 ( 读者 需要 可以 向 我 索取 ) 。 
 　 　 8 . 应该 认识 到 BX 主板 所 采用 的 100MHz 总线 频率 ， 提高 应用软件 性能 的 幅度 是 有限 的 。 Socket   7 体系 的 100MHz 的 系统总线 可以 靠 提升 外频 来 使 L2   Cache 和 内存 的 带宽 大幅提高 ， 从而 提升 整机 的 性能 。 Socket   7 同 Slot 完全 不同 ， 它 没有 所谓 的 双 独立 总线 。 它 的 L2   Cache 仍然 在 它 的 系统总线 上 ， 系统总线 的 提升 会 直接 对 其 产生 很大 的 影响 。 例如 系统总线 从 66MHz 提高 到 100MHz ， 这 将 L2   Cache 的 工作频率 也 提高 了 50% 达到 100MHz ， 它 的 性能 相对 原来 66MHz 总线 频率 有 较 大幅度 的 提高 。 但 对于 Pentium   Ⅱ 就 不同 了 。 
 　 　 Pentium   Ⅱ 有 一个 很 明显 的 特点 ， 就是 它 的 双 独立 总线 ( D . I . B ) 架构 ， 其中 1 个 是 专门 供其 卡盒 内部 集成 的 L2   CACHE 跑 的 总线 ， 称为 “ 背侧 总线 ” ， 而 另 1 个 是 系统总线 ， 又称 “ 前侧 总线 ” 。 背侧 总线 由于 在 CPU 的 内部 ， 因而 可以 不 受 系统总线 的 限制 ， 基本上 是 按 CPU 的 核心 频率 的 一半 来 运行 ( 其 主要 取决于 L2 缓存 速度 的 高低 ) 。 比如 Pentium   Ⅱ   266 的 背侧 总线 是 133MHz ， L2   Cache 就 按 这个 速度 运行 ， 这比 以往 的 L2   Cache ( 以前 L2   Cache 的 速度 就是 总线 频率 ) 快 了 近 1 倍 。 这 也 是 Pentium   Ⅱ 的 性能 同 以往 Socket   7 的 CPU 相比 有 了 较大 程度 提高 的 主要 原因 之一 。 不过 它 的 前侧 总线 ( 在 BX 芯片组 和 350MHzP Ⅱ 推出 之前 ) 还是 跟 以往 的 Socket   7 一致 ， 保持 在 66MHz ， 这 就 形成 了 1 个 瓶颈 。 Pentium   Ⅱ 大提速 ， 将 它 的 前侧 总线 提高 到 了 100MHz ， 而 它 的 “ 背侧 总线 ” 仍 是 按 CPU 核心 频率 的 一半 ( 甚至 是 1 / 3 ) 在 跑 ， 相当于 它 的 L2   Cache 的 运行 频率 实际上 没有 变 ， 整个 总线 的 提高 也 仅 做到 了 系统总线 上 内存 及 周边设备 存取速度 的 加快 ， 而 系统 性能 的 提高 是 有限 的 。 
 　 　 名词解释 
 　 　 SPD ： Serial   Presence   Detect ( 串行 存在 检测 ) ， SDRAM 内存 的 一种 新 规范 。 SPD 设备 是 一个 8 脚 的 串行 EEPROM 芯片 ， 焊 在 DIMM 的 正面 右侧 。 芯片 的 大小 约 3mm × 4mm ， 型号 以 24LC01B 居多 。 其中 存储 着 DIMM 模块 的 容量 、 速度 、 电压 、 驱动 能力 以及 行 、 列 地址 宽度 等 信息 。 BIOS 在 上 电 检测 阶段 读取 这些 参数 ， 然后 自动 地 调整 CMOS   Chipset   Features ( CMOS 芯片 集 特性 ) 屏中 的 有关 选项 ， 从而 获得 最高 的 性能 和 可靠性 。 
 　 　 Celeron ： 一种 除去 二级缓存 的 P Ⅱ ， 目前 只有 266MHz 和 300MHz 版本 ， 价格 较 便宜 。 到 笔者 完稿 时 ， Celeron 已经 出现 一种 带 128MHz 缓存 的 版本 。 
 作者 单位 ： 江苏 扬州 职业 大学 ( 225001 ) 
 ( 收稿 日期 ： 1998 - 07 - 17 ) 
