　 自动化 学报 
 ACTA   AUTOMATICA   SINICA 
 1997 年   第 23 卷   第 3 期   vol.23   No.3   1997 
 
 
 
 一类 串联 排队 网络 的 局部 函数 表达式 1 ) 
 刘端华 　 涂生 
 　 　 关键词 　 串联 排队 网格 ， 局部 函数 表达式 ， 梯度 估计 ， 离散 事件 动态 系统 . 
 LOCAL   FUNCTION   EXPRESSION   APPROACH   OF   A   CLASS 
 OF   TANDEM   QUEUING   NETWORKS 
 LIU   RUIHUA   TU   FENGSHENG 
 ( Department   of   Computer   &   System   Sciences , Nankai   University , Tianjin   300071 ) 
 　 　 Key   words   Tandem   queuing   system , local   function   expression , gradient   estimation , discrete   event   dynamic   systems . fr 
 　 　 1 　 引言 
 　 　 扰动 分析 是 一种 研究 离散 事件 动态 系统 的 重要 方法 ［ 1 ］ . 文 ［ 2 ］ 曾 针对   GI / G / m   排队 系统 ， 提出 了 梯度 估计 的 局部 函数 表达式 ， 这里 将 给出 这种 方法 在 一类 复杂 串联 排队 网络 上 的 扩展 . 
 　 　 2 　 系统 描述 
 　 　 考虑 由 m   级 服务站 串联 构成 的 排队 网络 ， 第   i   级 服务站 是 一个   GI / G / ni   排队 系统 ( i = 1 , … , m ) , 顾客 到达 系统 后 ， 依序 经过 每 一级 服务站 ， 最后 从 第   m   级 出来 ， 完成 其 全部 服务 过程 ， 排队 规则 为先 到 先 服务 ( FCFS ) . 记   Ck   为 第   k   个 到达 顾客 ， ak   为 其 到达 时刻 ， vk = ak - ak - 1 为   Ck - 1 与   Ck 的 间隔时间 . 假定   vk ( k ≥ 1 ) 独立 同 分布 ， 其 分布 函数 为   H ( x ) . 由 概率论 知 vk   可 由 逆变换   vk = H - 1 ( x ) = inf ｛ x : H ( x ) ≥ u0k ｝ 实现 ， 其中   u0k   为 ［ 0 ， 1 ］ 上 的 独立 均匀分布 . 用   sij 表示 第   i   级 站 中 第   j   个 服务台 ， 所有 服务 时间 均 相互 独立 ， 且 和 到达 过程 亦 相互 独立 ， 同一 站 中 诸 服务台 具有 相同 的 服务 时间 分布 . 设 第   i   站 的 服务 时间 与 随机变量   si   具有 相同 的 分布 ， si   的 分布 函数 设 为   Fi ( x , θ i ) , 其中 θ i 为 连续 参数 ， 同样 ， si   可 由 si = F - 1i ( θ i , ui ) = inf ｛ x : Fi ( x , θ i ) ≥ ui ｝ 给出 ， 其中   ui ∈ ［ 0 , 1 ］ . 令   sij ［ k ］ 为   sij   对 经过 它 的 第   k   个 顾客 的 服务 时间 ， 则 
 sij ［ k ］ = F - 1i ( θ i ,   uij ［ k ］ ) , uij ［ k ］ ∈ ［ 0 , 1 ］ . 　 　 　 　 　 　 ( 1 ) 
 这里   uij ［ k ］ 表示 产生   sij ［ k ］ 的 独立 均匀 随机变量 . 定义 序列   ω = ｛ u01 , u02 , … , u11 ［ 1 ］ , u11 ［ 2 ］ , … ， … ， umnm ［ 1 ］ , umnm ［ 2 ］ , … ｝ ， 它 代表 了 系统 中 所有 的 随机因素 ， 记 参数 向量 θ = ［ θ 1 , … , θ m ］ T ， 设 系统 共 服务 了   N   个 顾客 . 考虑 这   N   个 顾客 的 平均 系统 时间 ， 记   Tk   为   Ck   的 系统 时间 ， 从而 平均 系统 时间 定义 为 . 进一步 ， 用   Cik   表示 按 时间 先后 到达 第   i   站 的 第   k   个 顾客 ， aik , xik   表示 相应 的 到达 时刻 与 离去 时刻 ； sik , Tik   表示 相应 的 服务 时间 与 系统 时间 . 则 容易 推出 
 　 　 　 　 　 　 　 　 　 　 　 ( 2 ) 
 定义 系统 的 性能 测度 为 J ( θ ) = ｛ T ( θ , ω ) ｝ . 
 　 　 3 　 局部 函数 表达式 
 　 　 考虑 采样 性能 测度 T ( θ ， ω ) ， 给定 θ 一值 ， 在 一次 采样 实现 ω 下 ， 系统 的 运行 轨线 就 完全 确定 了 . 观察 第   i   级 服务站 ， 设有   Nij   个 顾客 经过   sij ( 显然   ) , 这   Nij   个 顾客 构成 了   sij 的   kij   个忙期 ， 且 第   l   个忙期 包含 Nijl 个 顾客 ( 易知   ) , 用   Cijl ［ 1 ］ , Cijl ［ 2 ］ , … , Cjjl ［ Nijl ］ 依序 代表 这   Nijl 个 顾客 . 用   aijl ［ r ］ ， xijl ［ r ］ , sijl ［ r ］ 和 Tijl ［ r ］ 分别 表示   Cijl ［ r ］ 的 到达 时刻 、 离去 时刻 、 服务 时间 和 停留时间 ( r = 1 , … , Nijl ) . 由 ( 1 ) 式 易知   sijl ［ r ］ = F - 1i ( θ i , uijl ［ r ］ ) , uijl ［ r ］ ∈ ［ 0 , 1 ］ . 由于   Cijl ［ r ］ 是   sij 上 第   l   个忙期 连续 服务 的 第   r   个 顾客 ， 从而 有 
 　 　 　 　 　 　 　 　 ( 3 ) 
 其中 特别 是 ， 对 第   m   级 站 有 
  　 　 　 　 　 ( 4 ) 
 由于 任一 顾客 到达 第   i   级 站 的 时刻 即 是 它 离开 第   i - 1   级 站 的 时刻 ( i = 2 , … ， m ) ， 而 同一 顾客 在 不同 站 中 的 序号 不同 ， 故设   amjl ［ 1 ］ = xm - 1jm - 1lm - 1 ［ rm - 1 ］ , … , a2j2l2 ［ 1 ］ = x1j1l1 ［ r1 ］ . 由 ( 3 ) 式 可知 从而 4 式 成为 
 　 　 　 　 ( 5 ) 
 合并 具有 相同 θ i   的 项 ， 则 采样 性能 测度 ( 2 ) 式 为 
 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 6 ) 
 其中 
 
 这 表明   T ( θ , ω ) 与 给定 参数 θ 点 之间 存在 关系式 ( 6 ) . 从 完全 类似 于文 ［ 2 ］ 中 的 分析 知 ， 当 概率分布 满足 一定 条件 时 ， 这个 关系式 在 θ 点 附近 的 一个 邻域 内 也 成立 ， 亦 即 在 一次 采样 的 前题 下 ， T ( θ ， ω ) 关于 θ 的 局部 函数 关系式 成立 . 从而 ， 此式 对于 θ   在 θ 点处 的 梯度 可 直接 求导 得 
 　 　 　 　 　 　 　 　 　 　 　 ( 7 ) 
 进一步 ， 考虑 性能 测度   J ( θ ) 对于   θ 的 梯度 ， 如果 下面 的 交换 性 条件 成立 
 　 　 　 　 　 　 　 　 ( 8 ) 
 则 取 适当 大 的 整数   M ， 将 有 
 　 　 　 　 　 　 　 　 ( 9 ) 
 从而 得到 的 一个 估计 ， 其中 可 由 局部 函数 表达式 求导 得到 . 
 　 　 4 　 无偏性 分析 
 　 　 可 交换 性 条件 ( 8 ) 是 扰动 分析 理论 中 的 一个 重要 内容 ， 对于 这里 所 考虑 的 网络 ， 由 ( 2 ) 式 知 条件 ( 8 ) 等价 于 
 　 　 　 　 　 　 ( 10 ) 
 容易 看出 ， xik   只 与 第 1 到 第   i   级 站 有关 ， 而 与   i   以后 的 站 无关 ， 故   xik   可 写成   xik ( θ 1 , … ， θ i ) , i ≥ 1 . 在 文 ［ 2 ］ 定理 1 及其 推论 的 基础 上 ， 可 证明 如下 定理 . 
 　 　 　 　 　 　 　 　 　 　 　 　 
 i = 1 , … ， m ; j = 1 , … , i ; k ≥ 1 . 　 　 　 　 　 　 ( 11 ) 
 　 　 综上所述 ， 局部 函数 表达式 为 进一步 的 随机 优化 提供 了 一种 有效 的 梯度 估计 方法 . 
 1 ) “ 863 ” 计划   CIMS   主题 和 国家自然科学基金 资助 项目 . 
 作者 单位 ： 南开大学 计算机 与 系统 科学系 　 天津 　 300071 
 参考文献 
 　 ［ 1 ］ Ho   Y   C , Cao   X   R . Perturbation   Analysis   of   Discrete   Event   Dynamic   Systems , 　 Boston : Kluwer   Academic   Pub . , 1991 . 
 　 ［ 2 ］ 刘端华 ， 涂生 . GI / G / m   排队 系统 梯度 估计 的 一种 新 方法 . 自动化 学报 ， 1995 ， 21 ( 6 ) ： 696 - 704 . 
 收稿 日期 　 1994 - 03 - 14 
