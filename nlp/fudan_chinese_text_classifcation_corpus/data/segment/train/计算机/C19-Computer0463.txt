自动化 学报 
 ACTA   AUTOMATICA   SINICA 
 2000 　 Vol.26 　 No.3 　 P.310 - 316 
 
 
 
 链式 系统 的 轨迹 跟踪 控制 
 董文杰 　 　 霍伟 
 摘 　 要 　 研究 了 链式 系统 的 轨迹 跟踪 控制 问题 ， 提出 一种 新 的 跟踪 方案 ， 设计 出能 实现 全局 轨迹 跟踪 的 一维 动态 控制器 ， 将 其 用于 一类 轮式 机器人 的 控制 中 . 仿真 结果表明 所提 方法 的 有效性 . 
 关键词 　 非 完整 系统 ， 链式 系统 ， 轨迹 跟踪 控制 ， 移动机器人 . 
 TRAJECTORY   TRACKING   CONTROL   OF   CHAINED   SYSTEMS 
 DONG   Wenjie 　 　 HUO   Wei 
 ( The   Seventh   Research   Division , Beijing   Univ . of   Aero .&   Astro . , Beijing 　 100083 ) 
 Abstract 　 　 This   paper   investigates   the   trajectory   tracking   problem   of   chained   systems . A   new   tracking   approach   is   presented . The   proposed   one - dimensional   dynamic   tracking   controllers   can   globally   make   the   states   of   the   systems   asymptotically   track   the   given   trajectories . An   application   to   a   wheeled   mobile   robot   is   described . Simulation   results   show   that   our   approach   is   effective . 
 Key   words 　 Nonholonomic   system , chained   form   system , trajectory   tracking   control , mobile   robot . 
 1 　 引言 
 　 　 近年来 ， 受非 完整 运动学 约束 的 系统 ( 简称 非 完整 系统 ) 的 控制 引起 了 人们 的 兴趣 ， 并 得到 了 广泛 地 研究 ( 见文 ［ 1 ］ 及其 中 的 参考文献 ) . 该 系统 不 满足 Brokett 存在 光滑 状态 反馈 镇 定律 的 必要条件 ， 因而 已有 的 用 光滑 状态 反馈 镇定 系统 的 结果 不能 直接 用于 该类 系统 的 镇定 ， 对 系统控制 设计 提出 了 挑战 . 尽管如此 ， 人们 仍 提出 了 镇定 该 系统 的 几种 方案 ， 如 时变 镇定 、 非 连续 镇定 及其 二者 的 混合 控制 等 . 除了 镇定 问题 外 ， 非 完整 系统 的 跟踪 控制 也 得到 了 广泛 地 研究 . 粗略地 讲 ， 跟踪 控制 可 分为 路径 跟踪 和 轨迹 跟踪 . 路径 跟踪 是 一种 不 考虑 时间 的 几何 位置 跟踪 ； 轨迹 跟踪 则 要求 系统 在 指定 时间 到达 指定 位置 . 一般而言 ， 轨迹 跟踪 的 实现 比 路径 跟踪 困难 得 多 . 对于 几类 实际 的 非 完整 控制系统 ， 如 轮式 机器人 和 拖车 系统 ， 路径 跟踪 问题 已 基本 解决 ［ 2 ］ ， 但 轨迹 跟踪 问题 还 待 进一步 研究 . 文 ［ 3 ］ 用 动态 反馈 线性化 的 方法 讨论 了 几类 轮式 机器人 的 跟踪 控制 问题 . 利用 微分 平坦 的 概念 ， 拖车 系统 的 轨迹 跟踪 问题 也 可用 类似 文 ［ 3 ］ 中 的 方法 来 解决 . 但 这种 方法 的 不足之处 是 闭环 系统 具有 奇异 点 和 动态 控制器 的 维数 较 高 . 针对 上述 缺点 并 考虑 到 轮式 机器人 和 拖车 均 可 局部 或 全局 变换 成 链式 系统 . 本文 讨论 链式 系统 的 轨迹 跟踪 控制 问题 ， 设计 出 了 一维 的 动态 控制器 ， 克服 了 文 ［ 3 ］ 中 控制器 维数 较 高 以及 闭环 系统 具有 奇异 点 的 缺陷 ， 解决 了 运动学 约束 可 化为 链式 系统 的 一类 非 完整 系统 的 轨迹 跟踪 问题 . 
 2 　 链式 系统 及 跟踪 问题 描述 
 　 　 许多 实际 的 非 完整 系统 可 局部 或 全局 等价 变换 为 标准 的 链式 系统 . 因而 ， 不失 一般性 ， 本文 讨论 链式 系统 的 轨迹 跟踪 控制 问题 . 单 生成元 单链 系统 的 一般 形式 为 ［ 4 ］ 
 　 　 　 　 ( 1 ) 
 其中 v = ［ v1 , v2 ］ c 是 系统 输入 . 该 系统 的 特点 为 它 是 可控 的 ， 但 其 局部 线性化 系统 不 可控 . 给定 要 跟踪 的 期望 轨迹 y = ［ y1 , … , yn ］ T ∈ Rn ， 假设 y 可 由 虚拟 参考 系统 
 　 　 　 　 　 ( 2 ) 
 产生 ， 且 满足 如下 假设 . 
 　 　 假设 1 . y3 , … , yn 有界 . 
 　 　 假设 2 . 
 　 　 事实上 ， 只有 跟踪 具有 相同 结构 对象 产生 的 轨迹 才 有 实际意义 ， 因而 假设 y 由 虚拟 参考 系统 ( 2 ) 生成 是 合理 的 . 另外 ， 对 轨迹 y 及 u 的 上述 假设 并 不 苛刻 . 
 　 　 本文 讨论 的 问题 是 对 链式 系统 ( 1 ) ， 设计 控制 律 v 使得 
 3 　 控制器 设计 
 　 　 为了 设计 出 控制器 ， 首先 引入 如下 轨迹 跟踪 误差 的 线性变换 
 e = Ψ ( x - y ) , 　 　 　 　 ( 3 ) 
 其中 非 奇异 常值 变换 阵 Ψ = ｛ ψ i , j ｝ ∈ Rn × n ， 定义 如下 ： 
 　 　 　 　 　 　 ( 4 ) 
 式 中 k1 , k2 , … , kn - 3 是 正 的 设计 参数 . 由于 Ψ 是非 奇异 变换 阵 ， 故 轨迹 跟踪 问题 等价 于 设计 控制 律 v ， 使 变换 后 的 误差 e = ［ e1 , … , en ］ T → 0 . 
 　 　 由 方程 ( 1 ) ， ( 2 ) 和 Ψ 的 定义 ， 易得 变换 后 的 误差 方程 
 　 　 　 ( 5 ) 
 基于 误差 动态 方程 ( 5 ) ， 有 如下 定理 . 
 　 　 定理 1 . 对于 系统 ( 1 ) 和 给定 的 期望 轨迹 y ， 在 满足 假设 1 和 2 的 条件 下 ， 控制 律 
 　 　 　 ( 6 ) 
 能 使 x ( t ) 渐近 跟踪 给定 的 轨迹 y ( t ) ， 同时 使得 v 渐近 趋于 u ， 其中 μ 1 ＞ 0 ， μ 2 ＞ 0 ， μ 3 ＞ 0 ， ψ i , j , k1 , … , kn - 3 由式 ( 4 ) 定义 ， kn - 2 ＞ 0 . 
 　 　 这一 结果 的 证明 要 用到 以下 引理 . 
 　 　 引理 ( 扩展 的 Barbalat 引理 ［ 2 ］ ) . 若 可微 函数 f ( t ) 当 t → ∞ 时 趋于 某个 有限 的 常数 ， 且 其 导数 可 表示 成 两项 之 和 ： 第一项 趋于 零 ， 第二项 一致 连续 ， 则 当 t → ∞ 时 趋于 零 . 
 　 　 定理 1 的 证明 . 方程 ( 5 ) 和 ( 6 ) 构成 的 闭环 系统 为 
 　 　 　 ( 7 ) 
 取正 函数 
 
 将 V 沿 方程 ( 7 ) 求导 ， 有 
 　 　 　 　 ( 8 ) 
 所以 V 非增 ， 且 有 极限 Vlim ≥ 0 ， 于是 由 V 的 定义 知 p 和 e 有界 ， 从而 由 假设 1 知 xi ( 3 ≤ i ≤ n ) 有 界 ， 且 考虑 到式 ( 7 ) 及 假设 2 知有界 . 
 　 　 由 以上 所证知 
 
 有 界 ， 所以 一致 连续 . 由 引理 知 V 趋于 零 ， 于是 由式 ( 8 ) 知 p 和 en 趋于 零 . 
 　 　 又 由 u1 有界知 u21en 趋于 零 ， 对 u21en 求导 ， 有 
 　 　 　 ( 9 ) 
 其中 第 1 项 一致 连续 ( 因 其 导数 有 界 ) ， 后 几项 趋于 零 ( 因 u1 , 1 和 xi ( 3 ≤ i ≤ n ) 有 界 ， en 和 p 趋于 零 ) . 由 引理 知 ， ( u21en ) 趋于 零 ， 于是 由式 ( 9 ) 知 u31en - 1 趋于 零 ， 进而 知 u21en - 1 和 u1en - 1 都 趋于 零 . 
 　 　 依次 对 u21ej ( j = n - 1 , … , 3 ) 求导 ， 并 重复 上述 证明 过程 ， 可 证明 u21ej - 1 和 u1ej - 1 ( j = n - 1 , … , 3 ) 趋于 零 . 
 　 　 再 由 u1 有界 ， p 趋于 零知 u21p 趋于 零 . 对 u21p 求导 ， 有 
 
 其中 第一项 一致 连续 ( 因 其 导数 有 界 ) ， 其余 几项 趋于 零 ( 因 u1 和 xj ( 3 ≤ j ≤ n ) 有 界 ， p 和 u1ej ( 3 ≤ j ≤ n ) 趋于 零 ) . 由 引理 知 ， ( u21p ) 趋于 零 ， 所以 由 上式 知 u21e1 趋于 零 . 
 　 　 考虑 到 u21ej ( 1 ≤ j ≤ n ) , p 趋于 零 ， 所以 u21V 趋于 零 . 因 V 具有 极限 Vlim ≥ 0 且 u1 不 趋于 零 ， 所以 一定 有 Vlim = 0 . 因而 ， ej ( 1 ≤ j ≤ n ) 和 p 趋于 零 . 从而 由式 ( 3 ) 知 x 渐近收敛 于 y ， 由式 ( 6 ) 的 第二 式 知 v 渐近收敛 于 u . 证毕 . 
 　 　 注 . 一维 跟踪 控制器 ( 6 ) 是 全局 的 ， 且 没有 任何 奇异 点 . 它 解决 了 链式 系统 的 轨迹 跟踪 问题 ， 且 克服 了 用 动态 反馈 线性化 方法 设计 控制器 的 两个 缺点 ： 1 ) 控制器 维数 较 高 ； 2 ) 有 奇异 点 . 
 4 　 多链 系统 的 跟踪 控制 
 　 　 本节 把 单链 系统 的 跟踪 结果 推广 到 多链 系统 的 跟踪 上去 . 因 证明 思路 相似 ， 下面 仅 给出 相应 的 结果 . 
 　 　 对单 生成元 多链 系统 
 　 　 　 ( 10 ) 
 设要 跟踪 的 期望 轨迹 可 由 虚拟 参考 系统 
 　 　 　 ( 11 ) 
 产生 ， 且 满足 如下 假设 . 
 　 　 假设 3 . yi , j ( 3 ≤ i ≤ nj , 1 ≤ j ≤ m ) 有界 . 
 　 　 假设 4 . u = ［ u1 , … , um + 1 ］ T 和 有界 ， 且 当 
 　 　 记 x = ［ x1 , x2 , 1 , … , xn1 , 1 , … , x2 , m , … , xnm , m ］ T , y = ［ y1 , y2 , 1 , … , yn1 , 1 , … , y2 , m , … , ynm , m ］ T , 跟踪 问题 仍为 设计 控制 律 v = ［ v1 , v2 , … , vm + 1 ］ T ， 使得 成立 . 
 　 　 按上 一节 的 思路 ， 考虑 变换 ( 3 ) ， 其中 非 奇异 常值 变换 阵 Ψ = diag ［ Ψ 1 , Ψ 21 , … , Ψ m1 ］ , Ψ l1 ( 2 ≤ l ≤ m ) 为 矩阵 Ψ l 去掉 第一行 和 第一列 后 对应 的 矩阵 ， 而 Ψ l = ｛ ψ li , j ｝ ∈ Rnl × nl ( 1 ≤ l ≤ m ) 定义 如下 ： 
 　 　 　 ( 12 ) 
 其中 k1 , l , k2 , l , … , knl - 3 , l 是 正 的 设计 参数 . 由 方程 ( 10 ) ， ( 11 ) 和 Ψ 的 定义 ， 易得 e = ［ e1 ， e2 , 1 , … , en1 , 1 … , e2 , m , … , enm , m ］ T 的 动态 方程 为 
 　 　 　 ( 13 ) 
 其中 l = 1 , 2 , … , m . 对应 于 定理 1 ， 有 如下 定理 . 
 　 　 定理 2 . 对于 系统 ( 10 ) 及 给定 的 期望 轨迹 y ， 在 假设 3 和 4 的 条件 下 ， 控制 律 
 
 能 使 x ( t ) 渐近 跟踪 给定 的 轨迹 y ( t ) ， 同时 使得 v 渐近 趋于 u , 其中 μ 1 ＞ 0 ， μ 2 ＞ 0 ， μ 3 , l ＞ 0 ， knl - 2 , l ＞ 0 ( 1 ≤ l ≤ m ) . 
 5 　 仿真 
 　 　 为 验证 所提 控制 律 的 有效性 且 说明 本文 结果 的 工程 背景 ， 考虑 受非 完整 约束 的 ( 1 ， 1 ) 类 轮式 机器人 的 跟踪 控制 问题 . ( 1 ， 1 ) 类 轮式 机器人 的 运动学 方程 为 
 　 　 　 ( 14 ) 
 其中 xp , yp , θ , β c , L 见文 ［ 3 ］ 中 的 定义 ， w = ［ w1 , w2 ］ T 为 系统 的 控制 输入量 . 非 奇异 状态 变换 
 　 　 　 　 ( 15 ) 
 和 输入 变换 
 　 　 　 　 ( 16 ) 
 可 把 方程 ( 14 ) 变换 成 单 生成元 链式 系统 
 　 　 　 　 　 ( 17 )   
 　 　 假定 要 跟踪 的 轨迹 ( x * p , y * p ) 为 平面 上 的 一个 椭圆 ， 即 x * p = acos ω t , y * p = bsin ω t . θ * 和 β * c 由 ( 1 ， 1 ) 类 轮式 机器人 的 非 完整 约束 唯一 确定 . 对此 轨迹 做 类似 于式 ( 15 ) 和 ( 16 ) 的 变换 可 得到 
 　 　 　 　 ( 18 )   
 且 可算出 
 
 及 
 
 　 　 可以 验证 y 和 u 满足 定理 1 的 假设 条件 . 由 定理 1 知 控制器 
 　 　 　 ( 19 ) 
 能 使 x ( t ) 渐近 跟踪 给定 轨迹 y ( t ) ， 同时 使得 v 渐近 趋于 u ， 其中 μ 1 ＞ 0 , μ 2 ＞ 0 , μ 3 ＞ 0 , k1 ＞ 0 , k2 ＞ 0 . 通过 简单 的 反 变换 可 导出 原 系统 的 跟踪 控制 律 ， 在 此 略去 . 
 　 　 仿真 中 ， 令 L = 0.2 , a = 1 , b = 2 , ω = 1 , ［ xp ( 0 ) , yp ( 0 ) , θ ( 0 ) , β c ( 0 ) ］ = ［ 1.8 ， 0.9 ， 0.5 ， 0.5 ］ ， p ( 0 ) = 0.2 ， 取 μ 1 = 12.25 ， μ 2 = 7 , μ 3 = 8 , k1 = 5 , k2 = 15 . 图 1 ， 2 ， 3 和 4 分别 反映 了 四个 状态变量 的 跟踪 情况 ， 图 5 反映 了 xp - yp 平面 的 跟踪 情况 . 
 
 
 图 1 　 xp 跟踪 x * p 的 时间 曲线 
 
 
 图 2 　 yp 跟踪 y * p 的 时间 曲线 
 
 
 图 3 　 θ 跟踪 θ * 的 时间 曲线 
 
 
 图 4 　 β c 跟踪 β * c 的 时间 曲线 
 
 图 5 　 xp - yp 和 x * p - y * p 的 曲线 
 6 　 结论 
 　 　 本文 研究 了 链式 系统 的 轨迹 跟踪 控制 问题 ， 提出 了 一种 新 的 跟踪 控制 方案 ， 设计 出 了 实现 全局 跟踪 控制 的 一维 动态 控制器 . 它 克服 了 动态 反馈 线性 方法 设计 控制器 的 两个 缺点 — — 控制器 维数 较 高 和 闭环 系统 具有 奇异 点 . 将 其 用于 一类 轮式 机器人 的 跟踪 中 ， 仿真 结果表明 了 所 提出 方法 的 有效性 . 另外 ， 本文 设计 方法 可以 推广 到 链式 非 完整 动力学 系统 的 轨迹 跟踪 及 具有 未知 参数 的 链式 非 完整 动力学 系统 的 自 适应 轨迹 跟踪 控制 ， 将 另文 给出 . 
 国家自然科学基金 资助 课题 . 
 　 　 董文杰 　 北京航空航天大学 第七 研究室 博士生 . 研究 领域 为 机器人 动力学 与 控制 、 鲁棒控制 、 非线性 系统控制 . 
 　 　 霍 　 伟 　 见 本刊 第 20 卷 第 3 期 . 
 董文杰 （ 北京航空航天大学 第七 研究室 　 北京 　 100083 ） 
 霍伟 （ 北京航空航天大学 第七 研究室 　 北京 　 100083 ） （ E - mail : whuo   @ redchina . com ） 
 参考文献 
 ［ 1 ］ 　 Kolmanovsky   I , McClamroch   N   H . Development   in   nonholonomic   control   problems . IEEE   Control   System   Magazine , 1995 : 20 ～ 36 
 ［ 2 ］ 　 Samson   C . Control   of   chained   systems — — Application   to   path   following   and   time - varying   point - stabilization   of   mobile   robots . IEEE   Trans . Autom . Control , 1995 , 40 : 64 ～ 77 
 ［ 3 ］ 　 d ' Andrea - Novel   B , Campion   G , Bastin   G . Control   of   nonholonomic   wheeled   mobile   robots   by   state   feedback   linearization . Int . J . Robotics   Research , 1995 , 14 : 543 ～ 559 
 ［ 4 ］ 　 Murray   R   M , Sastry   S   S . Nonholonomic   motion   planning — — steering   using   sinusoids . IEEE   Trans . Autom . Control , 1993 , 38 : 700 ～ 716 
 收稿 日期 　 1997 - 11 - 02 
 修稿 日期 　 1998 - 05 - 18 
