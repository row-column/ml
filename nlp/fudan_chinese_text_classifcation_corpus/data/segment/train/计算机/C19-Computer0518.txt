　 自动化 学报 
 ACTA   AUTOMATICA   SINICA 
 1997 年   第 23 卷   第 3 期   vol.23   No.3   1997 
 
 
 
 控制系统 故障 树 自动 建造 的 一种 方法 1 ） 
 简志敏 　 胡东成 　 童诗白 
 　 　 摘 　 要 　 提出 一种 改进 的 有向图 法 — — 一般 有向图 法 . 使用 这一 方法 ， 不但 能 较 好 地 完成 简单 控制系统 的 自动 建树 ， 而且 可以 较 好 地 完成 有 较 复杂 控制结构 的 控制系统 的 自动 建树 ， 克服 了 传统 有向图 法 自动 建树 的 困难 . 
 　 　 关键词 　 故障 树 的 自动 建造 ， 有向图 法 ， 控制系统 ， 可靠性 分析 . 
 A   NEW   METHODOLOGY   OF   AUTOMATIC   CONSTRUCTION   OF 
 FAULT   TREES   FOR   CONTROL   SYSTEMS 
 JIAN   ZHIMIN 　 HU   DONGCHENG   TONG   SHIBAI 
 ( Dept .   of   Automation ,   Tsinghua   University ,   Beijing   100084 ) 
 　 　 Abstract 　 AGFT   ( Automatic   Generation   of   Fault   Trees )   is   the   problem   with   which   system   reliability   analysis   are   much   concerned .   This   paper   presented   an   improved   Digraph ,   the   General   Digraph .   By   the   General   Digraph ,   you   can   construct   fault   trees   automatically   not   only   for   simple   control   systems   but   also   for   complex   control   systems .   It   overcomes   difficulties   in   using   traditional   Digraph   to   construct   fault   trees   of   complex   control   systems . 
 　 　 Key   words 　   Automatic   construction   of   fault   trees   ,   digraph ,   control   systems ,   reliability   analysis . 
 　 　 1 　 引言 
 　 　 自动 建造 故障 树是 故障 树 分析法 研究 中 的 一个 重要 分支 . 自 1973 年 以来 ， 人们 陆续 提出 了 数种 自动 建造 故障 树 的 模型 和 相应 的 算法 ［ 1 ］ . 在 这些 方法 中 ， 有向图 法 ［ 2 ， 3 ］ 深受 重视 . 在 Lapp   &   Powers 于 1977 年 提出 这一 方法 后 ， 人们 多次 对 其 进行 了 修正 和 改进 ［ 4 － 10 ］ . 然而 ， 困难 依然 存在 . 特别 是 在 处理 较 复杂 控制系统 时 ， 用 有向图 法 自动 建造 故障 树 经常 产生 一些 错误 的 结果 . 为此 ， 本文 提出 一种 更加 系统化 和 更加 严格 的 有向图 法 ， 称之为 一般 有向图 法 . 
 　 　 2 　 一般 有向图 法 的 概念 和 约定 
 　 　 定义 1 . 能 充分 描述 元 部件 在 正常 情况 下 的 功能 特征 以及 当元 部件 在 各种 失效 模式 下 的 失效 特征 的 元 部件 模型 ， 称为 该元 部件 的 完全 模型 . 
 　 　 定义 2 . 根据 元 部件 的 完全 模型 来 构造 的 系统 有向图 模型 ， 称为 系统 的 一般 有向图 模型 ， 简称 系统 的 一般 有向图 . 
 　 　 定义 3 . 在 一般 有向图 中 ， 表示 过程 变量 的 节点 称为 过程 节点 . 
 　 　 定义 4 . 在 一般 有向图 中 ， 表示 某个 失效 事件 的 节点 称为 失效节点 . 
 　 　 定义 5 . 在 一般 有向图 中 ， 每 一个 过程 节点 对应 一个 变量 ， 称为 过程 节点 变量 . 
 　 　 定义 6 . 在 一般 有向图 中 ， 每 一个 失效节点 和 每 一个 为 失效 事件 的 边 增益 条件 均 分别 对应 一个 变量 ， 称为 失效 变量 . 
 　 　 如 对于 一个 气压 阀 ， 在 仔细分析 了 其 功能 和 失效 特征 后 ， 可以 建立 其 完全 模型 ， 用 一般 有向图 表示 如图 1 所示 . 其中 节点 ‘ M1 ’ ， ‘ M2 ’ ， ‘ P3 ’ 为 过程 节点 ； 而 节点 ‘ CLOSED ’ ， ‘ OPEN ’ 则 为 失效节点 . 过程 节点 ‘ M1 ’ ， ‘ M2 ’ ， ‘ P3 ’ 所 对应 的 过程 节点 变量 用 过程 节点 名 定义 分别 为 M1 ， M2 ， P3 . 失效节点 ‘ CLOSED ’ ， ‘ OPEN ’ 所 对应 的 失效 变量 用 节点 名 定义 分别 为 CLOSED ， OPEN . 另外 ， 失效 变量 CLOSED ， OPEN 在 模型 中 还 对应 表示 边 增益 条件 的 失效 事件 . 
 
 图 1 　 气压 阀 及其 完全 模型 
 　 　 约定 1 . 元 部件 完全 模型 的 边 增益 可以 根据 元 部件 建模 的 需要 设定 为 过程 节点 变量 . 
 　 　 约定 2 . 过程 节点 变量 是 整型 变量 ， 其 取值 为 ( - η , + η ) 之内 的 相对 整数 ( η 是 一个 过程 节点 变量 扰动 远 不能 达到 的 一个 相对 正整数 ， 在 本文 的 讨论 中 ， 不妨 定义 为 100 ) . 0 为 正常值 . 过程 节点 变量 的 扰动 ( 偏差 ) 以 1 为 一个 等级 . ± 1 表示 扰动 在 一个 控制 环 的 控制 之内 ， ± 2 表示 扰动 超出 了 一个 控制 环 的 控制 范围 ， 但 在 两个 控制 环 的 控制 之内 ， 以此类推 . 
 　 　 约定 3 . 失效 变量 是 布尔 变量 ， 其 取值 有 0 ， 1 两种 形式 ， 当 失效 变量 取 0 时 表示 相应 的 失效 事件 没有 发生 ， 当 失效 变量 取 1 时 表示 相应 的 失效 事件 发生 了 . 失效 变量 可以 进行 取反 运算 ； 失效 变量 与 失效 变量 之间 进行 布尔运算 ； 失效 变量 与 过程 节点 变量 可以 进行 代数 运算 . 
 　 　 在 一般 有向图 法中 ， 为了 体现 负反馈 控制 环对 进入 控制 环 的 扰动 消除 作用 ， 特 定义 一个 变量 来 描述 它 . 
 　 　 定义 7 . 在 系统 一般 有向图 模型 中 ， 每 一个 负反馈 环 定义 一个 变量 与 之 对应 ， 称为 环 变量 . 
 　 　 对于 负反馈 控制 环 ， 在 系统 经过 了 调试 阶段 ， 进入 生产 阶段 后 ， 负反馈 控制 环有 两种 状态 ： 正常 作用 ， 失去 正常 作用 . 因此 ， 在 一般 有向图 法中 ， 对环 变量 作 如下 约定 ： 
 　 　 约定 4 . 定义 每 一个 负反馈 控制 环 的 控制 范围 为 1 ， 即环 变量 的 取值 有 两种 形式 ： 0 ， - 1 . 当环 变量 取值 0 时 ， 表明 负反馈 控制 环 失去 了 对 扰动 的 消除 作用 ； 当环 变量 取值 - 1 时 ， 表明 负反馈 控制 环 作用 正常 . 
 　 　 约定 5 . 环 变量 等于 负反馈 环 中 各段 增益 之积 ， 即 
 
 其中 LOOP 为 环 变量 ， Gloop 为 环中 相邻 两 节点 之间 的 增益 ( 有 条件 或 无条件 ) . 
 　 　 在 一般 有向图 法中 ， 有 一个 非常 重要 的 约定 ， 这个 约定 是 一般 有向图 法 的 核心 ， 在 作此 约定 前 ， 先 定义 如下 三个 概念 . 
 　 　 定义 8 . 在 一般 有向图 中 ， 一条 有 向 边 的 尾部 节点 称为 该边 的 原因 节点 . 
 　 　 定义 9 . 在 一般 有向图 中 ， 一条 有 向 边 的 头部 节点 即 该 边 所 指向 的 节点 ， 称为 该边 的 结果 节点 . 
 　 　 约定 6 . 一般 有向图 法将 每 一个 结果 过程 节点 看成 是 一个 加法器 . 如果 一个 过程 节点 没有 负反馈 环 与 之   相关 ， 则 其 对应 过程 节点 变量 可由 下式 计算 
 EN = CN * G . 
 其中 EN 表示 某 结果 过程 节点 “ EN ” 相应 的 过程 节点 变量 ； CN 表示 EN 的 原因 节点 变量 ( “ CN ” 可能 是 过程 节点 ， 也 可能 是 失效节点 ) ； G 是 CN 与 EN 之间 的 增益 . 如果 一个 过程 节点 有 负反馈 环 与 之 相关 ， 则 其 过程 节点 变量 可由 下式 计算 
 EN = J * LOOP + DCN * Gl . 
 其中 　 LOOP 是 与 过程 节点 “ EN ” 相关 的 负反馈 环 的 环 变量 ( 所谓 某 过程 节点 与 某 反馈 环 相关 ， 是 指该 过程 节点 是 该 反馈 环 的 首 节点 ， 即该 反馈 环控制 元 部件 的 输出 节点 ) ； DCN 是 进入 反馈 环 的 外部 扰动 节点 变量 ； Gl 是 外部 扰动 “ DCN ” 传播 到 “ EN ” 的 路径 上 各边 的 边 增益 之积 ； J 是 环 变量 的 符号 因子 ， 表示 负反馈 控制 环 正常 时 的 调整 方向 ， 常 被 定义 为 
 
 根据上述 定义 和 约定 ， 就 可以 建立 能 描述 系统 或 部分 系统 的 方程 ( 组 ) 了 . 
 　 　 定义 10 . 从 一般 有向图 得到 的 ， 由 过程 节点 变量 、 失效 变量 、 环 变量 等 组成 的 ， 描述 了 系统 或 系统 某 部分 的 功能 和 失效 特征 的 ( 一组 ) 方程 ， 称为 一般 有向图 方程 ( 组 ) . 
 　 　 在 一般 有向图 法中 ， 用 一般 有向图 方程 ( 组 ) 来 描述 系统 的 控制 环 部分 . 系统控制 环 部分 故障 ( 或 扰动 ) 传播 的 路径 可 由 其 一般 有向图 方程 ( 组 ) 解得 . 
 　 　 值得 指出 的 是 ， 一般 有向图 方程 的 另 一个 重要 的 用途 是 可以 被 用来 检查 一个 元 部件 的 完全 模型 建立 得 正确 与否 . 另外 ， 在 一般 有向图 法中 ， 还 定义 了 与 顶 事件 相关 的 如下 两个 概念 . 
 　 　 定义 11 . 顶 事件 定义 于 其 上 的 过程 节点 ， 称为 顶 节点 . 
 　 　 定义 12 . 与 顶 节点 对应 的 过程 节点 变量 ， 称为 顶 变量 . 
 　 　 3 　 基于 一般 有向图 的 故障 树 的 建造 
 　 　 在 为 有 复杂 控制结构 的 系统 建造 故障 树 的 过程 中 ， 对 其 控制 环 结构 的 处理 是 自动 建造 故障 树 的 难点 . 基于 一般 有向图 建造 系统 中环 结构 故障 树 的 基本 思想 为 
 　 　 1 ) 根据 系统 的 拓扑 结构 互连 组成 系统 的 元 部件 的 完全 模型 构造 系统 的 一般 有向图 ； 
 　 　 2 ) 根据 一般 有向图 ， 建立 一般 有向图 方程 ( 组 ) ； 
 　 　 3 ) 根据 顶 事件 或 中间 事件 ， 解 一般 有向图 方程 ( 组 ) ， 得到 顶 事件 或 中间 事件 的 割集 和 故障 树 . 
 　 　 一般 有向图 法 建造 故障 树 的 算法 如下 ： 
 　 　 ( 1 ) 互连 元 部件 的 完全 模型 建立 系统 一般 有向图 ； 
 　 　 ( 2 ) 定义 顶 事件 ； 
 　 　 ( 3 ) 将 顶 事件 推入 STACKK 中 ； 
 　 　 ( 4 ) STACKK 空 吗 ? 是 ， 停 ( 故障 树 建造 完毕 ) ； 否 ， 从 STACKK 中弹 出 一个 事件 作为 当前 事件 并置 其 变量 为 当前 变量 ； 
 　 　 ( 5 ) 当前 变量 是 某 反馈 环 的 首 变量 或是 某 前馈 环 的 终点 变量 ? 是 ， 转 ( 6 ) ； 否 ， 转 ( 8 ) ； 
 　 　 ( 6 ) 搜索 与 当前 变量 相关 的 环 和 当前 变量 对应 节点 的 输入 ， 列 一般 有向图 方程组 ； 
 　 　 ( 7 ) 以 当前 事件 为 边界条件 解该 方程组 ， 并 根据 解画 相应 的 故障 树枝 ， 转 ( 9 ) ； 
 　 　 ( 8 ) 用 “ 直接 原因 概念 ” 发展 故障 树 ； 
 　 　 ( 9 ) 将 非底 事件 原因 事件 推入 STACKK   中 存储 ， 转 ( 4 ) ； 
 　 　 其中   STACKK   是 一个 执行 “ 先入 后 出 ” 原则 的 堆栈 . 
 　 　 4 　 结论 
 　 　 虽然 故障 树 的 自动 建造 作为 故障 树 分析 技术 的 一个 重要 分支 ， 多年 来 一直 倍受 关注 ， 但 也 存在 着 争论 ［ 6 ， 9 ］ . 引起 争论 的 重要 原因 在于 故障 树 的 自动 建造 本身 发展 不 成熟 ， 无法 产生 令人信服 的 、 正确 的 故障 树 . 本文 用 定量分析 与 定性分析 相结合 ， 提出 的 一般 有向图 法能 较 好地解决 具有 比较复杂 控制结构 的 系统故障 树 的 自动 建造 问题 ， 克服 了 传统 有向图 法 遇到 的 困难 ， 是 故障 树 自动 建造 技术 一个 有 意义 的 进展 . 
 1 ) 得到 国家自然科学基金 的 资助 . 
 作者简介 ： 简志敏 　 1967 年生 . 1989 年 毕业 于 华中理工大学 电子 与 信息工程 系 ， 1991 年于 武汉 工学院 获 硕士学位 ， 1995 年于 清华大学 自动化系 获 博士学位 . 现在 IBM 中国 研究 中心 工作 . 主要 研究 兴趣 为 可靠性 分析 、 数字 图书馆 . 
 　 　 　 　 　 胡东成 　 1946 年生 . 清华大学 自动化 系主任 、 教授 、 博士生 导师 ， 中国 自动化 学会 教育 委员会 主任委员 ， 中国 电子 学会 高级 会员 . 长期 从事 电子 与 自动化 方面 的 教学 与 科研工作 ， 主要 研究 方向 为 自动测试 、 故障诊断 与 可靠性 . 
 作者 单位 ： 清华大学 自动化系 　 北京 　 100084 
 参考文献 
 　 ［ 1 ］ 简志敏 . 控制系统 故障 树 自动 建造 的 一种 新 方法 ［ 学位 论文 ］ . 北京 ： 清华大学 自动化系 ， 1995 . 
 　 ［ 2 ］ Lapp   A   S ,   Powers   G   J .   Computer - aided   synthesis   of   Fault - trees .   IEEE   Trans .   Rel . ,   1977 , R - 26 ( 1 ) : 2 - 13 . 
 　 ［ 3 ］ Lapp   A   S ,   Powers   G   J .   Up - date   of   lapp - powers   fault   tree   synthesis   algorithm .   IEEE   Trans .   Rel . ,   1979 , R - 28 ( 1 ) : 12 - 14 
 　 ［ 4 ］ Lambert   H   E .   Comments   on   the   lapp - powers   computer - aided   synthesis   of   fault   trees .   IEEE   Trans . Rel . ,   1979 , R - 28 ( 1 ) : 6 - 7 . 
 　 ［ 5 ］ Allen   D   J ,   Rao   M   S   M .   New   algorithms   for   the   synthesis   and   analysis   of   fault   trees .   Ind .   Eng .   Chem .   Fundam . ,   1980 ,   19 : 79 - 85 . 
 　 ［ 6 ］ Andow   P   K .   Difficulties   in   fault   tree   synthesis   for   process   plant .   IEEE   Trans .   Rel . ,   1980 ,   R - 29 ( 1 ) : 2 - 8 . 
 　 ［ 7 ］ Kumamoto   H ,   Henley   E   J .   Automated   fault   tree   synthesis   by   disturbance   analysis .   Ind .   Eng . Chem .   Fundam . ,   1986 ,   25 : 233 - 239 . 
 　 ［ 8 ］ Allen   D   J .   Digraphs   and   fault   trees .   Ind .   Eng .   Chem .   Fundam . ,   1984 , 23 : 175 - 180 . 
 　 ［ 9 ］ Andrews   A ,   Brennan   G .   Applications   of   the   digraph   method   of   fault   tree   construction   to   a   complex   control   configuration .   Rel .   Eng .   &   Sys .   Safety ,   1990 , 　 28 : 357 - 384 . 
 　 ［ 10 ］ Chang   C   T ,   Hwang   H   C .   New   developments   of   the   digraph - based   techniques   for   fault   tree   synthesis .   Ind .   Eng .   Chem .   Res . ,   1992 ,   31 : 1490 － 1502 . 
 收稿 日期 　 1994 - 06 - 24 
