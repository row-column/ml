计算机 应用 
 Computer   Applications 
 1999 年   第 19 卷 　 第 8 期   Vol.19 　 No.8   1999 
 
 
 
 基于 多级 内码 的 信息 服务 系统 
 — — 谈 多级 内码 理论 在 信息 领域 的 应用 
 刘功申 　 吴胜远 　 
 　 　 摘 　 要 　 多级 内码 理论 是 一种 新型 的 汉字 处理 理论 ， 其 独特 的 优点 使 其 具有 广阔 的 发展前景 。 录音 和 人工 方式 一直 是 信息 台 不可逾越 的 障碍 。 基于 多级 内码 的 信息 服务 系统 ， 巧妙 地 运用 了 MMC 理论 ， 解决 了 这方面 的 问题 ， 填补 了 国内外 空白 。 本文 介绍 了 多级 内码 的 分词 方法 的 应用 ， 以及 信息 服务 系统 的 组成 和 功能 ， 说明 了 系统 的 发展前景 。 
 　 　 关键词 　 多级 内码 ， 数据库 处理 平台 ， 信息 机系统 ， MCTI 
 THE   INFORMATION   SERVICE   SYSTEM   BASED   ON   MMC 
 Liu   Gongshen 　 Wu   Shengyuan 
 Department   of   Computer   Science ,   Sandong   University   of   Industry ,   Sandong ． Jinan   250061 
 　 　 Abstract 　 Theory   of   multilevel   machine   code   is   a   new   theory   of   Chinese   information - handle   which   has   great   prospect   with   its   special   advantages .   Recording   mode   and   manual   mode   are   always   the   unoversteping   handicap .   The   information   service   system   based   on   MMC ,   uses   the   theory   skillfully ,   overcomes   these   problems ,   and   fills   up   domestic   and   overseas   blank .   This   paper   introduces   the   application   of   MMC   words   segmentation ,   the   construct   and   function   of   the   information   service   system ,   illuminates   the   future   of   the   system . 
 　 　 Keywords 　 MMC ( Multilevel   Machine   Code ) ,   Processing   platform   of   database ,   Information   machine   system ,   MCTI ( Multilevel   Computer   Telephone   Integration ) 
 1 　 信息 服务 现状 
 　 　 目前 ， 传统 的 160 、 168 等 信息 服务 业务 都 是 采用 两种 方式 ： 用 录音 文件 来 应答 用户 的 请求 ； 值班 业务员 应答 用户 的 信息 查询 及 请求 。 然而 ， 在 现实生活 中 ， 大量 的 信息 都 是 以 数据库 的 方式 存在 。 并且 ， 我们 知道 ， 这些 数据库 都 是 普通 文本 数据库 。 虽然 ， TTS 技术 已 相当 成熟 ， 但 由于 分词 不能 精确 的 自动 完成 ， 传统 的 声 迅台 都 不能 提供 数据库 文本 信息 的 语音 服务 。 基于 多级 内码 的 语音 处理 技术 恰好 解决 了 分词 方面 的 问题 ， 该 技术 与 数据库 处理 平台 相结合 ， 使得 数据库 文本 信息 的 语音 服务 成为 现实 。 
 2 　 系统 的 概貌 
 　 　 在 高速 发展 的 信息时代 ， 以 PC机 为 终端 的 计算机 通信网 和 以 电话机 为 终端 的 电话网 ， 几乎 覆盖 了 人类 生存 的 各个 角落 。 近几年来 ， 随着 Internet 的 发展 ， 多媒体 、 ATM 、 IP 、 语音 处理 技术 和 程控 交换 技术 的 进步 ， 使 两大 通信网 在 高层次 上 融为一体 成为 可能 ， 这 就是 近几年 迅速 发展 的 CTI ， 即 计算机 电话 语音 集成 技术 。 CTI 技术 在 组建 客户服务 信息网络 中起 着 核心作用 。 
 　 　 MCTI 是 基于 多级 内码 理论 的 CTI 。 基于 多级 内码 的 信息 服务 系统 是 MCTI 的 实际 应用 。 由于 多级 内码 的 编码 特殊 优点 ， 所以 在 MMC 为 基础 的 CTI 中 ， 不必 预先录制 发音 信息 ， 可 直接 按照 多级 内码 的 编码方式 播放 ， 大大减少 了 信息 的 维护 量 ， 节省 了 系统 的 存储空间 和 处理 时间 ； 又 由于 采用 ODBC 技术 ， 可 对 任意 种类 的 数据源 进行 处理 ， 使 其 可 方便 灵活 地 对 现有 的 信息 进行 处理 ， 大大 增强 了 系统 的 通用性 。 
 　 　 整个 系统 是 一个 基于 Windows   NT 的 局域网 。 系统 通过 信息 机与 公众 电话网 （ PSTN ） 进行 交互 ， 给 用户 提供 语音 服务 ； 通过 处理机 与 信息源 相连 ， 挖掘 信息 ， 并 进行 多级 转换 处理 。 信息源 主要 指 远程 的 数据库 。 
 　 　 系统 主要 由 四个 组成部分 ： 信息 机系统 ， 它 主要 负责 接受 外部 通讯网 的 信息 ， 负责 监听 、 调度 座席 ， 并 把 经过 座席 处理 的 信息 发送给 用户 ； 数据库 处理 平台 ， 主要 负责 普通 数据库 （ 通常 的 文本 数据库 ） 转换 为 多级 内码 编码 ； 坐席 系统 的 任务 是 通过 服务器 实现 信息 机与 座席 的 信息 交互 ， 或 直接 实现 客户 与 坐席 服务员 的 通信 ； 服务器 是 系统 所有 资源 的 存储器 。 提供 给 用户 查询 的 相关 数据库 、 系统管理 数据库 、 系统 语音 数据 、 用户 语音 数据 都 存储 在 服务器 上 。 
 
 
 图 1 　 基于 多级 内码 的 CTI 系统 
 3 　 信息 机系统 
 　 　 信息 机 主要 由 语音 板卡 、 PC机 和 软件 构成 ， 它 的 构成 类似 于 传统 的 声讯台 组成 结构 。 其中 ， 语音 板卡 采用 DIALOGIC 公司 的 D300 或 D41E 等 。 语音卡 直接 插 在 计算机 的 扩展槽 上 ， 占用 一个 中断 地址 。 计算机 CPU 通过 中断 响应 控制 语音卡 完成 摘机 、 挂机 、 录音 、 放音 、 自动 拨号 、 DTMF 接收 识别 等 功能 。 所有 语音 查询 系统 的 设计 都 可以 采用 这一 模型 。 通过 软件 和 语音卡 的 配合 ， 实现 信令 处理 、 流程 控制 、 业务 处理 以及 结束 呼叫 处理 和 系统 退出 等 过程 。 它 的 功能 主要 有 ： 
 　 　 电话 公告 功能 　 该 功能 可以 将 公告 文本 转换成 正确 的 语音 流 ， 供 电话 用户 查询 信息 。 当 用户 拨通 系统 的 特服号 后 ， 依照 系统 提示 拨 相应 的 公告 号码 ， 系统 就 会 将 该 信息 号 对应 的 公告 文本 转化 后 回放 给 呼叫者 。 
 　 　 录音 和 回放 及 扩展 功能 　 根据 不同 用户 的 要求 ， 系统 采用 数字化 方法 可以 录制 歌曲 、 股评 ， 留言 等 信息 存放 在 磁盘 上 。 用户 可以 利用 系统 的 回放 功能 收听 上述 信息 。 在 此基础 上 ， 可以 建立 语音 邮箱 或 录音电话 系统 。 该 录音电话 系统 具有 保密性 ， 用户 凭 密码 访问 ， 可以 方便 的 对 自己 的 邮箱 进行 更改 密码 、 重复 提取 、 清空 、 设置 邮箱 容量 等 操作 。 
 　 　 数据库 管理 功能 　 系统 的 数据 来源 比较 广泛 ， 而且 更新 速度 比较 快 ， 对此 系统 提供 了 相应 的 数据库 接口 以 实现 数据库 管理 功能 。 该 模块 采用 ODBC 接口 ， 保证 了 系统 的 通用性 。 
 　 　 坐席 的 转接 　 根据 用户 的 不同 ， 判断 是否 将 呼入 用户 转入 座席 服务员 。 由 座席 服务员 完成 信息 的 查询 ， 然后 ， 按照 自动 或 半自动 两种 方式 将 信息反馈 给 用户 。 
 　 　 质检 席 ( 班长 席 ) 的 设置 　 作为 为 社会公众 服务 的 信息 查询 系统 ， 同样 涉及 到 服务质量 的 问题 。 系统 设置 了 质检 席 ， 从 质检 席 可以 选择 监听 任一 话务员 的 服务 。 还 可以 将 其 服务 过程 记录 在 质检 席 的 磁盘 中 ， 以便 进行 服务 后 的 核对 检查 。 
 　 　 电子邮件 信箱 的 设置 　 系统 的 这种 功能 使 用户 仅仅 拨 一个 电话 ， 就 能 收听到 自己 最新 的 电子邮件 。 
 4 　 数据库 处理 平台 
 　 　 数据库 处理 平台 是 一个 处理软件 ， 它 运行 于 处理机 上 。 由于 处理 的 信息 多为 数据库 信息 ， 所以 叫 数据库 处理 平台 （ 实际上 ， 该 平台 不仅仅 是 对 数据库 处理 ） 。 其 功能 主要 是 把 数据库 （ 各种 数据库 ： SYBASE 、 ORACLE 、 DB2 、 VFP 、 SQL   SERVER 等等 ） 的 文本 信息处理 成 多级 内码 信息 ， 以便 于 该种 信息 的 电话 访问 。 
 　 　 平台 的 其他 功能 包括 ： 对 未经 处理 的 文本 进行 多向 转换 ； 在 电子邮件 信箱 功能 中 ， 接收 电子邮件 ， 加以 转换 ； 对系统 进行 管理 ， 在 系统 不 停机 的 状态 下 ， 加入 或 修改 业务流程 ; 实现 与 服务器 和 座席 的 信息 交互 。 这些 功能 可以 集中 在 一台 处理机 上 ， 也 可以 由 若干 台 处理机 分别 处理 ， 以便 减轻 单台 机器 的 处理 强度 。 处理机 的 配置 是 相当 灵活 的 。 
 　 　 该 平台 负责 单级 和 多级 信息 之间 的 转换 ， 并 在 服务器 上 维护 相应 的 信息库 ， 信息库 内 存放 的 是 经过 多级 内码 技术 处理 过 的 信息 。 该 信息 的 特点 是 ， 包括 了 分词 信息 、 音调 信息 、 音律 信息 等等 。 并且 ， 根据 远程 数据库 的 更新 ， 能 实时 更新 信息库 的 内容 ； 另一方面 ， 实现 信息 机与 处理 平台 对 服务器 上 的 信息库 的 并行 访问 ， 信息 机 可以 同时 访问 多个 信息库 。 
 4.1 　 对 数据库 字段 的 分词 处理 
 　 　 对 某 一 数据库 字 段 进行 分词 处理 的 特点 如下 ： 
 　 　 字段 内 的 文字 是 分类 的 ( 姓名 字段 都 是 人名 ， 地址 字段 都 是 地址 ) 。 因此 ， 可以 在 对 字 段 进行 分词 处理 时用 专门 的 分词 算法 ； 
 　 　 字段 内 最 复杂 的 是 单句 的 处理 ， 单句 的 信息 一般 不会 受 上下文 语境 的 影响 。 也就是说 一个 单句 可以 表达 一个 清晰 的 含义 而 不受 上下文 的 影响 ； 
 　 　 延迟 处理 。 ( 如果 万一 有 含有 歧义 的 句子 ， 在 信息 的 自动化 处理 阶段 ， 可以 标记 而 等到 人工 后期 的 检测 处理 阶段 。 ) 
 4.2 　 数据 的 实时 更新 
 　 　 服务器 上 存放 着 数据源 的 一个 映像 库 。 数据源 可以 是 本地 的 ， 也 可以 是 远程 的 ； 映像 库存 放 的 是 经过 处理机 处理 后 形成 的 多级 内码 信息 。 当 数据源 有 添加 ， 删除 ， 更新 等 操作 时 ， 我们 希望 服务器 上 的 信息 也 能 动态 更新 ， 或者 在 一个 很小 的 时间延迟 内 进行 更新 。 也 就是 所谓 的 数据 一致性 问题 。 
 　 　 经过 考察 我们 知道 ： 对于 大型 数据库 应用 系统 ， 总是 存在 日志 文件 。 在 日志 文件 中 ，   记载 了 添加 ， 删除 ， 更新 等 操作 的 内容 。 可 做 一个 监控 程序 ， 对 日志 文件 进行 监控 ， 提取 有关 信息 ， 让 处理机对 映像 库 进行 实时 更新 。 
 　 　 对于 小型 数据库 应用程序 ， 可以 有 两种 方法 ： 首先 ， 有些 比较 正规 的 应用程序 都 有 用户 自己 开发 的 日志 文件 ， 处理 方法 等同于 大型 数据库 的 处理 方法 ； 其次 ， 若 没有 用户 自己 开发 的 日志 文件 ， 由于 数据量 一般 不 多 ， 可以 在 数据源 端 开发 一个 监控 程序 ， 用 逐个 检测 的 方法 解决 。 
 4.3 　 异种 数据库 的 访问 
 　 　 对于 异种 数据库 ， 采用 ODBC 进行 连接 ， 实现 极为 灵活 的 数据源 处理 功能 ， 包括 动态 选择 数据源 ， 动态 选择 数据表 ， 动态 选择 表中 的 字 段 ， 动态 确定 处理 的 记录 ， 保证 了 对 异种 数据库 的 信息处理 能力 和 应用程序 的 通用性 ， 并且 提供 多个 数据库 的 同时 访问 ， 具有 实时性 好 的 优点 。 采用 多级 内码 分词 理论 ， 实现 数据表 中 的 内容 的 多 向 转换 。 
 5 　 座席 系统 
 　 　 信息 机 负责 接受 外部 通讯网 的 信息 ， 负责 监听 调度 座席 ， 并 把 经过 座席 处理 的 信息 发送给 用户 ； 座席 终端 的 功能 主要 是 给 话务员 提供 人工 查询 的 平台 ,   实现 对 由 信息 机 传来 的 信息 进行 关键字 的 结果 查询 ， 把 结果 传给 用户 。 坐席 系统 在 整个 MCTI 系统 中 完成 座席 的 查询 功能 及 信息 发送 ， 其 实现 中 采用 的 技术 主要 有 ： 使用 ODBC 技术 完成 对 信息 的 动态 处理 和 动态 查询 , 通过 多级 内码 的 单向 转换 （ 多级 到 单级 的 转换 ） 算法 确定 回传 信息 。 其 回传 方式 有 两种 ： 
 　 　 人工 方式 　 把 座席 服务员 的 声音 直接 播放 给 用户 ； 
 　 　 半自动 方式 　 坐席 服务员 把 查询 结果 传给 信息 机 ， 由 信息 机 按照 文本 播放 合成 后 的 语音 信息 。 
 6 　 应用 和 意义 
 　 　 该 系统 可 广泛应用 于 证券 、 金融 、 广告 、 交通 等 行业 的 信息 查询 系统 、 语音信箱 系统 等 。 对于 一个 企事业 机构 来说 ， 将 客户 和 企业 有机 的 结合 在 一起 ， 不断 地 增加 使 客户 感到 满意 的 服务 ， 这是 一个 企业 在 当今 市场 取得成功 的 重要 因素 。 该 系统 的 作用 就是 在 企业 和 客户 之间 架起 连接 的 桥梁 ， 使 企业 为 客户 提供 上乘 服务 。 
 　 　 考虑 到 多级 内码 存储量 小 （ 人以 正常 语速 一秒 所 描述 的 信息 ， 以 多级 内码 格式 存储 ， 仅仅 需要 几个 字节 。 ） 、 中国 的 电话 普及率 比 电脑 普及率 要 高 的 多 （ 山东省 几乎 村村通 电话 ， 有 一些 大学校园 更是 每个 宿舍 都 普及 了 电话 。 ） 、 特殊 环境 下 电话 （ 包括 无线电话 ） 的 优点 （ 交通警察 值勤 时 电话 总 比 电脑 方便 ） 。 特别 是 ， 大量 的 信息 来源于 数据库 ， 像 图书馆 信息 、 科技 情报检索 、 考试成绩 信息 、 电话费 信息 等等 ， 这些 都 以 文本 的 形式 存储 于 数据库 。 运用 该 系统 后 ， 仅用 电话 ， 就 可以 查询 你 想要 的 信息 。 可见 ， 系统 的 应用 前景 是 充满希望 的 。 
 作者简介 ： 刘功申 　 硕士 研究生 。 　 吴胜远 　 教授 , 硕士生 导师 。 研究 方向 ： 中文信息处理 、 计算 
 　 　 　 　 　 机 电话 集成 技术 。 
 作者 单位 ： 刘功申 　 吴胜远 　 山东 工业 大学 计算机 科学技术 系 　 山东 ． 济南 （ 250061 ） 
 参考文献 
 　 ［ 1 ］ 　 吴胜远 . 多级 内码 理论 及 应用 效果 . 计算机 应用 ， 1995 ; ( 9 ) : 68 - 70 
 　 ［ 2 ］ 　 ( 美 ) Raj   Rajagopd ,   Subodh   P . Monia , 著 .   Windows   NT4   高级 程序设计 . 前导 工作室 ， 译 . 北京 ： 机械 工业 出版社 
 　 ［ 3 ］ 　 付 　 军 , 杨学君 ， 郭 　 杰 . 一种 基于 语音卡 的 通用 电话 查询 系统 的 设计 . 计算机 工程 与 应用 , 1998 , 11 : 67 - 69 
 收稿 日期 : 1999 - 02 - 28 
