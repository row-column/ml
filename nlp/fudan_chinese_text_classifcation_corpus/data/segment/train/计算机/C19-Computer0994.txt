自动化 学报 
 ACTA   AUTOMATICA   SINICA 
 1998 年   第 24 卷   第 1 期     Vol.24     No.1   1998 
 
 
 
 基于 准时 制 的 炼钢 - 连铸 生产 
 调度 问题 研究 
 唐 立新 　 杨自厚 　 王梦光 
 摘 　 要 　 在 钢铁 CIMS 下 对于 在 安排 炼钢 - 连铸 调度 中 的 机器 冲突 问题 建立 了 基于 准时 制 调度 思想 的 数学模型 ， 经过 变换 ，   将 非线性 规划 问题 转化 为 线性规划 问题 ， 用 标准 线性规划 程序 进行 求解 ，   使 这 一 模型 能够 用于 生产 实际 .   最后 给出 了 一个 应用 实例 .   
 关键词 　 钢铁 CIMS ，   炼钢 - 连铸 调度 ， 机器 冲突 ， 线性规划 .   
 RESEARCH   ON   STEELMAKING   AND   CONTINUOUS 
 CASTING   PRODUCTION   SCHEDULING 
 TANG   LIXIN 　 　 YANG   ZIHOU 　 　 WANG   MENGGUANG 
 ( Institute   of   System   Engineering   of   Northeastern   University ,   Shenyang   110006 ) 
 Abstract 　 In   this   paper   the   JIT   ( just   in   time )   idea   based   mathematical   model   is   presented   for   solving   machine   conflict   in   steelmaking   &   continuous   casting   production   scheduling   under   CIMS   environment .   By   conversion   strategy   the   non - linear   programming   model   is   converted   into   linear   programming   which   can   be   solved   by   standard   linear   programming   software .   It   is   proved   that   this   model   can   apply   to   actual   production .   An   application   example   is   given   at   the   end . 
 Key   words 　 CIMS   of   iron   &   steel   industry ,   steelmaking   &   continuous   casting   scheduling ,   machine   conflict ,   linear   programming . 
 1 　 引言 
 　 　 钢铁 产品 竞争 的 焦点 在于 产品 质优价廉 、 准时 交货 、 多 品种 小批量 .   生产 计划 与 调度 的 最优化 是 实现 上述 目的 重要途径 .   炼钢 - 连铸 是 钢铁 生产 的 瓶颈 工序 ［ 1 ］ ， 科学 确定 其 生产 调度 可以 充分 提高 大型 设备 的 生产 效率 ， 减少 工序 等待时间 ， 降低 物耗 和 能耗 ， 从而 降低成本 、 提高 产品 竞争力 .   因此 ， 这一 课题 的 研究 在 国际 上 极为 重视 ，   澳地利 Gmbh 钢厂 给出 炼钢 - 连铸 调度 的 建模 关键因素 ［ 2 ］ ，   并 对 炉次 在 机器 上 的 分配 给出 了 调度 模式 ；   Numao 等 ［ 3 ］ 用 人工智能 和 人机交互 结合 解决 炼钢 - 连铸 调度 问题 ，   Dorn 等 ［ 4 ］ 提出 了 基于 Fuzzy 集合 和 人工智能 结合 研究 炼钢 - 连铸 调度 问题 .   关于 炼钢 - 连铸 调度 问题 公开 发表 的 成果 较 少 ， 而且 这些 文章 主要 采用 人工智能 和 人机交互 方法 ， 没 能 给出 最优 的 数学模型 ， 难以 保证 最优性 .   
 　 　 本文 以 某 钢铁企业 生产 实际 为 背景 ， 对于 炼钢 - 连铸 调度 问题 ， 建立 了 非线性 规划 的 数学模型 ，   这一 模型 除了 考虑 生产工艺 约束 和 中间 工序 的 连续 生产 问题 外 ，   还 在 目标 函数 中 引进 了 准时 制 ( JIT ) 的 思想 ，   考虑 了 合同 的 准时 交货 问题 ，   使得 炉次 中 的 板坯 提前 或 拖期 生产 都 要 受到 费用 惩罚 .   为了 便于 求解 ，   提出 了 一种 变换 方法 ， 将 非线性 规划 问题 转化 为 线性规划 问题 ， 运用 标准 线性规划 程序 进行 求解 ，   使 这 一 模型 能够 用于 生产 实际 .   
 2 　 机器 冲突 消除 的 最优 调度 问题 的 数学模型 
 　 　 炼钢 - 连铸 调度 的 作业 程序 为 ［ 5 ］ ：   首先 进行 连铸机 上浇次 排序 与 调度 ，   在 此基础 上 确定 子 调度 和 粗 调度 ( 子 调度 叠加 ) ，   获得 的 粗 调度 存在 机器 冲突 .   本文 的 工作 是 建立 优化 模型 来 消除 机器 冲突 ， 最后 形成 最优 炼钢 - 连铸 调度 .   
 2.1 　 建模 因素 抽取 
 　 　 1 )   变量 的 选择 
 　 　 因 每 一炉次 在 各 工序 使用 的 机器 是 固定 的 ( 由 粗 调度 和子 调度 确定 ) ， 因此 选择 变量 时 只是 选择 任一 炉次 i 在 机器 j 上 的 开始 处理 时间 Xij .   
 　 　 2 )   目标 函数 的 确定 
 　 　 ( 1 )   尽量 保证 每一炉次 的 板坯 准时 交货 ，   用 提前 / 拖期 惩罚 达到 这一 目的 .   
 　 　 ( 2 )   对于 相邻 两 工序 的 时间 间隔 ，   使 等待时间 最少 ， 以 达到 由于 时间 等待 而 引起 的 钢 水温 降 最小 .   
 　 　 ( 3 )   尽量 保证 同一 浇次 的 炉次 连 浇 ， 即 进行 连铸 断开 损失 惩罚 .   
 　 　 3 )   约束 考虑 
 　 　 ( 1 )   同一 炉次 的 相邻 工序 要 等 前 一 工序 处理 结束 ， 才能 开始 下 一 工序 .   
 　 　 ( 2 )   对于 在 同一 工序 中 的 同一 机器 上 处理 的 相邻 炉次 ，   要 等 前 一炉次 处理 结束 ， 才能 开始 下 一炉次 
 　 　 ( 3 )   同一 连铸机 不同 浇次 之间 需要 调整 时间 和 间隔时间 .   
 　 　 4 )   基本 条件 
 　 　 ( 1 )   不 改变 子 调度 前后 顺序 ( 不可 改变 顺序 ) ； 
 　 　 ( 2 )   同一 机器 同时 只能 加工 一个 零件 .   
 2.2 　 符号 定义 
 　 　 定义 1 . 与 项目 i 在 机器 j 直接 相连 的 后序 项目 为 紧邻 后序 项目 ， 表示 为 SI ( i , j ) .   
 　 　 定义 2 . 项目 i 的 与 机器 j 直接 相连 的 后 道工序 的 机器 为 项目 i 在 机器 j 的 紧邻 后序 机器 ， 表示 为 SP ( i , j ) .   
 　 　 定义 3 . 　 Ω — — 全部 炉次 集合 　 Ω = { 1 , … , N } ； 
 　 　 定义 4 . 　 Ω k — — 第 k 个 CAST ( 浇次 ) 的 炉次 集合 ； k ∈ { 1 , … , M } .   对于 任何 j ≠ k ， j , k ∈ { 1 , … , M } , Ω j ∩ Ω k = O , 且 Ω 1 ∪ Ω 2 ∪ … ∪ Ω M = Ω ; 
 　 　 定义 5 . 　 Jk — — 第 k 个 浇次 的 炉 次数 ， 
 　 　 定义 6 . 　 П — — 全部 机器 的 集合 ， П = { 1 , … , J } ； 
 　 　 定义 7 . 　 Φ — — 全部 连铸机 的 集合 ， ｜ Φ ｜ = C , 且 ； 
 　 　 定义 8 . 　 П i 　 — — 第 i 个 炉次 使用 的 所有 机器 集合 .   П i 　 包含 于 П . 
 2.3 　 炼钢 - 连铸 调度 数学模型 
 　 　 炼钢 - 连铸 调度 问题 的 数学模型 如下 ： 
 　 　 ( P ) 
 
 　 　 　 　 　 　 　 　 　 ( 1 ) 
 subject   to : 
 　 　 　 　 　 　 　 　 　 ( 2 ) 
 　 　 　 　 　 　 　 　 　 ( 3 ) 
 　 　 　 　 　 　 　 　 　 ( 4 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 5 ) 
 其中 已知 量 为 ： N — — 生产 炉次 总数 ； J — — 全部 机器 总数 ； M — — 全部 浇次 总数 ； di — — 炉次 i 的 合同 交货 时间 ； C1k — — 浇次 k 的 连 铸 断开 损失 惩罚 费用 系数 ；   C2ij — — 炉次 i 在 机器 j 单位 等待时间 的 惩罚 费用 系数 ； C3i — — 炉次 i 在 合同 要求 时间 之前 生产 的 惩罚 费用 系数 ； C4i — — 炉次 i 拖期 生产 的 单位 时间 惩罚 费用 系数 ； Tij — — 炉次 i 在 机器 j 的 处理 时间 ； tjm — — 机器 i 到 机器 m 的 运输 时间 ； Skj — — 烧次 k 在 机器 j 上 的 调整 时间 ； μ — — 浇次 之间 的 间隔时间 .   决策 变量 为 Xij — — 炉次 i 在 机器 j 上 的 开始 时间 .   
 　 　 目标 函数 ( 1 ) 使得 在 下面 四个 部分 的 总 的 费用 之 和 最小 ： ( a )   连铸 断开 损失 惩罚 费用 ， 尽量 保证 同一 CAST 中 的 炉次 连 浇 ； ( b )   炉次 等待 处理 时间 的 惩罚 费用 ； ( c )   炉次 的 板坯 在 合同 要求 的 时间 之前 生产 的 惩罚 费用 ；   ( d )   炉次 的 板坯 拖期 生产 的 惩罚 费用 .   以 保证 炉次 准时 交货 .   约束 ( 2 ) 表示 对于 在 同一 工序 中 的 同一 机器 上 处理 的 相邻 炉次 ， 要 等 前 一炉次 处理 结束 才能 开始 下 一炉次 .   约束 ( 3 ) 表示 同一 炉次 的 相邻 工序 要 等 前 一 工序 处理 结束 ，   才能 开始 下 一 工序 .   约束 ( 4 ) 表示 同一 连铸机 不同 浇次 之间 需要 调整 时间 和 间隔时间 .   即 同一 铸 机上 的 上 一个 浇次 的 最后 一个 炉次 的 断 浇 时间 和 紧邻 后 一浇次 的 第一个 炉次 的 开 浇 时间 之间 要 留有 一定 的 调整 时间 和 时间 间隔 .   这是 一个 按照 JIT 思想 建立 的 模型 ， 但 同时 考虑 了 工序 之间 的 等待时间 最小 ， 炉 次连续 的 炉数 最大 ， 这是 一个 非线性 的 数学模型 ，   下面 提出 一种 变换 的 求解 方法 .   
 3 　 炼钢 - 连铸 调度 数学模型 的 求解 方法 
 　 　 因原 问题 目标 函数 属于 非线性 问题 ，   为了 便于 求解 ，   可 进行 下面 的 转换 .   
 假设 　 　 Zij = - Min ( 0 , Xij + Tij - di - 1 ) , 　 i ∈ Ω , j ∈ П i ∩ Φ , 
 　 　 　 　 Yij = Max ( 0 , Xij + Tij - di - 1 ) , 　 i ∈ Ω , j ∈ П i ∩ Φ , 
 则 　 　 　 Yij - Zij = Xij + Tij - di - 1 , 
 即 　 　 　 Xij = Yij - Zij - Tij + di + 1 ， 　 i ∈ Ω , j ∈ П i ∩ Φ . 
 则 模型 变为 如下 形式 ： 
 ( TP ) 
 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 6 ) 
 subject   to : 
 　 　 　 　 　 　 　 　 　 ( 7 ) 
 　 　 　 　 　 　 ( 8 ) 
 　 　 　 　 　 　 　 　 　 ( 9 ) 
 　 　 　 　 　 　 　 　 ( 10 ) 
 　 　 　 　 　 　 ( 11 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 12 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 13 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 14 ) 
 这是 一个 线性规划 模型 问题 ， 可用 标准 线性规划 程序 求解 .   
 4 　 应用 实例 
 　 　 某 炼钢厂 的 炼钢 - 连铸 工艺 路线 如图 1 所示 ，   3 个 浇次 ，   6 个 炉次 安排 计划 ，   模型 基础 参数 如表 1 所示 ，   则 子 调度 和 粗 调度 如图 2 所示 ，   用 线性规划 程序 进行 求解 ，   表 2 和 图 3 显示 应用 上述 模型 使 冲突 消除 的 求解 结果 .   
 表 1 　 模型 基础 参数 
 
 浇次 炉次 机器 加工 时间 ( s ) 交货期 和 惩罚 系数 运输 时间 ( s ) 
 号 号 123456d ( s ) C1C2C3C4 机器 — — 机器 
 1 
 
 2 
 
 31 
 2 
 3 
 4 
 5 
 68 
 
 8 
 
 6 
 8 
 9 
 
 8 
 
 
 9 
 
 7 
 7 
 87 
 
 6 
 
 
 8 
 
 8 
 8 
 8 
 8 
 8 
 
 
 
 41 
 49 
 33 
 41 
 53 
 6120 
 
 30 
 
 40 
 30 
 15 
 20 
 18 
 21 
 2425 
 20 
 30 
 15 
 19 
 1430 
 10 
 35 
 18 
 20 
 185 　 　 4 
 1 — — 3 — — 5 
 ( 3 ) 　 　 ( 4 ) 
 ( 3 ) 　 5 　 ( 2 ) 　 3 
 2 — — 4 — — 6 
 S4 , 5 = 3 , μ = 2 
 
 
 
 
 图 1 　 炼钢 - 连铸 工艺 路线 
 表 2 　 实例 的 计算结果 
 
 炉次 各炉次 在 相应 机器 上 的 开工 时间 ( s ) 
 1 
 2 
 3 
 4 
 5 
 6X11 = 13 
 X22 = 17 
 X31 = 5 
 X42 = 9 
 X51 = 27 
 X62 = 33X14 = 24 
 X23 = 29 
 X34 = 16 
 X43 = 20 
 X53 = 38 
 X64 = 46Y16 = 0 
 Y26 = 0 
 Y35 = 0 
 Y45 = 0 
 Y55 = 3 
 Y65 = 3Z16 = 0 
 Z26 = 0 
 Z35 = 2 
 Z45 = 2 
 Z55 = 0 
 Z65 = 0X16 = 34 
 X26 = 42 
 X35 = 24 
 X45 = 32 
 X55 = 49 
 X65 = 57 
 最优 值 的 计算结果 为 OPT = 252 
 
 
 
 
 图 2 　 机器 存在 冲突 时 的 炉次 调度 时间 排程 
 
 
 图 3 　 机器 冲突 消除 后 的 炉次 调度 时间 排程 
 5 　 结束语 
 　 　 对于 在 安排 炼钢 - 连铸 调度 中 的 机器 冲突 问题 ，   基于 准时 制 调度 思想 建立 了 非线性 规划 的 数学模型 ， 这一 数学模型 既 考虑 了 合同 的 准时 交货 问题 ， 又 考虑 了 中间 工序 的 连续 生产 问题 ，   非常 符合 现场 实际 生产 情况 ， 目前 尚未 有 此 类型 的 模型 ， 为了 便于 求解 ，   本文 提出 了 一种 变换 方法 ， 将 非线性 规划 问题 转化 为 线性规划 问题 ，   运用 标准 线性规划 程序 进行 求解 ， 使 这 一 模型 能够 用于 生产 实际 .   实践证明 ，   这种 方法 科学 有效 ： ( 1 )   减少 了 调度 产生 时间 ；   ( 2 )   降低 了 炉次 的 中间 等待时间 ， 从而 提高 了 调度 的 质量 .   在 实际 开发 项目 当中 ，   需加 人机交互 画面 进行 动态 调整 ，   增加 系统 的 适应性 和 灵活性 .   
 
 1 ) 　 国家自然科学基金 和 国家 “ 八 六三 ” 高技术 基金 资助 项目 . 
 作者简介 ： 唐 立新 　 1966 年生 .   1995 年 东北大学 系统工程 专业 博士 毕业 .   1996 年 为 香港科技大学 工业 工程系 博士后 .   现为 东北大学 系统工程 研究所 副教授 所长 ， 研究 方向 为 机械 与 钢铁 CIMS 中 的 生产 计划 与 调度 的 理论 方法 .   
 　 　 　 　 　 杨自厚 　 1926 年生 .   1950 年 毕业 于 武汉大学 电机系 ， 现为 东北大学 系统工程 研究所 教授 .   研究 领域 为 生产 排序 问题 、 组合 最优化 智能算法 ，   决策支持系统 构造 及其 应用 .   
 　 　 　 　 　 王梦光 　 1936 年生 .   1958 年 毕业 于 东北工学院 自动控制 系 .   现为 东北大学 系统工程 研究所 教授 ，   博士生 导师 .   研究 领域 为 生产 计划 与 调度 理论 与 方法 .   
 作者 单位 ： 东北大学 系统工程 研究所 　 沈阳 　 110006 
 参考文献 
 [ 1 ] 　 Lee   H   S ,   Murthy   S   S ,   Haider ,   S   W   et   al .   Primary   production   scheduling   at   steelmaking   industries .   IBM   J .   Res .   Develop ,   1996 ,   40 ( 2 ) , 231 - 252 . 
 [ 2 ] 　 Neuwirth   J .   A   production   scheduling   system   at   the   stahl   linz   GMBH .   In :   Int .   Conference   on   CPC - 93   in   Steel   Plant ,   Korean ,   December ,   1993 ,   342 - 350 . 
 [ 3 ] 　 Numao   M ,   Morishita   S .   Cooperative   scheduling   and   its   application   to   steelmaking   process .   IEEE   Tansactions   on   Industrial   Electronics ,   1991 , 38 ( 2 ) , 150 - 155 . 
 [ 4 ] 　 Dorn   J ,   Kerr   R .   Co - operative   scheduling   systems   communicating   through   fuzzy   sets .   In :   IFAC   Intelligent   Manufacturing   Systems ,   Vienna ,   Austria ,   October ,   1994 .   449 - 455 . 
 [ 5 ] 　 唐 立新 ，   杨自厚 ，   王梦光 . 炼钢 - 连铸 生产 计划 与 调度 结构 的 研究 . 东北大学 学报 ， 1996 ，   17 ( 6 ) ： 664 - 667 . 
 收稿 日期 　 1995 - 09 - 25 
