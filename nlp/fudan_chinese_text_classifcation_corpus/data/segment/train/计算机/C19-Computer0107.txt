计算机 工程 
 Computer   Engineering 
 1999 年 　 第 25 卷 　 第 9 期 　 Vol.25   No.9     1999 
 
 
 
 基于 Web 的 网络管理 技术 研究 的 设计 
 吴 　 刚 　 白英彩 
 　 　 摘 　 要 ： 首先 讨论 了 WBM 的 管理 特点 和 目前 的 两种 工业 管理 标准 ： WBEM 和 JMAPI ， 然后 提出 了 一种 基于 WBEM 的 网络 管理系统 设计 实现 方案 ( WebNMS ) ， 重点 阐述 WebNMS 实现 的 体系结构 和 系统 设计 实现 中 的 一些 关键 要点 ． WebNMS 提高 了 网络管理 的 效率 ， 为 复杂 Intranet 的 网络管理 提供 了 更 多 的 便利 和 更 大 的 灵活性 ． 
 　 　 关键词 ： 网络 管理系统 ； WBM ； WBEM ； JMAPI ； Java 语言 
 Research   and   Design   of   Web - based   Network   Management   System 
 Wu   Gang   Bai   Yingcai 
 ( Golden   Bridge   Network   Engineering   Center ,   Shanghai   Jiaotong   University ,   Shanghai   200030 ) 
 　 　 Abstract 　 This   paper   firstly   discussed   the   management   features   of   WBM   and   two   primary   industry   management   standards :   WBEM   and   JMAPI .   Then   a   design   scheme   based   on   WBEM   standard   to   implement   the   Web - based   Network   Management   System   ( WebNMS )   is   presented   in   detail .   Emphasis   lies   on   WebNMS   system   architecture   and   several   key   points   in   the   process   of   the   system   implementation .   Definitely ,   WebNMS   has   greatly   promoted   the   management   efficiency   and   provided   more   convinience   to   flexible   management   of   complex   network   systems . 
 　 　 Key   words 　 Network   management   system ;   WBM ;   WBEM ;   JMAPI ;   Java   programming 
 　 　 国外 网管 产品 具有 较强 的 性能 ， 其 价格 也 相当 高 ， 一般 通常 为 几 万美元 。 这样 的 价格 对 国内 的 一般 中小企业 是 相当 难于 承受 的 。 针对 这一 特点 ， 我们 开发 了 GoldView 中文 网络 管理系统 。 该 系统 是 一套 面向 中小型 企业 的 基于 PC   Windows 平台 的 网络 管理系统 ， 能够 管理 具有 200 个 主机 节点 的 企业 网络 ， 其 设计 基于 Internet   TCP / IP 协议 的 SNMP 标准 ， 实现 了 ISO   7498 所 规定 的 网络管理 主要 的 5 大 管理 功能域 。 和 国外 庞大 功能 、 具有 强大 管理 能力 的 同类 网络 和 系统管理 产品 相比 ， GoldView 系统 适合 于 国情 ， 是 一套 性能 价格比 高 、 优惠 实用 的 企业 网管 系统 。 
 　 　 GoldView   NMS 也 是 不断完善 和 发展 的 。 其中 ， 基于 Web 的 网络管理 模式 WBM 是 网络 管理系统 目前 发展 的 主流 方向 之一 ， 而且 ， 它 也 同 目前 Intranet 发展 方向 相一致 ， 是 企业 网 管理 发展 的 必 由 模式 ， 具有 广泛 的 市场需求 和 前景 ， 应当 大力发展 。 
 1   基于 Web / Java 的 网络管理 模式 WBM 的 特点   
 　 　 Intranet 企业 网 具有 复杂 的 异构 分布式 特性 ， 这 大大增加 了 网络管理 的 工作量 ， 给 网络管理员 真正 管理 好 Intranet 带来 了 很大 的 困难 。 传统 的 网络管理 方式 已经 不 适应 当前 网络 发展 的 趋势 ， 不 能够 实现 对 这种 复杂 的 企业 网 实现 高效 和 灵活 的 管理 。 
 　 　 作为 一种 全新 的 网络管理 模式 ， 基于 Web 的 网络管理 模式 WBM 可以 允许 网络管理员 使用 任何 一种 Web 浏览器 ， 在 网络 任何 节点 上 方便 迅速 地 配置 、 控制 以及 存取 网络 和 它 的 任何 组成部分 。 WBM 从 出现 伊始 就 表现 出 强大 的 生命力 ， 以 其 特有 的 灵活性 、 易 操作性 等 特点 赢得 了 许多 技术 专家 和 用户 的 青睐 。 
 　 　 其 特点 可 归结为 ： ( 1 )   WBM 融合 了 Web 功能 与 网管 技术 ， 为 网络管理员 提供 了 比 传统 工具 更 强大 的 能力 。   应用 WBM ， 管理员 能够 通过 任何 Web 浏览器 、 在 任何 站点 均 可以 监测 和 控制 公司 网络 ， 不再 只 拘泥于 网管 工作站 ， 并且 由此 能够 解决 很多 由于 多 平台 结构 产生 的 网络 互操作性 问题 ； ( 2 )   WBM 提供 了 比 传统 的 命令 驱动 的 远程 登录 屏幕 更 直接 、 更 易用 、 更为 用户 所 熟悉 和 操作 的 Web 图形界面 ， 这样 既 降低 了 MIS 培训 的 费用 ， 又 促进 了 更 多 的 用户 去 利用网络 运行 状态 信息 ； ( 3 )   WBM 是 一种 发布 网络 操作 信息 的 理想 方法 。 可以 通过 浏览器 连接 到 一个 专门 的 Intranet   Web 站点 上 ， 使得 用户 能够 访问 网络 和 服务 的 更新 ， 避免 了 用户 与 网管 组织部门 的 直接 联系 ； ( 4 )   WBM 的 实现 仅 需要 基于 Web   的 服务器 ，   所以 便于 快速 而 简便 地 集成 到 Intranet 企业 网 。 
 2 　 WBM 网络管理 工业 标准 WBEM 和 JMAPI 
 　 　 目前 基于 Web 的 网络管理 模式 有 两种 实现 方式 ： 
 　 　 一种 是 每个 管理 设备 上 有 一个 小型 的 Web   服务器 ， 浏览器 既 可以 直接 查询 该 服务器 ， 也 可以 发送 / 接收 SNMP 方式 的 请求 / 响应 。 
 　 　 另 一种 方法 是 为 浏览器 开发 应用 程序接口 作为 中介 ， 该 程序接口 可以 将 访问 请求 转换 为 管理 设备 可以 理解 的 指令 ， 从而 不必 为 每个 管理 设备 增加 支持 HTTP 的 能力 ， 避免 了 复杂化 和 可能 的 安全 问题 。 这样 的 接口 可以 用 几种 方法 实现 ： ( 1 )   Web 连接 数据库 方式 ， 所有 来自 管理 设备 的 数据 都 保存 在 数据库 中 ； ( 2 )   构造 CGI   script 与 设备 通信 ， 然后 将 信息 返给 Web   服务器 ， 可以 通过 Java 和 ActiveX   applet 来 完成 同样 的 任务 。 
 　 　 上述 两种 实现 方式 区别 在于 这些 方法 的 执行 地点 和 对 浏览器 能力 的 要求 。 WBEM ( Web - Based   Enterprise   Management ) 主要 是 基于 第一种 方式 ， 即 扩充 修改 浏览器 ， 而 JMAPI ( Java   Management   API ) 则 主要 是 构造 浏览器 应用 程序接口 。 
 2.1   JMAPI 
 　 　 为了 能够 利用 功能强大 的 Java 计算环境 解决 系统管理 的 问题 ， SUN 公司 扩充 了 Java 基础 类库 ， 开发 了 专用 的 管理 类库 JMAPI 。 JMAPI 是 一种 应用 编程 接口 ， 是 可 扩充 对象 和 方法 的 集合体 ， 可以 用于 跨越 一系列 不同 的 异构 操作系统 平台 、 系统 体系结构 和 网络 传输 协议 ， 便捷 灵活 地 开发 无缝 集成 的 系统 、 网络 和 服务 管理 应用 。 JMAPI 侧重于 解决 分布式系统 管理 ， 因此 根据 不同 的 环境 进行 伸缩 是 关键所在 。 这 通过 两种 方式 来 实现 ， 首先 是 使 设备 可以 管理 的 程序 部件 比较 小 ， 执行 管理 操作 的 代理 对象 可以 安全 地 下载 和 执行 ， 从而 减少 了 管理 操作 的 散发 和 版本控制 问题 ， 也 方便 了 修改 和 扩充 。 其次 ， Java 虚拟机 驻留 在 要 管理 的 关键 平台 上 。 
 　 　 管理 对象 是 JMAPI   应用 程序开发 的 核心 。 管理 对象 代表 一个 系统 或 网络 实体 或者 一个 器件 ， 如 一个 网络 节点 、 计算机系统 或 用户 帐号 ， 进而 组成 了 一个 管理 域 。 
 　 　 JMAPI 结构 包括 ： 支持 Java 的 Web 浏览器 、 管理 对象 服务器 和 器件 。 支持 Java 的 Web 浏览器 让 管理者 发出 管理 操作 ， 这些 操作 可以 从 浏览器 上 交互 地 进行 ， 也 可以 由 标准 的 应用程序 ( 可以 是 图形 或者 命令行 的 用户界面 ) 调用 。 管理 对象 服务器 为 应用程序 提供 了 管理 对象 的 实例 ， 包括 管理 对象 工厂 、 数据库 和 HTTP 服务器 。 器件 则 是 被 管理 的 资源 ， 从 大型 服务器 到 单个 网络 部件 ， Java 终端 和 DNS 服务器 都 可 视为 一个 器件 。 虽然 这些 设备 执行 本质 上 不同 的 功能 ， 但 都 可以 通过 管理 对象 服务器进行 管理 。 每个 器件 都 必须 安装 JMAPI 代理 软件 。 JMAPI 总 策略 是 通过 动态 下载 代理 将 管理 推 给 管理 设备 。 
 　 　 JMAPI 是 一个 完整 的 网络 管理应用程序 开发 环境 ， 主要 提供 了 ： 厂商 需要 收集 的 完整 的 特性 清单 ， 可 生成 资源 清单 表格 、 图形化 的 用户 接口 ； 访问 SNMP 的 网络 API ； 主机 间 远程 过程 调用 ； 数据库 访问 方法 。 在 理论 上 ， JMAPI 的 应用程序 在 整个 Web 上将 以 同样 的 界面 和 功能 灵活 地 实现 互操作 。 它 注重 于 构造 管理工具 的 软件 框架 ， 并 尽量 采用 已 成熟 的 技术 ， 如 提供 了 使用 SNMP 协议 的 接口 ， 并 充分利用 了 业已 广泛 接受 的 Java 语言 本身 所 具有 的 优良 特性 ， 如 RMI 和 安全 机制 。 
 2.2   WBEM 
 　 　 WBEM 标准 于 1996 年 7 月 推出 。 WBEM 是 Microsoft 最先 提出 的 ， 包括 3Com ,   Cisco ,   Intel ,   Compaq 在内 的 60 多个 供应商 都 支持 此项 标准 ， 它 的 目的 是 建立 一个 工业 标准 ， 使 管理者 可以 使用 任 一个 浏览器 管理 分布 的 网络 、 系统 和 应用 。 WBEM 的 核心 是 超媒体 管理 框架 ( HMMA ,   the   HyperMedia   Management   Architecture ) ， 由 协议 、 管理机制 和 对象 管理者 三者 组成 。 虽然 它 是 寻求 解决 当前 一些 管理 应用 的 失败 之 处 ， 它 还是 " 兼容 和 扩展 " 了 当前 的 标准 ， 如 SNMP 、 CMIP   和 DMI ， 因而 可以 集成 不同 管理 平台 提供 的 管理 服务 。 它 试图 利用 WEB 技术 在 不 影响 网络 基本 结构 的 前提 下 实现 网络 和 系统 综合 管理 。 
 　 　 WBEM 的 设计 目标 是 ： ( 1 )   提供 的 新 框架 可以 覆盖 传统 的 管理 ： 配置 、 故障 、 计费 、 性能 、 安全 管理 以及 操作 管理 和 规划 ； ( 2 )   建立 在 Internet 传输 、 安全 和 配置 的 标准 之上 ； ( 3 )   为 系统 、 网络 和 应用 提供 统一 的 建摸 和 管理 数据模型 ； ( 4 )   根据 管理 元素 集合 的 数目 巨大 和 分布式 的 特性 ， 提供 一种 可 伸缩 的 解决方案 。 
 　 　 该 规范 采用 HTML 和 其它 Internet 数据格式 来 表示 管理 信息 ， 并 使用 HTTP 协议 。 
 　 　 此项 标准 是 面向对象 的 ，   它 能够 将 从 网络设备 、 系统 平台 和 网络应用 程序 等 多种 系统资源 、 以 多种 网络管理 协议 ( SNMP ,   CMIP ,   DMI ) 获得 的 管理 数据 抽象化 ， 加强 了 系统管理 的 能力 并且 使 管理 信息 以 单一 的 协议 形式 出现 。 WBEM 被 认为 是 " 兼容 和 扩展 " 了 当前 的 管理 标准 SNMP 、 DMI 和 CMIP ， 而 并 不是 取而代之 。 WBEM 实际上 更 强调 " 公司 管理 " 胜 于 " 基于 Web " ， 虽然 WBEM 以 Web 工具 的 形式 出现 ， 但 其 真正 目标 是 强化 对于 网络 元素 和 系统 的 管理 ， 包括 网络设备 、 服务器 、 桌面 和 应用程序 。 WBEM 的 关键 是 一个 新 的 超媒体 管理 协议 HMMP ， 这个 传输 协议 处理 包括 重 发 功能 、 分组 速率 、 传送 证实 以及 允许 一个 消息 拆成 一个 或 几个 分组 等 功能 。 
 　 　 1998 年 6 月 ， DMTF 开始 接手 WBEM 进一步 标准化 的 工作 ， 从而 增加 了 可 互操作 管理 技术 的 支持 力量 。 DMTF 在 WBEM 的 基础 上 ， 提出 了 CIM ( Common   Information   Model ) ， 试图 融合 不同 标准 下 的 工具 ， 或 至少 使 它们 能够 互操作 ， 从而 建立 跨越 系统 、 网络 、 应用 乃至 Internet 的 综合 管理 。 CIM 计划 兼容 于 WBEM 、 JMAPI 和 IBM / Tivoli 的 AMS 。 CIM 以 HMMS 为 起点 ， 定义 了 一个 信息 模型 的 规则 和 分类 标准 ， 用以 描述 和 共享 企业 范围 内 的 管理 信息 。 它 设计 成 能够 在 各种 面向对象 的 执行 模型 如 CORBA 和 COM 以及 面向对象 的 管理 技术 如 JMAPI 下 实现 。 CIM 想 利用 面向对象 的 管理 技术 并 相信 新 的 模型 会因 DMI 和 其它 数据 提供者 如 SNMP 、 CMIP 的 广泛应用 而 得到 普及 。 DMTF 还 将 进一步 把 广域网 、 目录 式 网络 DEN 、 服务 管理 、 软件 许可 、 软件 检测 都 纳入 CIM 体系 。   
 3   Web 管理模式 系统 的 研究 工作 
 　 　 基于 Web 网络 管理系统 WebNMS 以 已经 研制 完成 的 SNMP 网络 管理系统 GoldView   NMS 系统 为 基础 ， 设计 目的 是 为了 实现 以 Web 方式 方便 和 灵活 地 实施 对 企业 网络 计算环境 的 管理 。 系统 以 WBEM 作为 研究 目标 ， 采用 了 实现 WBM   Server 代理 的 解决方案 。 将 一个 基于 Web 的 服务器 加载 到 管理 工作站 ( 代理服务器 ) 上 ， 网络 用户 使用 Web 的 超文本 传输 协议 HTTP ， 通过 Web 浏览器 和 代理 工作站 通信 ， 而 管理 工作站 则 仍然 使用 SNMP 协议 和 终端 网络设备 通信 。 这种 代理 解决方案 继承 了 传统 的 基于 工作站 的 管理系统 的 优点 ， 代理服务器 和 所有 的 网络 终端设备 通信 仍然 通过 SNMP 协议 ， 因而 这种 方法 完全 可以 实现 与 只 支持 SNMP 协议 的 设备 无缝 集成 协同工作 。 
 3.1   WebNMS 系统 实现 的 体系结构 
 　 　 图 1 为 WebNMS 管理系统 的 体系结构 图 。 从中 可以 看出 ， 具有 Java 功能 的 Web 浏览器 、 WBM 管理 服务器 和 被 管理 网络资源 的 管理 协议 代理 Agent   3 部分 构成 了 整个 网络 管理系统 。 Java 使能 的 Web 浏览器 为 网络 和 系统管理员 执行 各种 管理 任务 提供 了 灵活 、 一致 的 操作 用户 接口 ， 被 管理 的 网络设备 和 资源 中 安装 有 相应 的 管理 代理 SNMP   Agent ， 通过 代理 与 Web 管理 服务器 交换 管理 信息 。 
 
 
 
 
 图 1 　 基于 Web 的 网络 管理系统 WebNMS 体系结构 模型 
 　 　 WBM 管理 服务器 是 整个 系统 的 管理 核心 ， 实施 具体 的 浏览 、 查询 、 监控 和 配置 等 管理 任务 。 它 由 4 部分 组成 ： ( 1 ) Web   Server 负责 同 Web 浏览器 通信 ， 接收 和 响应 浏览器 的 请求 ， 并且 与 管理 服务 集 模块 所 提供 的 各种 服务 交互 ， 是 实现 Web 交互方式 的 基础 ； ( 2 ) 管理 服务 集 提供 对 网络 和 系统 进行 全面 和 有效 管理 的 各种 服务 ， 如 网络拓扑 图 的 自动 发现 和 图形 显示 、 网络 配置 、 系统 性能 、 故障 检测 和 恢复 、 安全措施 、 系统 端口 和 帐户 计费 等 传统 的 网络管理 功能 ， 还 可为 管理 用户 提供 多种 高效 的 管理工具 ， 为 在 此基础 上 集成 更 多 的 其它 系统 服务 提供 开发 的 接口 ； ( 3 ) 管理 信息库 集中 存储 从 网络 代理 所 收集 到 的 网络设备 管理 参数信息 ， 如 路由器 的 路由表 、 端口 数据 流量 和 数据 报文 的 丢失 率 等 信息 ， 这些 是 实施 管理 措施 的 依据 ， 它 以 层次 的 树 图来 组织 ， 查询 的 效率 对系统 的 性能 有 很大 的 影响 ； ( 4 ) 管理 通信协议 SNMP   gateway 接口 完成 HTTP 方式 的 管理 服务 原语 同 SNMP 原语 间 的 信息 转换 ， 以 SNMP 协议 方式 实现 与 各个 SNMP   Agent 的 网络通信 ， 收集 被 管理 网络设备 的 管理 服务 信息 。 
 3.2   WebNMS 系统 实现 的 一些 要点 说明 
 　 　 ( 1 ) 采用 Java 作为 开发 语言 
 　 　 Java 是 一种 解释性 程序语言 ， 具有 小型化 、 解释 执行 、 高性能 、 实现 简便 、 多线程 、 同步 技术 、 垃圾 收集 和 面向对象 等 优良 特点 ， 并且 ， 将 网络安全 性能 在 技术 设计 中 得到 实现 ， 安全 特征 是 Java 语言 和 其 运行 环境 所 特有 的 属性 。 
 　 　 Java 具有 固有 的 Web 能力 ， 完备 独立 的 Java   applets 能够 被 传送 到 浏览器 并且 在 浏览器 所在 的 本地 机上 运行 。 Java   applets 具有 浏览器 强制 安全 机制 ， 可以 阻止 其 访问 本地 系统资源 并且 对 网络资源 的 访问 也 进行 限制 ， 对于 WBM 管理 动态数据 是 一种 行之有效 的 技术 。 与 静态 链接 的 HTML 不同 ， Java 能够 用于 处理 各种 任务 ， 诸如 显示 网络 运行 画面 ， 打印 复杂 图片 等 ， 并且 能 实时 表示 从 轮询 和 陷阱 得到 的 更新 管理 信息 ， 添加 动态 图象 。 
 　 　 ( 2 ) Web 服务器 同 管理 服务 的 通信 方式 ： Java   Servlet 
 　 　 CGI 定义 了 Web 服务器 同 外部 程序 交互 的 标准 与 规范 ， CGI 程序 通常 用 解释性 语言 ， 如 UNIX   shell   scripts   或   PERL ， 也 可用 编译 性 的 语言 如 C 编写 。 而 服务器 小件 Java   servlet 是 Web 服务器 调入 和 激活 的 Java 类 ， 处在 服务器端 ， 与 浏览器 端的 应用 小件 相似 ， 它 使得 Web 服务器 具有 信息 交换 的 功能 ， 又 不 损失 速度 与 可靠性 。 
 　 　 Java   Servlets 和 CGI 程序 都 用于 服务器 的 功能 。 但是 同 CGI 相比 ， Java   Servlet 性能 更好 ， 功能 更强 。 Servlet 可以 同 服务器 运行 于 同一 进程 ， 一旦 servlet 装载 入 服务器 ， 就 一直 保持 。 因此 ， 仅 被 调用 一次 ， 而 不是 在 每次 请求 时 都 要 调用 ， 从而 消除 了 不必要 的 响应 客户 请求 的 启动 、 初始化 时间 ， 大大 改善 了 服务器 的 执行 性能 。 并且 ， 大多数 具备 Java   Servlets 的 服务器 都 允许 服务器 小件 运行 在 一个 黑匣 中 ， 与 其它 服务器 相 隔离 ， 从而 提高 了 稳定性 、 安全性 和 透明性 。 
 　 　 因此 ， WebNMS 系统 中 Web 服务器 和 管理 服务 集 之间 的 信息 通信 采用 了 Java   Servlets 来 高效 实现 。 
 4 　 总结 
 　 　 Web 网络管理 模式 WBM 的 研究 工作 倍受 注目 ， 从 诞生 之日 就 成为 研究者 关注 的 焦点 ， 它 为 企业 Intranet 复杂 网络 环境 的 管理 注入 了 更 多 更 大 的 活力 ， 提供 了 更 方便 的 网络管理 机制 。 本文 所 提出 的 Web 网络 管理系统 WebNMS 建立 在 我们 已经 研制 完成 的 SNMP 网络 管理系统 GoldView   NMS 的 基础 上 ， 是 基于 WBM 工业 管理 标准 WBEM 的 新型 网管 系统 。 WebNMS 网管 系统 为 网络管理员 实现 对 大型 复杂 Intranet 企业 网 的 管理 提供 了 便捷 、 灵活 和 强大 的 集成 管理工具 。 
 作者简介 ： 吴 　 刚 ( 1972 ～ ) ， 男 ， 博士生 ， 从事 分布式 智能 Web 网络系统 管理 的 研究 
 作者 单位 ： 上海交通大学 金桥 网络工程 中心 ， 上海 　 200030 
 参考文献 
 1   吴刚 ， 田小鹏 .   Unicenter   TNG   &   Tivoli   TME 技术 报告 ( 修订稿 ) .   内部 技术 文献 ，   1998 - 07 
 2   吴刚 ,   白英彩 .   GoldView 网络 管理系统 的 研究 和 开发 .   1998 - 10 
 3   Hong   J   W   K , Kong   J   Y , Yun   T   H , et   al . Web - based   Intranet   Services   and   Network   Management .   IEEE   Communication   Magazine , 1997 ,   35 ( 10 ) ： 100 - 110 
 收稿 日期 ： 1998 - 12 - 08 
