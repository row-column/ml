自动化 学报 
 ACTA   AUTOMATICA   SINICA 
 1997 年   第 23 卷   第 5 期   Vol.23   No.5   1997 
 
 
 
 一种 识别 手写 汉字 的 多 分类器 集成 方法 
 肖旭红 　 戴汝为 
 摘 　 要 　 根据 多 信源 信息处理 与 字符识别 的 经验 知识 ， 提出 了 一个 识别 手写 汉字 的 多 分类器 线性 集成 模型 . 这个 模型 不仅 考虑 到 不同 的 分类器 对 不同 字符识别 能力 的 不同 ， 而且 还 考虑 了 不同 的 分类器 得出 的 输入 字符 与 参考 模板 之间 相似 度 的 实际 大小 对 判决 的 影响 ， 及 不同 分类器 提供 的 候选 字符 对 判决 的 支持 作用 ， 更 重要 的 是 提供 了 一种 通过 监督 学习 ， 利用 计算机程序 自动 计算 模型 参数 的 方法 ， 因而 实现 了 一个 较 好 的 集成系统 . 同时 ， 本文 还 提供 了 三个 用于 集成 的 分类器 ， 它们 集成 的 结果 充分 显示 了 本 方法 的 有效性 。 
 关键词 　 手写 汉字 识别 ， 综合 集成 ， 多 分类器 集成 . 
 A   METASYNTHETIC   APPROACH   FOR   HANDWRITTEN   
 CHINESE   CHARACTER   RECOGNITION 
 XIAO   XUHONG 　 　 DAI   RUWEI 
 ( Institute   of   Automation ,   Chinese   Academy   of   Sciences ,   Beijing 　 100080 ) 
 Abstract 　 As   a   high - level   integration   approach ,   metasynthesis   has   drawn   much   attention .   In   this   paper ,   a   metasynthetic   approach   for   combination   of   multiple   classifiers   is   proposed .   As   a   first   step ,   a   linear   integration   model   is   built .   In   this   model ,   not   only   the   degree   of   the   similarity   between   the   input   and   its   ranked   candidates   are   appled ,   but   also   the   supporting   effects   of   multiple   candidates   are   taken   into   account ,   and   their   contributions   to   the   integration   result   is   expressed   by   a   linear   function .   Then ,   an   algorithm   for   automatically   calculating   the   arguments   of   the   model   through   supervised   learning   is   provided .   Experiments   on   metasynthesis   of   three   individual   classifiers   for   handwritten   Chinese   character   recognition   are   given   to   demonstrate   the   effectiveness   of   our   method . 
 Key   words 　 Handwritten   Chinese   character   recognition ,   metasynthesis ,   multiple   classifier   integration . 
 1 　 引言 
 　 　 近年来 ， 多 分类器 的 集成 已 成为 模式识别 领域 的 热门话题 ， 并 在 模式识别 的 很多 领域 ， 如 字符识别 领域 等 取得 了 较 好 的 应用 效果 . 与此同时 ， 由 钱学森 等 倡导 的 综合 集成 的 思想 也 越来越 引起 人们 的 兴趣 ［ 1 ， 2 ］ . 区别 于 普遍意义 上 的 集成 或 证据 组合 ， 综合 集成 不仅 强调 多 分类器 、 多 证据 的 叠加 或 组合 ， 而且 更 强调 人 在 集成系统 中 的 作用 . 人 在 系统 中 的 作用 主要 体现 在 两个 方面 ： 一是 用 计算机 模拟 人 的 智能 ， 如对 形象思维 及 抽象思维 等 的 模拟 ； 另 一 是 人 对系统 的 监督 、 调控 作用 ， 如 监督 学习 等 ； 因此 ， 综合 集成 是 集成 方法 的 一种 较 高 境界 . 
 　 　 现阶段 字符识别 多 分类器 的 集成 方法 可 归纳 为 两类 ： 一类 是 根据 经验 的 线性 加权 型 ， 线性 权值 完全 人为 确定 ， 因而 集成 效果 因 人 、 因 分类器 的 不同 而异 ； 另一类 由人 指导 机器 来 自动 确定 系统 参数 ［ 3 ， 4 ］ ， 但 这些 模型 均 没 考虑 分类器 输出 的 输入 字符 与 参考 模板 之间 相似 度 的 实际 大小 对 判决 的 影响 ， 因而 没有 跳出 投票 集成 的 框架 ， 且 这些 方法 匀 是 以 十个 数字 为 研究 对象 ， 应用 到象 汉字 这样 类别 特别 多 的 字符 的 识别 还有 困难 . 
 　 　 本文 提出 了 一种 应用 于 手写 汉字 识别 的 多 分类器 综合 集成 的 方法 . 基本 模型 为 一 线性 模型 ， 其 基本 思想 是 认为 各 分类器 对 不同 字符 的 识别 能力 是 不同 的 . 由 分类器 输出 的 不同 的 候选 类别 与 待 识别 字符 之间 必然 存在 某些 相似性 ， 对 该 字符 的 识别 起着 一定 的 支持 作用 ， 并 认为 它们 之间 的 关系 可以 用 一个 线性 模型 来 近似 ， 而 模型 的 参数 可 通过 监督 学习 和 人 的 经验 ， 利用 计算机程序 确定 . 相对 于 以前 提出 的 分类器 线性 叠加 集成系统 ， 本文 方法 的 优越性 在于 提出 了 一种 通过 监督 学习 自动 确定 模型 参数 的 方法 ， 并 考虑 到 了 不同 的 分类器 得出 的 输入 字符 与 参考 模板 之间 相似 度 的 实际 大小 对 判决 的 影响 及 各 候选 字 对 判决 的 支持 作用 . 实验 结果 充分 显示 了 本文 方法 的 高效性 和 优越性 . 
 2 　 多 分类器 集成 模型 
 　 　 为了 便于 说明 ， 首先 对 有关 的 表示 进行 定义 ， 假设 
 　 　 1 ) 输入 字符 用 x 表示 ； 
 　 　 2 ) 字符 类别 用 Cm 表示 ， 其中 m = 1 , 2 , … ， M ； 
 　 　 3 ) 不同 的 分类器 用 ei ( i = 1 , 2 , … , Ⅰ ) 来 区分 . 
 　 　 单 分类器 的 输出 可以 有 多种形式 ， 本文 是 以 输入 字符 与其 对应 类别 模板 之间 的 相似 度 作为 输出 ， 并且 对 每 一个 输入 字符 ， 依次 输出 它 与 可能 的 N ( N ≤ M ) 个 候选 类别 模板 之间 的 相似 度 . 对 分类器 ei 与 输入 x ， 其 N 个 输出 分别 用 mi ( x , j , k ) ( k = 1 , 2 , … , N ) 表示 . 其中 j 代表 候选 字符 类别 标号 ， k 代表 候选 顺序 标号 ， k 越小 ， 对应 的 mi ( x , j , k ) 越大 . 为了 保证 集成 的 有效性 ， 各 分类器 的 输出 度量 尺度 应该 一致 ， 因此 必须 对 相似性 度量 进行 尺度 规一化 ， 本文 采用 如下 变换 ： 
 mi ( x , j , k ) ← mi ( x , j , k ) / mi ( x , j , 1 ) . 　 　 k = 1 , 2 , … , N 
 集成 模型 主要 基于 以下 几条 经验 知识 ： 
 　 　 1 ) 各 分类器 对 各 字符 的 分类 能力 是 不同 的 ； 
 　 　 2 ) 由于 手写 字符 的 书写 形变 较大 ， 同一 字符 的 不同 次 书写 与 候选 模板 之间 的 相似 度 也 不同 ； 
 　 　 3 ) 对 输入 字符 x , 分类器 ei 输出 的 较 低阶 次 候选 类别 ( 如首 候选 、 第二 候选 等 ) 一般来说 与 x 有 较大 的 相似性 ( 误识 情况 除外 ) ， 而 较 高阶 次 的 候选 类别 必须 与 x 相似性 较 小 . 
 　 　 基于 以上 经验 知识 ， 作 以下 假设 ： 
 　 　 1 ) 分类器 ei 输出 的 各阶 候选 对 集成 决策 的 支持 量 是 不同 的 ， 一般来说 ， 候选 阶次 越 高 ， 即 候选 顺序 标号 k 越大 ， 支持 作用 越小 . 令 Wk 代表 第 k 候选 的 支持 因子 ， k 越大 ， Wk 越小 ， Wk 可有 多种形式 ， 如 
 Wk = e - α ( k - δ ) 或 Wk = 1.0 - β × k , 
 其中 　 α ， δ ， β 为 非负 常数 ， 因而 Wk ≤ 1.0 . 
 　 　 2 ) 分类器 ei 的 第 k 个 候选 ( 类别 为 Ci ) 对 集成 判决 x ∈ Cj 的 支持 作用 Ai ( x , j , k , l ) 可用 下面 经验 公式 表示 ： 
 Ai ( x , j , k , l ) = mi ( x , l , k ) × Ri ( j , l ) × Wk , 
 ( 1 ) 
 其中 Ri ( j , l ) 表示 分类器 ei 将 类别 Cj 中 的 样本 判 为 属于 类别 Ci 的 可能性 . ( 1 ) 式 表明 ： 分类器 ei 将 类别 Cj 中 的 样本 判 为 属于 类别 Ci 的 可能性 越大 ， 对 判决 x ∈ Cj 的 支持 作用 越大 ； 同时 ， 输入 x 与 类别 Cl 的 模板 越 相似 . 对 判决 x ∈ Cj 的 支持 作用 也 越 大 . 
 　 　 3 ) 集成系统 输出 的 输入 x 与 输出 类别 Cj 间 的 总 相似 度 M ( x , j ) 可用 各 Ai ( x , j , k , l ) 线性组合 来 表示 ， 即 
 
 ( 2 ) 
 因此 集成系统 模型 可用 图 1 表示 
 
 图 1 　 综合 集成系统 结构 框图 
 　 　 每一单 分类器 分别 输出 N 个 候选 字符 的 标号 及 相似 度 ， 因此 由 Ⅰ 个单 分类器 构成 的 集成 变换 网络 共有 L × N 项 输入 ｛ mi ( x , j , k ) ｜ i = 1 , 2 , … , L , k = 1 , 2 , … ， N ｝ ， 分别 对应 L × N 个 候选 字符 ， 这些 候选 字符 分别 由 L 个 分类器 提供 ， 因此 其 对应 的 字符 类别 有 可能 是 相同 的 ， 但 总 候选 类别 数 不会 少于 N ) . 集成 的 作用 就是 以 各 分类器 的 输出 作为 输入 ， 通过 公式 ( 2 ) 所述 变换 ， 得到 输入 与 这些 候选 字符 模板 间 的 一组 新 的 相似性 度量 M ( x , j ) ， 若 M ( x , l ) = maxM ( x , j ) ， 则 x ∈ Cl ， 集成系统 输出 标号 l . 
 3 　 Ri ( j , l ) 的 近似 与 计算 
 Ri ( j , l ) 的 选择 应 满足 ： 1 ) Cj 类 的 字符 与 Ci 类 的 字符 越 相似 ， Ri ( j , l ) 越大 . 2 ) 当 j = l 时 ， Ri ( j , l ) 取 最大值 . 
 3.1 　 识别 矩阵 
 　 　 通过 监督 学习 ， 对 每 一 字符 类别 Cj ， 不难 得到 以下 矩阵 ［ 3 ］ ： 
 
 ( 3 ) 
 其中 每 一行 对应 一个 分类器 ， 每 一列 对应 一个 字符 类别 ， 元素 rjil1 ) 当 j = 1 时 表示 分类器 ei 对 字符 类 Cj 的 识别率 ； 2 ) 当 j ≠ l 时 表示 分类器 ei 将类 Cj 中 的 字符 误识 为 属于 类别 Ci 的 误识率 . 容易 看出 ， 元素 rjil 满足 Ri ( j , l ) 所 要求 的 条件 ， 可以 作为 对 Ri ( j , l ) 近似 . 
 3.2 　 用 rjil 近似 Ri ( j , l ) 
 　 　 由于 各 学习 样本 书写 的 规范 程度 不 一样 ， 各类 字符 的 结构 也 不同 ， 就 可能 对 有 的 字符 类 ， 所有 的 分类器 识别率 都 较 高 ； 而 对 另 一些 字符 类 ， 所有 的 分类器 识别率 都 较 低 . 不难看出 ， 若 直接 令 Ri ( j , l ) = rjil ， 根据 公式 ( 1 ) ， ( 2 ) ， 必然 倾向 于 把 输入 x 识别 成 各 分类器 具有 较 高 识别率 的 候选 类别 . 因此 Ri ( j , l ) 还 必须 满足 对 各类 字符 具有 相同 的 度量 尺度 ， 这里 选择 
 
 ( 4 ) 
 其中 这 就 保证 对 每 一 字符 类别 即 对 各类 字符 度量 尺度 一致 . 
 　 　 由于 对 一 特定 的 输入 字符 类别 ， 分类器 总是 倾向 于 把 它误 识别 成 与 它 比较 类似 的 较 固定 的 几个 字符 类别 ， 实际 应用 时 ， 为了 节省 存储空间 及 减少 运算 时间 ， 单 分类器 输出 的 候选 类别 数 N 远远 小于 字符 类别 总数 M ； 由于 只有 少数几个 与 输入 x 很 类似 的 字符 对 x 的 识别 有 支持 作用 ， 而 与 输入 x 所属 类别 很 不 相似 的 字符 类 对 肯定 判决 的 支持 量 应为 负 ， 对 每 一 字符 类别 Cj ， 只 存储 少数 Ri ( j , l ) ， 比如 ， 只 保留 具有 较大 值 的 L 个 Ri ( j , l ) ， 其余 的 被 赋为 0 ( 无 作用 ) 或 一个 很小 的 负数 ( 负作用 ) . 
 4 　 单 分类器 介绍 
 4.1 　 基于 多层 外围 结构 的 分类器 ( 分类器 1 ) 
 　 　 分别 从 上 、 下 、 左 、 右 四个 方向 对 细化 字符 图象 扫描 ， 扫描线 第一次 碰到 的 黑 象素 被 当成 字符 的 最 外围 结构 ， 第二次 碰到 的 黑 象素 被 当成 字符 的 次 外围 结构 ， 每一 方向 的 结构 被 非 均匀 地 分成 8 份 ， 图 2 . a ， 图 2 . c 所示 分别 为 细化 字符 “ 啊 ” 及其 最 外围 、 次 外围 结构 . 
 
 图 2 　 细化 字符 “ 啊 ” 及其 层次 外围 结构 
 对 外围 结构 中 的 每 一黑 象素 点 ， 抽取 以下 特征 ： 
 　 　 1 ) 四 方向 属性 ( P1 , P2 , P3 , P4 ) ： 假设 lm = ( m = 1 , 2 , … ， 8 ) 分别 表示 从 该 图象 点 沿上 、 下 、 左 、 右及 四 对角 所 定义 的 八 方向 到 笔划 边界 的 游长 ， 则 
 
 　 　 2 ) 该点 到 扫描线 起点 的 距离 d 
 这样 ， 对 每 一个 黑 象素 点 ， 抽取 了 五维 特征 ： ( P1 , P2 , P3 , P4 , d ) . 
 　 　 被 非 均匀 分割 的 每 一子 区域 被 当成 一个 子结构 ， 子结构 的 各 特征 为 其内 各黑 象素 点 对应 特征 的 统计 平均值 . 设 子结构 S 由 n 个 黑 象素 点 组成 . 其 特征 分别 为 ( Pj1 , Pj2 , Pj3 , Pj4 , dj ) ( j = 1 , 2 , … ， n ) ， 则 S 的 特征 为 
 
 　 　 由于 每一 方向 外围 结构 被 分为 八个 子结构 ， 因此 ， 最外 、 次外 两层 外围 结构 共 被 分成 8 × 4 × 2 = 64 个子 结构 . 假设 输入 x 的 外围 子结构 集用 ｛ S1 , S2 , … , S64 ｝ 表示 ， 其 候选 类别 模板 的 子结构 集用 ｛ r1 , r2 , … , r64 ｝ 表示 ， 则 输入 与 候选 类别 模板 之间 的 距离 为 
 
 其中 　 　 　 　 　 　 　 　 
 d ( s , r ) 越大 ， 输入 与 该 候选 模板 之间 的 相似性 越小 . 
 4.2 　 基于 四角 结构 的 分类器 ( 分类器 2 ) 
 　 　 分别 从 四 对角 方向 对 细化 字符 图象 扫描 ， 图 3 所示 为 图 2 . a 中 所示 “ 啊 ” 的 四角 结构 . 每 一对 角 区域 的 结构 被 均匀 地 分成 六等份 ， 每 一份 被 当成 一个 子结构 ， 总共 可 得到 6 × 4 = 24 个子 结构 ， 基于 四角 结构 的 分类器 对 每 一 子结构 ， 抽取 与 4.1 . 1 节 的 外围 结构 分类器 类似 的 特征 ， 并 利用 类似 的 判决 准则 . 
 
 图 3 　 沿四 对角 方向 扫描 所得 字符 “ 啊 ” 的 四角 结构 
 4.3 　 基于 局部 笔画 方向 的 分类器 ( 分类器 3 ) 
 　 　 这一 分类器 所 抽取 的 特征 类似 于 文献 ［ 5 ］ 中 的 LDC ， 即 对 细化 字符 图象 的 每 一黑 象素 点 ， 抽取 4.2 . 1 中所 描述 的 四 方向 属性 ， 每一 图象 被 分成 8 × 8 = 64 个 矩形 区域 ， 每个 矩形 区域 为 一 子结构 ， 其 特征 为 区域 内黑 象素 点 对应 特征 的 统计 平均值 ； 与 文献 ［ 5 ］ 所 不同 的 是 每 一 矩形 区域 是 根据 输入 字符 结构 非 均匀 划分 而成 . 相应 的 距离 准则 为 
 
 5 　 实验 结果 
 　 　 为了 检验 本文 所述 方法 的 性能 ， 将 三个 分类器 的 输出 结果 加以 综合 集成 ， 并 对 中国科学院 自动化 所 收集 的 4M 手写 字符 样本 库 ［ 6 ］ 中 的 3755 个 一级 国标 进行 了 学习 和 测试 ( 每字用 100 个 样本 优类 样本 对单 分类器 进行 学习 ， 20 个良类 样本 用于 集成 变换 参数 的 学习 ， 另外 每字 分别 用 5 个 优类 及 良类 样本 进行 测试 ) ， 实验 结果 见表 1 . 
 表 1 
 
 　 　 　 分类器 
 识别率 ( % ) 分类器 1 分类器 2 分类器 3 综合 集成 
 优类 样本 83.480 . 178.989 . 9 
 良类 样本 75.2874 . 3668.1981 . 7 
 
 
 　 　 为了 比较 各 参数 对 集成系统 的 影响 ， 进行 了 以下 实验 ， 实验 结果 示于 表 2 . 
 表 2 
 
 实验 T1T2T3T4T5 
 识别率 ( % ) 77.581 . 776.8676 . 2480.02 
 
 
 5.1 　 分类器 输出 的 多 候选 对 判别 的 支持 作用 
 　 　 a ) 　 N = 1 , 即 每个 分类器 只 输出 首 候选 ， 对应 于表 ( 2 ) 中 T1 ； 
 　 　 b ) 　 N = 5 ， 即 每个 分类器 输出 5 个 候选 ， 对应 于表 ( 2 ) 中 T2 . 
 5.2 　 输入 与 候选 之间 相似 度 的 实际 大小 对 判决 的 影响 
 　 　 a ) 　 考虑 分类器 输出 的 输入 与 候选 之间 相似 度 的 实际 大小 对 判决 的 影响 ， 仍取 N = 5 ， 则 与 5.1 中 b ) 为 同一 实验 . 
 　 　 b ) 　 不 考虑 分类器 输出 的 输入 与 候选 之间 相似 度 的 实际 大小 对 判决 的 影响 ， 即令 2 节中 mi ( x , j , k ) 为 常数 ， 如令 mi ( x , j , k ) = 1 , 对应 于表中 T3 . 
 　 　 5.3 　 既 不 考虑 其它 候选 对 判决 的 支持 作用 ( N = 1 ) ， 也 不 考虑 分类器 输出 的 输入 与 候选 之间 相似 度 的 实际 大小 对 判决 的 影响 ( mi ( x , j , k ) 为 常数 ) . 
 　 　 5.4 　 采用 下面 的 线性 叠加 模型 ( 图 4 ) ， 线性 权值 根据 经验 直接 人为 设定 ， 结果 对应 于 T5 . 
 
 图 4 　 多 分类器 线性 集成 模型 
 
 　 　 实验 结果表明 ， 分类器 输出 的 多 候选 及 输入 与 候选 之间 相似 度 的 实际 大小 对 判决 都 会 有 一定 的 作用 ， 输入 与 候选 之间 相似 度 的 实际 大小 对 判决 的 作用 尤其 重要 ， 若 不 考虑 输入 与 候选 之间 相似 度 的 实际 大小 对 判决 的 作用 ， 则 多 候选 的 作用 也 不 明显 ( T3 ≈ T4 ) . 从 实验 结果 看 ， 直接 根据 经验 线性 加权 的 结果 也 较 好 . 这 主要 是因为 三 分类器 所 抽取 的 特征 及 所用 的 判决 准则 都 是 同一个 度量 等级 ， 可以 简单 叠加 ； 除此之外 ， 这种 简单 叠加 的 一 重大 缺陷 是 实验 结果 在 很大 程度 上 取决于 实验者 人为 所取 的 参数 ， 没有 普遍意义 . 
 6 　 结语 
 　 　 本文 基于 人 的 经验 ， 提出 了 一个 识别 手写 汉字 的 多 分类器 综合 集成 的 线性 模型 ， 并 提供 了 一种 通过 监督 学习 ， 自动 决定 模型 参数 的 方法 . 通过 对 三个 手写 字符 分类器 的 综合 集成 ， 充分体现 了 本文 方法 的 有效性 . 当然 ， 实验 只能 证明 本文 提出 的 模型 及 参数 确定 方案 的 可行性 ， 关于 更 合理 的 模型 及 更 有效 参数 确定 方法 还有 待 进一步 研究 . 
 1 ) 　 国家 八 六三 高技术 计划 和 自然科学 基金 资助 项目 . 
 作者简介 ： 
 　 　 肖旭红 　 1992 年 毕业 于 中国科技大学 无线电 电子学 系 ， 1997 年 获 中国科学院 自动化 所 博士学位 . 主要 研究 领域 为 模式识别 ， 人工智能 ， 图象处理 等 . 
 　 　 戴汝为 　 主要 从事 人工智能 ， 模式识别 等 研究 . 1980 — 1982 在 美国 普渡大学 电机系 作 访问学者 ， 现任 中国科学院 自动化 所 研究员 ， 博士生 导师 ， 中国科学院 院士 ， 《 模式识别 与 人工智能 》 主编 ， 并任 清华大学 、 汕头大学 等 近 三十 所 高校 的 兼职 或 名誉教授 ( 请 见 本刊 19 卷 5 期 ) . 
 作者 单位 ： 中国科学院自动化研究所 　 北京 　 100080 
 参考文献 
 ［ 1 ］ 　 钱学森 ， 于 景元 ， 戴汝为 . 一个 科学 新 领域 — — 开放 的 复杂 巨 系统 及其 方法论 . 自然 杂志 ， 1990 ， 13 ( 1 ) ： 3 - 10 . 
 ［ 2 ］ 　 戴汝为 等 . 智能 系统 的 综合 集成 . 杭州 ： 浙江 科技 出版社 ， 1995 . 
 ［ 3 ］ 　 Xu   L ,   Krzyzak   A ,   Suen   C   Y .   Method   of   combining   multiple   classifiers   and   their   application   to   handwriting   recognition .   IEEE   Trans .   SMC ,   1990 ,   22 ( 3 ) : 418 - 435 . 
 ［ 4 ］ 　 郝红卫 ， 戴汝为 . 一种 综合 集成 方法 及其 在 字符识别 中 的 应用 . 模式识别 与 人工智能 ， 1996 ， 9 ( 1 ) ： 10 - 20 . 
 ［ 5 ］ 　 Teruo   Akiyama ,   Norihiro   Hagita .   Automated   entry   system   for   printed   documents .   Pattern   Recognition ,   1990 ,   23 ( 11 ) : 1141 - 1154 . 
 ［ 6 ］ 　 Tai   J   W   ( Dai   R   W ) ,   Liu   Y   J ,   Zhang   L   Q .   A   new   approach   for   feature   extraction   and   feature   selection   of   handwritten   Chinese   character   recognition ,   from   pixels   to   features   Ⅲ :   fronties   in   handwriting   recognition ,   Elsevier   Science   Publishers   B . V ,   1992 ,   479 - 489 . 
 收稿 日期 　 1995 - 12 - 14 
