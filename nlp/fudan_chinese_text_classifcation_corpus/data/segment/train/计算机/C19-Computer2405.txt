计算机 研究 与 发展 
 JOURNAL   OF   COMPUTER   RESEARCH   AND   DEVELOPMENT 
 1999 年 　 第 36 卷 　 第 10 期 　 Vol.36 　 No.10 　 1999 
 
 
 
 基于 模型 的 人体 运动 跟踪 
 刘小明 　 庄越 挺 　 潘云鹤 
 　 　 摘 　 要 　 在 计算机 视觉 领域 ， 人体 运动 分析 的 研究 正因 其 广泛 的 应用 前景 而 越来越 受到 研究者 的 重视 . 对 图像 序列 中 的 人体 运动 进行 跟踪 是 其中 的 关键技术 . 由于 人体 运动 的 特殊 复杂性 ， 已有 的 研究 方法 都 对 人体 加上 了 许多 限制 条件 . 文中 提出 了 一种 新 的 方法 来 进行 人体 运动 跟踪 . 该 方法 不 针对 特定 人体 运动 方式 ， 能 对 复杂 、 变化 背景 中 的 人体 各 部位 的 大幅度 运动 进行 跟踪 . 其 基本 思想 是 在 建立 人体模型 的 基础 上 ， 按 自上而下 的 顺序 依次 跟踪 人体 各 部分 ， 并 在 其中 采用 了 基于 图像 差分 的 运动 预测 和 分 区域 直方图 相似 度 算法 . 论文 最后 给出 了 实验 结果 . 
 　 　 关键词 　 图像 序列 ， 人体 运动 ， 图像 差分 ， 相似 度 
 　 　 中图法 分类号 　 TP391.4 
 MODEL - BASED   HUMAN   MOTION   TRACKING 
 LIU   Xiao - Ming ,   ZHUANG   Yue - Ting ,   and   PAN   Yun - He 
 ( Institute   of   Artificial   Intelligence ,   Zhejiang   University ,   Hangzhou   310027 ) 
 　 　 Abstract 　 In   the   field   of   computer   vision ,   the   research   on   human   motion   analysis   is   attracting   many   researchers '   attention   with   its   wide   application   prospect .   The   key   technical   issue   is   the   human   motion   tracking   in   the   image   sequence .   Because   of   the   complexity   of   human   motion ,   the   existing   research   methods   impose   limitation   on   human .   A   new   approach   to   track   the   human   motion   is   brought   forward   in   this   paper .   Instead   of   aiming   at   a   given   human   motion   mode ,   it   can   track   large   motion   from   frame   to   frame   in   a   complex ,   variational   background .   The   main   scheme   is   to   track   every   part   of   human   body   from   top   to   bottom   on   the   basis   of   human   model .   The   image - difference - based   motion   estimation   and   the   divided   region   histogram   similarity   algorithm   are   used .   The   final   result   is   given   at   the   end   of   the   paper . 
 　 　 Key   words 　 image   sequence ,   human   motion ,   image   difference ,   similarity   
 1 　 引言 
 　 　 在 计算机 视觉 领域 ， 人体 运动 分析 正 越来越 受到 研究者 的 重视 . 这是 由于 这一 研究 具有 相当 广泛 的 应用 前景 ， 它 在 运动员 动作 分析 、 医学 分析 、 动画 制作 等 方面 非常 有用 . 另外 ， 自动 地 理解 、 识别 人体 运动 能够 广泛 地 应用 于 监视 、 人机交互 、 视频 检索 等 领域 . 计算机 研究 人体 运动 的 素材 往往 是 视频 或 图像 序列 . 因此 ， 如何 在 图像 序列 上 识别 并 跟踪 人体 运动 成为 进行 人体 运动 分析 的 关键步骤 . 传统 的 跟踪 人体 运动 的 方法 一般 分 两步 来 完成 ： 首先 从 图像 帧 中 提取 低层 特征 ， 如 各 关节 的 位置 ， 并 对 之 进行 识别 ； 然后 是 在 各个 帧 的 特征 间 建立 对应 关系 . 根据 有无 模型 知识 支持 ， 这些 方法 又 分为 两种 ： 当有 模型 知识 时 ［ 1 ～ 5 ］ ， 只要 图像 与 模型 之间 建立 了 匹配 ， 那么 特征 对应 也 就 自动 完成 了 . 而 当 没有 模型 知识 时 ［ 6 ］ ， 往往 要 通过 估计 特征 点 的 位置 、 速度 、 形状 等 方面 来 建立 特征 对应 . 由于 人体 运动 的 特殊 复杂性 , 几乎 所有 这些 方法 都 加上 了 许多 限制 ， 如 要求 背景 单一 甚至 不 动 ， 人体 运动 方向 与 投影 平面 平行 ， 人体 穿 紧身衣裤 等 ［ 7 ］ . 
 　 　 本文 提出 了 一种 新 方法 来 进行 基于 模型 的 人体 运动 跟踪 . 该 方法 去 除了 以往 方法 中 的 许多 限制 ， 如 不 针对 特定 人体 运动 方式 ， 能 对 复杂 、 变化 背景 中 的 人体 各 部位 的 大幅度 运动 进行 跟踪 . 该 方法 是 在 用户 标注 第一 帧 的 人体 各个 关节点 的 基础 上 ， 结合 运动 预测 和 形变 块 的 匹配 ， 按 自上而下 的 顺序 依次 跟踪 人体 各 部分 ， 最后 获得 了 人体 的 二维 运动 骨架 序列 . 该 过程 的 整体 框架 如图 1 所示 . 
 
 
 图 1 　 系统 整体 框架 
 　 　 本文 的 具体安排 如下 ： 第 2 节将 介绍 本文 所用 的 人体模型 ； 第 3 节 介绍 人体 运动 跟踪 的 具体 算法 ； 第 4 节 给出 实验 的 结果 ； 最后 对 文章 进行 总结 并 探讨 未来 的 工作 方向 . 
 2 　 人体模型 
 　 　 我们 将 三维 人体 看成 由 关节点 连接 的 刚体 的 集合 ［ 7 ］ . 如 上肢 是 由 肘关节 连接 的 上下 臂 两个 刚体 ， 上臂 与 躯干 是 由 肩关节 连接 的 . 我们 以 三维 人体 骨架 来 描述 人体 运动 . 将 人体 投影 到 二维 平面 上后 ， 骨架 中 各 线段 的 空间 关系 依然 保持 不变 ， 而 有些 线段 的 长度 会 发生变化 ， 即 刚体 的 投影 相对 于原 刚体 外形 发生 了 变化 . 在 二维 图像 序列 的 人体 跟踪 中 ， 由于 线段 不易 由 图像 信息 来 表征 ， 所以 本文 以 二维 人体 块 模型 来 表示 人体 在 二维 平面 上 的 投影 ， 如图 2 所示 . 各 长方形 的 中心线 即 为 人体 投影 后 的 骨架 ， 中心线 将 相应 的 长方形 分为 等 面积 的 两 部分 . 长方形 的 长为 刚体 投影 后 的 长度 ， 宽 由 人体 学 知识 来 获取 . 
 
 
 图 2 　 二维 人体 块 模型 
 　 　 当 用户 对 第一 帧 中 的 特征 点 进行 标注 后 ， 我们 就 得到 了 该 帧 中 各个 长方形 的 图像 信息 . 因此 ， 如果 在 后续 帧 序列 中 能 找到 各个 长方形 相应 的 新 位置 ， 我们 也 就 得到 了 投影 平面 上 的 人体 二维 运动 骨架 . 由于 用户 的 首帧 标注 具有 高可靠性 ， 因此 我们 实际上 将 特征提取 与 特征 对应 这 两步 合二为一 来 完成 ， 即 在 寻找 图像 序列 特征 点 的 过程 中 也 完成 了 对应 的 建立 . 
 3 　 骨架 跟踪 
 　 　 由于 人体 的 头部 较 少有 自 遮挡 现象 ， 可以 方便 地 获取 其 颜色 特征 . 并且 当 头部 长方形 确定 后 ， 躯干 长方形 的 一个 特征 点 — — 颈部 就 已知 了 . 同样 ， 当 上臂 长方形 确定 后 ， 肘关节 就 固定 了 ， 对于 下臂 只 需 确定 手 的 位置 即可 . 因此 ， 我们 从 头部 顶点 开始 ， 按 自上而下 的 顺序 依次 跟踪 人体 各 部分 . 下面 按 头部 、 躯干 、 四肢 3 部分 来 分别 讲述 各自 的 跟踪 . 
 3.1 　 头部 
 　 　 由于 对于 任何 一个 图像 帧 而言 ， 在 帧 序列 中人 的 头部 可能 向 各个 方向 运动 ， 如果 采取 局部 搜索 的 方式 ， 那么 查找 到 的 位置 可能 不是 全局 最优 的 . 如果 采取 全局 搜索 的 方式 ， 那么 效率 又 会 很 低 . 因此 ， 我们 采取 的 是 两种 方式 的 结合 ： 为了 减少 下 一帧 中 对 人 的 头顶 特征 点 的 搜索 范围 ， 我们 采用 基于 图像 差分 的 运动 预测 来 估计 下 一帧 中 头部 位置 ； 然后 以该 预测 点为 中心 ， 选取 一条 搜索 路径 进行 形变 块 的 匹配 ， 以 精确定位 头部 位置 . 
 3.1 . 1 　 基于 图像 差分 的 运动 预测 
 　 　 图像 差分 是 一项 应用 广泛 的 图像处理 技术 ［ 8 ］ ， 本节 将 介绍 如何 使用 它 来 预测 后续 帧 中 人体 头部 的 运动 方向 及 位移 . 设 当前 帧 k 中 的 头部 顶点 和 颈部 点 已知 ， 我们 将 头部 区域 近似 为 一个 圆形 区域 H ， 如图 3 所示 ， H 的 直径 为 L ， 圆心 为 O . 由于 一帧 之间 头部 位移 较 小 ， 定义 差分 区域 为 一个 以 O 为 圆心 , 2L 为 半径 的 圆形 区域 Ω . 由下式 计算 差分 区域 的 颜色 值 ： 
 Differenceij ［ R ］   =   | Xij ［ Red ］ - Xij ′ ［ Red ］ | ， 　 　 　 　 ( i , j ) ∈ Ω 
 ( 1 ) 
 Differenceij ［ G ］   =   | Xij ［ Green ］ - Xij ′ ［ Green ］ | ， 　 　 ( i , j ) ∈ Ω 
 ( 2 ) 
 Differenceij ［ B ］   =   | Xij ［ Blue ］ - Xij ′ ［ Blue ］ | ， 　 　 　 　 ( i , j ) ∈ Ω 
 ( 3 ) 
 
 
 图 3 　 头部 区域 示意图 
 　 　 其中 Xij 表示 k 帧 中 坐标 为 （ i , j ） 的 像素点 的 RGB 颜色 值 . Xij ′ 表示 k + 1 帧 中 坐标 为 （ i , j ） 的 点 的 颜色 值 . 由于 下 一帧 中 头部 可能 向 各个 方向 运动 ， 所以 必须 先 判断 其 运动 方向 ， 然后 再 估计 位移 的 大小 . 图 4 是 差分 区域 示意图 ， H ′ 为 下 一帧 中 的 头部 位置 . 本文 假设 相邻 帧 之间 背景 变化 较 少 ， 因此 差分 区域 中 除了 两个 头部 区域 之外 ， 其值 接近 为 零 . 下面 按 如下 算法 求 运动 方向 α ： 
 
 
 图 4 　 差分 区域 
 　 　 ①   从 α 0 = 90 ° 开始 ， 以 α n + 1 = α n + 5 ° , 得到 36 个 α 角度 值 ； 
 　 　 ②   将 每个 α n 所在 的 直径 延长 到 与 差分 区域 Ω 的 边界 相交 ， 得到 36 条长 为 4L 的 线段 Ln ; 
 　 　 ③   按下式 计算 每条 线段 Ln 上 所有 点 的 颜色 总和 ： 
 
 ( 4 ) 
 　 　 ④   取 α 为 使 Sumn 最大 的 Ln 所 对应 的 角度 ： 
 α = { α n | Sumn = MAX ( Sum0 ， … … ， Sum36 ) } . 
 ( 5 ) 
 　 　 这个 算法 的 根据 是 在 运动 方向 上 头部 区域 的 位移 最大 ， 因而 反映 在 差分 区域 上 应该 是 该 方向 上点 的 颜色 值 总和 最大 . 在 确定 了 运动 方向 后 ， 下面 要 估计 头部 在 这个 方向 上 位移 的 大小 . 我们 取 α 所 对应 的 L \ - n 线段 ， 将 线段 上 所有 点 的 RGB 颜色 值以 曲线 形式 描述 出来 ， 如图 5 所示 . 可以 看到 ， 这是 一个 明显 的 双 峰值 曲线 ， 图中 左边 峰值 对应 于图 5 中 H ′ 与 背景 的 差分 ， 右边 峰值 对应 于 H 与 背景 的 差分 . 这 两个 差分 实际上 代表 了 头部 在 投影 平面 上 的 位移 ， 而且 双峰 的 宽度 应 大致 相等 . 本文 的 方法 是 先 将 Ln 线段 上 所有 点 的 颜色 均值 a 求出 ， 然后 以 一个 百分比 p ( 如 50% ) 为 阈值 ， 在 图 5 中作 一 直线 Y = a . p , 该 直线 与 双 峰值 曲线 相交 有 两条 线段 , D1 与 D2 . 取 D1 与 D2 长度 的 均值 为 头部 的 位移 . 上面 描述 的 确定 运动 方向 的 算法 只是 将 方向 定 在 一条 线段 上 ， 而 未确定 向 线段 的 哪 一端 运动 . 实际上 我们 只 需 计算 D1 与 D2 离 O 的 距离 ， 如果 D1 离 O 远 ， 则 头部 向 D1 所在 方向 运动 ， 反之 则 向 D2 所在 方向 运动 . 这样 通过 图像 差分 的 方法 我们 就 可以 得到 下 一帧 中 头部 顶点 的 估计 位置 . 根据 形变 块 匹配 得到 了 头部 的 准确 位置 后 ， 我们 还 需要 衡量 一下 运动 估计 的 准确度 . 如果 发现 估计 位移 过大 ， 则 增加 百分比 阈值 p ， 反之 则 减小 p . 这样 经过 自 适应 地 调整 阈值 后 ， 运动 估计 的 精度 得到 了 提高 . 在 文献 ［ 9 ］ 中 ， 我们 介绍 了 应用 Kalman 滤波 的 方法 来 进行 头部 点 的 运动 预测 . 相对 于 Kalman 滤波 中较 多 的 矩阵 运算 而言 ， 本文 提出 的 方法 具有 运算 效率高 的 优点 . 但 由于 基于 图像 差分 的 运动 预测 仅 考虑 相邻 帧 的 图像 信息 ， 并 没有 利用 运动 历史 的 信息 ， 因此 在 某些 情况 下受 噪声 干扰 较大 ， 影响 了 预测 效果 . 
 
 
 图 5 　 运动 方向 上 的 双 峰值 曲线 
 3.1 . 2 　 形变 块 匹配 
 　 　 图像 差分 仅仅 给出 了 下 一帧 中 头顶 点 的 预测 坐标 ， 下 一步 即以 该点 为 中心 选择 一条 搜索 路径 进行 匹配 ， 以 精确定位 头部 的 位置 . 为了 便于 图像匹配 ， 我们 将 头部 在 图像 上 的 区域 近似 为 一个 长方形 （ m × n ） ， 它 的 长 m 为 头部 顶点 与 颈部 点 的 距离 ， 宽 n 可 通过 人体 学中 头部 外形 的 知识 获得 . 长方形 中 m × n 个点 的 颜色 信息 （ RGB 值 ） 作为 头部 的 颜色 模型 保留 下来 ， 以 用于 下 一帧 的 匹配 . 由于 图像 上 的 头部 区域 是 三维 头部 在 投影 平面 上 的 投影 ， 因此 头部 在 三维空间 的 运动会 造成 投影 的 形状 发生变化 . 如 在 下 一帧 中 头部 由 直立 变为 略微 向 左侧 倾斜 ， 或 头部 变大 了 （ 这 可能 是 人 向 相机 走来 ） . 因此 我们 的 块 匹配 必须 在 形变 块 之间 进行 . 为此 ， 我们 采用 一种 分 区域 直方图 相似 度 算法 . 
 　 　 定义 形变 块 A = { ( x , y ) , m , n , θ } , 如图 6 所示 . ( x , y ) 为块 的 中心线 与 一条 边 的 交点 ， m 为块 的 长 ， n 为块 的 宽 ， θ 为块 的 中心线 与 x 轴 的 夹角 . 现有 参照 块 A = { ( x , y ) , m , n , θ } 和 比较 块 A ′ = { ( x ′ , y ′ ) , m ′ , n ′ , θ ′ } ， 按 如下 方法 计算 两者 的 相似 度 . 
 
 
 图 6 　 特征 块 
 　 　 ①   将块 A 分为 等 面积 的 4 个 小 区域 b1 , b2 , b3 , b4 , 分别 计算 4 个 小 区域 的 颜色 直方图 H1 , H2 , H3 , H4 ; 
 　 　 ②   将块 A ′ 分为 等 面积 的 4 个 小 区域 b1 ′ , b2 ′ , b3 ′ , b4 ′ , 分别 计算 4 个 小 区域 的 颜色 直方图 H1 ′ , H2 ′ , H3 ′ , H4 ′ ; 
 　 　 ③   计算 ： 　 　 　 　 
 ( 6 ) 
 其中 Wk 表示 各个 区域 在 整个 块 中 所 占 的 比重 ； k 是 将 Hk 标准化 后 的 直方图 ； n 为 直方图 的 维数 ； Min ( ) 表示 对 两个 直方图 进行 求交 操作 ， 两个 直方图 越 相似 ， 求交 的 结果 越 接近 1 ， 反之 则 越 接近 0 . 因此 ， 我们 以 S 表示 两个 形变 块 之间 的 相似 度 度量 ， S 越大则 相似 度越 大 . 采用 分 区域 的 方法 是因为 这样 不仅 考虑 了 块 中 的 颜色 在 数量 上 的 分布 ， 也 考虑 了 颜色 在 位置 上 的 分布 . 
 　 　 对于 一个 图像 帧 序列 而言 ， 我们 将 上 一帧 中 已 跟踪 到 的 头部 长方形 区域 定义 为 参照 块 A ， 而前 帧 中待 跟踪 的 头部 长方形 为   A ′ . 由于 一帧 之间 头部 转动 很小 ， 所以 取 θ ′ 为 θ - Δ θ ≤ θ ′ ≤ θ + Δ θ ,   Δ θ 为 很小 的 角度 值 . 头部 的 投影 大小 都 为 按 比例 缩放 ， 所以 m - Δ m ≤ m ′ ≤ m + Δ m ;   n - ( n / m ) Δ m ≤ n ′ ≤ n + ( n / m ) Δ m . 这样 ， 对于 搜索 路径 中 的 每 一个 待 选点 （ x , y ） ， 我们 都 由 { ( x , y ) , m ′ , n ′ , θ ′ } 形成 几个 A ′ ， 分别 计算 其 与 上 一帧 头部 区域 的 相似 度 ， 保留 具有 最小 相似 度 的 A ′ 的 信息 . 最后 ， 具有 最小 相似 度 的 A ′ 即 为 当前 帧 中 头部 区域 的 位置 . 由于 头部 区域 的 颜色 会 随 光照 等 条件 发生变化 ， 我们 还 采用 线性 加权 的 方法 来自 适应 地 更新 颜色 模型 ［ 10 ］ . 
 3.2 　 躯干 
 　 　 我们 定义 躯干 部分 的 长为 从 颈部 点到 腹部 点 的 距离 ， 宽为 左右 肩部 之间 的 距离 . 为了 有效 地 定位 整个 躯干 的 位置 ， 我们 将 胸部 点 的 上下 两 部分 合为 一部分 来 考虑 . 与 头部 相比 ， 躯干 块 的 长 与 宽 不 一定 是 按 比例 同时 缩放 的 ， 所以 对长 和 宽 应 分别 定义 Δ m 与 Δ n ， 然后 用分 区域 直方图 相似 度 算法 来 确定 躯干 块 的 位置 . 此时 躯干 块 的 宽 即 为 本 帧 中 的 肩宽 . 躯干 确定 后 ， 腹部 点 也 就 确定 了 . 对于 左右 臀部 两点 ， 我们 假设 它 与 上体 躯干 一起 发生 旋转 . 如果 上体 旋转 后 肩宽 为 上 一帧 的 90% ， 则 本 帧 中 左右 臀 之间 的 距离 也 为 上 一帧 臀 间距 的 90% . 　 　 
 3.3 　 四肢 
 　 　 由于 四肢 的 运动 具有 相似性 ， 我们 放在 一起 讨论 . 四肢 部分 在 一帧 之间 可能 运动 较 多 ， 所以 应先 采用 一定 的 预测 机制 来 估计 下 一帧 中 四肢 可能 的 位置 ， 然后 再 精确定位 . 以 大腿 为例 ， 我们 将 每 一帧 中 膝部 关节点 相对 臀部 的 角度 值 作为 运动 轨迹 信息 保存 下来 . 每次 预测 时 ， 取前 两 帧 的 角度 值作 均值 ， 以该 值 作为 本帧 的 初始 角度 值 θ ′ ， 然后 在 （ θ ′ - Δ θ , θ ′ + Δ θ ） 的 范围 内 确定 精确 的 角度 值 . 结果 发现 ， 对于 四肢 的 大幅度 运动 ， 预测 机制 能 有效 地 减少 块 匹配 的 搜索 范围 . 
 　 　 在 描述 四肢 形变 块 的 参量 中 ， 除了 θ 之外 ， 另 一个 重要 参量 是 m . 因为 对于 四肢 而言 ， 从 任何 视角 投影 过去 ， 其 宽度 变化 很小 ， 而 长度 可能 变化 很多 . 所以 在 每次 跟踪 四肢 部分 时 ， （ x , y ） 已 定 ， n 不变 ， m 与 θ 需要 由 前述 的 相似 度 算法 来 确定 . 
 　 　 在 四肢 的 跟踪 中 ， 还有 一个 必须 考虑 的 问题 是 遮挡 的 处理 问题 . 以 上肢 为例 ， 在 某 一帧 上肢 被 躯干 遮挡 后 ， 往往 在 块 的 匹配 中 反映 出较 低 的 相似 度 . 但 在 遮挡 消除 后 ， 相似 度 又 会 升高 了 . 因此 我们 提出 了 将 块 匹配 的 相似 度 S 同时 作为 块 匹配 的 可信度 度量 . 在 帧 序列 的 匹配 过程 中 保存 每个 四肢 块 的 匹配 可信度 ， 如果 发现 在 两个 较 高 匹配 可信度 的 帧 之间 有 一个 或 几个 较 低 可信度 的 帧 ， 则 用 高 可信度 帧 中 关节点 的 坐标 线性插值 出 中间 几帧 的 关节点 坐标 . 实验 证明 ， 这种 方法 能 在 一定 程度 上 处理 遮挡 ， 并 优化 跟踪 质量 . 
 4 　 实验 结果 
 　 　 根据 本文 所述 的 算法 ,   我们 已经 在 微机 上 实现 了 一个 原型 程序 . 它 能 对 一个 图像 序列 中 的 运动 人体 各 部分 进行 跟踪 . 我们 拍摄 了 人体 以 匀速 走向 摄像机 的 一段 视频 （ 共 40 帧 ） ， 然后 将 其 保存 为 一个 图像 序列 . 图 7 从左到右 依次 展示 了 该 序列 中 的 第 1 、 5 、 10 、 15 ， 20 、 25 、 30 、 35 、 40 帧 ， 共 9 幅 图像 . 最 左边 图像 上 的 16 个 特征 点 是 由 用户 使用 鼠标 标注 的 ， 其余 8 帧 上 的 特征 点 是 由 程序 跟踪 得到 的 . 从图 中 可以 看到 ， 在 人体 投影 不断 变长 的 情况 下 ， 每帧 中 的 头部 与 躯干 都 很 好 地 跟踪 到 了 . 虽然 人体 裤子 的 颜色 与 地面 相似 ， 但是 腿部 的 跟踪 还是 比较 精确 的 . 当然 由于 本文 算法 没有 利用人体 各 部分 的 边界 信息 ， 一些 关节点 （ 如 第 40 帧 的 左踝 ） 的 跟踪 有 一定 偏差 . 在 实验 中 我们 还 发现 ， 当 人体 在 图像 平面 上 水平 移动 时 ， 我们 的 算法 也 能 产生 很 好 的 跟踪 效果 . 若要 参考 更 多 的 实验 结果 ， 请 访问 ： http : / / icad . zju . edu . cn / ～ liuxm / animation . html . 
 
 
 图 7 　 行走 人体 的 跟踪 
 5 　 结论 
 　 　 本文 介绍 了 一种 新 方法 对 运动 图像 序列 中 的 人体 运动 进行 跟踪 . 该 方法 去 除了 以往 方法 中 的 许多 限制 . 它 不 针对 特定 人体 运动 方式 ， 能 对 复杂 、 变化 背景 中 的 人体 各 部位 的 大幅度 运动 进行 跟踪 . 本文 的 方法 非常 方便 、 直观 . 用户 只 需 在 第一 帧 上 标注 人体 各个 关节点 ， 以后 的 工作 都 可以 由 计算机 来 完成 . 我们 采取 了 从 头部 顶点 开始 ， 以 自上而下 的 顺序 依次 跟踪 人体 各 部分 的 方法 ， 最后 获得 了 人体 经 投影 后 的 二维 运动 骨架 序列 . 在 跟踪 过程 中 ， 我们 采用 了 基于 图像 差分 的 运动 预测 和 分 区域 直方图 相似 度 算法 . 从 实验 结果 来看 ， 跟踪 的 效果 是 好 的 . 基于 这一 跟踪 算法 ， 我们 进一步 在 骨架 序列 中 恢复 了 人体 的 三维 运动 模型 ［ 9 ］ ， 这样 就 从 三维 人体 运动 的 真实性 证明 了 算法 的 有效性 . 
 　 　 从 实验 中 我们 发现 ， 当 被 跟踪 人体 存在 大量 自 遮挡 现象 时 ， 跟踪 的 效果 将会 受到 很大 影响 . 解决 这一 问题 的 途径 有 两个 ： 一是 在 跟踪 过程 中 加入 用户 的 反馈 ， 这种 交互式 跟踪 的 效果 将 是 非常 好 的 ； 二是 借助 三维 人体模型 的 知识 来 指导 二维 跟踪 ， 这样 就 可以 最大 限度 地 减少 用户 反馈 的 次数 . 这两点 也 是 今后 进一步 研究 的 方向 . 
 致谢 　 感谢 童一颖 、 周昆 进行 的 许多 有益 的 讨论 . 
 本 课题 得到 国家自然科学基金 资助 . 
 作者简介 ： 刘小明 ,   男 ,   1975 年 3 月生 , 硕士 研究生 , 主要 研究 方向 为 多媒体技术 、 视频 检索 . 
 　 　 　 　 　 庄越 挺 ,   男 ,   1965 年 6 月生 , 博士 , 教授 ,   主要 研究 方向 为 多媒体数据库 、 智能 CAD . 
 　 　 　 　 　 潘云鹤 ,   男 ,   1946 年 11 月生 , 教授 , 博士生 导师 , 院士 , 主要 研究 方向 为 计算机 美术 、 形象思维 、 智能 CAD 系统 、 GIS 、 计算机 动画 、 多媒体技术 等 . 
 作者 单位 ： 浙江大学 人工智能 研究所 　 杭州 　 310027 
 参考文献 
 　 1 　 　 Rourke   J   O ,   Badler   N   I .   Model - based   image   analysis   of   human   motion   using   constraint   propagation .   IEEE   Trans   Pattern   Anal   Mach   Intell ,   1980 ,   2 ( 6 ) :   522 ～ 536 
 　 2 　 　 Hogg   D .   A   program   to   see   a   walking   person .   Image   Vision   Computing ,   1983 ,   5 ( 20 ) 
 　 3 　 　 Rohr   K .   Incremental   recognition   of   pedestrians   from   image   sequences .   In :   Proc   IEEE   Comput   Soc   Conf   Comput   Vision   and   Pattern   Recogn ,   New   York :   IEEE   Computer   　 Society ,   1993 
 　 4 　 　 Chen   Z ,   Lee   H   J .   Knowledge - guided   visual   perception   of   3D   human   gait   from   a   single   image   sequence .   IEEE   Trans   on   Systems ,   Man ,   and   Cybernetics ,   1992 ,   22 ( 2 ) :   336 ～ 342 
 　 5 　 　 Bharatkumar   A   G ,   Daigle   K   E ,   Pandy   M   G   et   al .   Low   limb   kinematics   of   human   walking   with   the   medial   axis   transformation .   In :   Proc   of   IEEE   Computer   Society   Workshop   on   Motion   of   No - Rigid   and   Articulated   Objects ,   Austin ,   TX :   IEEE   Computer   Society ,   1994 .   70 ～ 76 
 　 6 　 　 Niyogi   S   A ,   Adelson   E   H .   Analyzing   and   recognizing   walking   figures   in   XYT .   In :   Proc   CVPR ,   Seattle ,   WA :   IEEE   Signal   Processing   Society ,   467 ～ 474 
 　 7 　 　 Aggarwal   J   K ,   Cai   Q .   Human   motion   analysis :   A   review .   In :   Proc   of   the   IEEE   　 Nonrigid   and   Articulated   Motion   Workshop   1997 ,   Piscataway ,   NJ :   IEEE   Computer   Society   1997 .   90 ～ 102 
 　 8 　 　 Jain   R .   Extraction   of   motion   information   from   peripheral   processes .   IEEE   Trans   PAMI ,   1981 ,   ( 5 ) 
 　 9 　 　 Zhuang   Yueting ,   Liu   Xiaoming ,   Pan   Yunhe .   Video   motion   capture   using   feature   　 tracking   and   skeleton   reconstruction .   In :   Proc   of   IEEE   Int   Conf   on   Image   Processing .   Kobe ,   Japan :   IEEE   Signal   Processing   Society ,   1999 .   25 ～ 28 
 　 10 　 　 刘明宝 ， 姚鸿勋 ， 高文 .   彩色图像 的 实时 人脸 跟踪 方法 .   计算机 学报 ,   1998 ,   21 ( 6 ) :   527 ～ 532 
 　 　 　 ( Liu   Mingbao ,   Yao   Hongxun ,   Gao   Wen .   Real - time   human   face   tracking   in   color   images .   Chinese   Journal   of   Computers .   1998 ,   21 ( 6 ) :   527 ～ 532 )   
 原稿 收到 日期 ： 1999 - 01 - 22 ； 
 修改稿 收到 日期 ： 1999 - 06 - 14 . 
