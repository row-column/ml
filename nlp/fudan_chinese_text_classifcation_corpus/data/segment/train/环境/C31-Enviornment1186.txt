环境 科学 学报 
 ACTA   SCIENTIAE   CIRCUMSTANTIAE 
 1998 年   第 18 卷   第 3 期 科技期刊 
 ISAPEC 中 知识 自动 获取 的 设计 与 实现 * 
 陈文颖 　 　 　 侯 　 盾 
 ( 清华大学 核能 技术 设计 研究院 ， 北京   100084 ) 
 ( 建设部 城市 水资源 中心 ， 北京   100007 ) 
 　 　 摘要   剖析 了 利用 人工神经网络 实现 大气污染 总量 控制 规划 智能 决策支持系统 ( ISAPEC ) 中 知识 自动 获取 的 必要性 ， 论述 了 ISAPEC 中 知识 自动 获取 的 设计 与 实现 过程 ， 并用 一 实例 进行 了 验证 . 结果表明 用 人工神经网络 实现 知识 的 自动 获取 与 知识 的 人工 获取 相比 既 具有 更 高 的 时间 效率 ， 又 能 保证 更 高 的 质量 . 
 　 　 关键词   总量 控制 规划 ； 智能 决策支持系统 ； 人工神经网络 ； 知识 的 自动 获取 . 
 　 　 可 持续 发展 已 作为 人类 发展 的 新 战略 成为 全球 的 共识 ， 而 总量 控制 是 遏制 污染 发展趋势 、 改善 环境质量 、 实现 经济 持续 发展 的 根本保证 . 大气污染 总量 控制 须 以 大气污染 总量 控制 规划 为 先导 ， 建立 一个 为 大气污染 总量 控制 规划 服务 的 智能 决策支持系统 ， 以此 为 我国 大气污染 总量 控制 的 顺利 实施 提供 有效 的 技术支持 . 正是 在 这种 形势 下 对 综合 应用 决策支持系统 和 专家系统 的 大气污染 总量 控制 规划 智能 决策支持系统 ISAPEC ( Intelligent   Dicision   Support   System   of   Air   Pollution   Total   Emission   Control   Planning ) 进行 了 开发 研究 ［ 1 ， 2 ］ . ISAPEC 由 数据库系统 、 知识库 系统 、 模型库 系统 、 图形库 系统 、 运行 总 控制系统 组成 . 知识库 系统 是 ISAPEC 的 核心 ， 它 包括 知识库 、 推理机 、 黑板 、 解释器 、 知识库 管理系统 以及 知识 的 自动 获取 等 方面 的 设计 ［ 1 ， 2 ］ . 本文 对 ISAPEC 不同于 其它 决策支持系统 的 一大 特点 即 知识 自动 获取 的 设计 与 实现 过程 进行 介绍 . 
 1   ISAPEC 中用 人工神经网络 实现 知识 自动 获取 的 必要性 分析 
 　 　 知识库 系统 解决问题 的 能力 依靠 于 其 获取 的 知识 ， 然而 知识 的 获取 是 相当 困难 的 ， 已 成为 知识库 系统 的 瓶颈 问题 . 这 是因为 ： ( 1 )   由 知识 工程师 整理 、 总结 、 消化 领域专家 的 知识 需 花费 大量 的 时间 和 精力 ； ( 2 )   当 多个 领域专家 的 知识 之间 互相矛盾 时 ， 知识 工程师 往往 在 这种 情况 下 束手无策 ； ( 3 )   有时 专家 解决问题 的 知识 未必 很 好 ， 甚至 也 可能 有 错 ， 这 就 使 知识库 系统 获得 的 知识 很 成问题 . 
 　 　 最近 发展 起来 的 十分 热门 的 交叉学科 — — 人工神经网络 ［ 3 ， 4 ］ 可以 很 好地解决 知识库 系统 中 知识 获取 困难 这个 问题 . 所谓 人工神经网络 是 采用 物理 可 实现 的 器件 或 采用 现有 的 计算机 来 模拟 生物体 中 神经网络 的 某些 结构 与 功能 ， 并 反过来 用于 工程 或 其他 的 领域 . 人工神经网络 的 着眼点 不是 用 物理 器件 去 完整 地 复制 生物体 中 神经细胞 网络 ， 而是 采纳 其 可 利用 的 部分 来 克服 目前 计算机 或 其他 系统 不 可能 解决 的 问题 ， 如 学习 、 识别 和 控制 等 . 
 　 　 由于 人工神经网络 吸取 了 生物 神经网络 的 部分 优点 ， 因此 具有 以下 特点 ： ( 1 )   人工神经网络 在结构上 是 由 很多 小 的 处理单元 互相 联接 而成 ， 大量 处理单元 集体 的 、 并行 的 活动 得到 预期 的 识别 、 计算 的 结果 ， 具有 较 快 的 速度 ； ( 2 )   人工神经网络 具有 很强 的 容错性 ； ( 3 )   人工神经网络 所 记忆 的 信息 是 存贮 在 神经元 之间 的 权中 ， 从 单个 权中 看不出 其 贮存 信息 的 内容 ， 因而是 分布式 的 存贮 方式 ； ( 4 )   人工神经网络 具有 十分 强 的 学习 功能 ， 人工神经网络 中 的 连接 权 和 连接 的 结构 都 可以 通过 学习 而 得到 . 
 　 　 这些 特点 使得 如果 利用 人工神经网络 来 实现 知识 的 自动 获取 ， 就 不再 需要 由 知识 工程师 来 整理 、 总结 、 消化 领域专家 的 知识 ， 只 需要 用 领域专家 解决问题 的 实例 或 范例 来 训练 神经网络 ， 使 在 同样 输入 的 条件 下 人工神经网络 能够 获得 与 专家 给出 的 解答 尽可能 相同 的 输出 . 
 2   ISAPEC 中用 人工神经网络 实现 知识 自动 获取 的 设计 与 实现 
 　 　 人工神经网络 的 结构 多种多样 ， 在 ISAPEC 中 采用 由 Rumelhart 于 1986 年 提出 的 非线性 变换 单元 组成 的 前馈 网络 . 在 这种 网络 中 ， 神经元 是 分层 排列 的 ， 每个 神经元 只 与 前 一层 的 神经元 相连 . 最上 一层 为 输出 层 ， 最 下 一层 为 输入 层 ， 中间 是 隐含 层 ， 隐含 层 可以 是 一层 或 多层 . 神经元 的 输入 、 输出特性 用 Sigmoid 函数 来 描述 . 在 这种 网络 中 采用 反向 传播 ( Back － Propagation ) 的 学习 算法 ， 因此 它 也 称为 B － P 网络 . 
 　 　 B － P 网络 中 ， 输入 层 神经元 的 输出 等于 其 输入 ， 其它 各层 的 神经元 的 输出 Oj 与其 输入 Nj 的 关系 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 1 ) 
 　 　 其中 θ j 表示 阈值 . 
 　 　 而 某 一层 神经元 的 输入 Nj 与其 下 一层 的 神经元 输出 Oi 的 关系 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 2 ) 
 　 　 式 中 ， Wji — — 某 一层 第 j 个 神经元 和 其下 一层 的 第 i 个 神经元 的 连接 权值 . 输出 层权 系数 与 阈值 的 迭代 表达式 为 ： 
 　 　 　 　 Δ Wkj ( n + 1 ) = η δ kOj + α Δ W ( n ) kj 　 　 　 　 　 　 　 　 　 ( 3 ) 
 　 　 　 　 θ ( n + 1 ) k = η δ k + α θ ( n ) k 　 　 　 　 　 　 　 　 　 　 　 　 ( 4 ) 
 　 　 隐含 层权 系数 与 阈值 的 迭代 表达式 为 ： 
 　 　 　 　 Δ W ( n + 1 ) ji = η δ jOi + α Δ W ( n ) ji 　 　 　 　 　 　 　 　 　 ( 5 ) 
 　 　 　 　 θ ( n + 1 ) j = η δ j + α θ ( n ) j 　 　 　 　 　 　 　 　 　 　 　 　 ( 6 ) 
 　 　 其中 ： δ k = ( tk - Ok ) Ok ( 1 - Ok ) 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 7 ) 
 　 　 　 　 δ j = Oj ( 1 - Oj )  k δ kWkj 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 8 ) 
 式 中 ： η 、 α — — 分别 为 学习 速率 与 平滑 因子 ； 
 　 　 tk — — 输出 层 第 k 个 神经元 的 目标 输出 值 . 
 　 　 ISAPEC 中 的 反向 传播 神经网络 的 学习 过程 如图 1 所示 . 若 学习 失败 ， 可以 调整 神经网络 隐含 层 单元 数 、 最大 迭代 次数 、 学习 速率 和 平滑 因子 等 ， 继续 学习 . 学习 成功 后 ， 通过 学习 而 自动 获取 的 知识 — — 各 神经元 间 的 权 系数 和 阈值 就 存入 神经网络 知识库 中 . 利用 神经网络 知识库 中 的 知识 来 求解 实际 问题 的 过程 不是 逻辑 演绎 ， 而是 一种 并行计算 的 过程 . 具体 而言 它 包括 以下 几个 步骤 ： ( 1 )   将 输入 数据 加 到 神经网络 输入 层 的 各个 神经元 ； ( 2 )   根据 神经元 知识库 中 的 知识 和 输入 数据 计算 隐含 层 神经元 单元 的 输入 和 输出 ； ( 3 )   根据 神经元 知识库 中 的 知识 和 隐含 层 神经元 输出 计算 输出 层 神经元 的 输入 和 输出 . 
 
 图 1   ISAPEC 中 知识 自动 获取 的 实现 过程 
 Fig.1   The   process   of   automatic   acquisition   of   knowledge   in   ISAPEC 
 3   ISAPEC 中用 人工神经网络 实现 知识 自动 获取 的 实例 分析 
 　 　 现在 用 大气环境 质量 分类 神经网络 ( 根据 二氧化硫 、 氮氧化物 、 总 悬浮 颗粒 浓度 及 降尘 量 的 监测 结果 进行 大气环境 质量 分类 的 神经网络 ) 来 说明 ISAPEC 中 知识 自动 获取 的 实现 过程 ， 并 对 自动 获取 的 知识 的 性能 进行 验证 . 
 　 　 在 利用 大气环境 质量 分类 神经网络 来 实现 知识 的 自动 获取 时 ， 首先 确定 神经网络 结构 参数 和 学习 参数 ， 包括 以下 几个 方面 ： 确定 输入 层 单元 数为 4 ， 依次 代表 二氧化硫 年均值 ( mg / m3 ) 、 氮氧化物 年均值 ( mg / m3 ) 、 总 悬浮 微粒 年均值 ( mg / m3 ) 和 降尘 月 均值 的 倒数 ( km2 * 月 / t ) ； 确定 隐含 层数 为 1 ， 隐含 层 单元 数为 4 ； 确定 ( 1   0   0   0 ) 、 ( 0   1   0   0 ) 、 ( 0   0   1   0 ) 、 ( 0   0   0   1 ) 4 种 输出 模式 ， 分别 代表 4 类 不同 的 大气环境 质量 ， 第一种 模式 代表 的 大气环境 质量 为 最好 ， 第二 、 三种 次之 ， 第四种 为 最差 ； 确定 学习 速率 和 平滑 因子 分别 为 0.8 和 0.7 ； 确定 最大 迭代 次数 为 20000 ； 确定 单 样本 误差 精度 要求 为 0.00001 ， 系统 平均误差 精度 要求 为 0.00005 . 在 实际 运行 时 ， 这些 参数 通过 一个 对话框 输入 . 然后 ， 由 文献 ［ 5 ］ 获取 如表 1 所示 的 学习 样本 集 . 
 　 　 按照 如图 1 所示 的 学习 过程 进行 学习 ， 在 迭代 次数 为 17909 时 学习 成功 ， 获得 的 各 神经元 间 的 权 系数 和 阈值 便 构成 了 大气环境 质量 分类 神经网络 知识库 中 的 知识 ( 表 1 ) . 在 知识 的 自动 获取 实现 之后 ， 便 可 利用 大气环境 质量 分类 神经网络 知识库 中 的 知识 求解 表 2 中 10 个 样本 的 输出 值 ( 这 10 个 样本 的 输入 值 来源于 文献 ［ 5 ］ ) . 由于 网络 输出 值为 连续变量 ， 因此 需将 之 转变 为 布尔 离散 量 ， 从而 判定 各 样本 的 大气环境 质量 类别 . 由表 2 可知 神经网络 求解 结果 与 实际 情况 是 一致 的 . 
 表 1   大气环境 质量 分类 神经网络 学习 样本 集 
 Table   1   Samples   for   the   learning   in   the   neural   network   of   atmospheric   environmental   quality   classification 
 
 序号 输入 值 大气环境 质量 类别 输出 目标值 
 SO2 , mg / m3NOx , mg / m3TSP , mg / m31 / 降尘 ，   km2 * 月 / t 
 10.4630 . 0520.3920 . 0584 ( 0   0   0   1 ) 
 20.3030 . 0920.6410 . 0384 ( 0   0   0   1 ) 
 30.1210 . 0480.4190 . 0264 ( 0   0   0   1 ) 
 40.1310 . 0760.3980 . 0314 ( 0   0   0   1 ) 
 50.1170 . 1020.3400 . 0564 ( 0   0   0   1 ) 
 60.1990 . 0510.2690 . 0703 ( 0   0   1   0 ) 
 70.1380 . 0390.3540 . 0573 ( 0   0   1   0 ) 
 80.0600 . 1070.2970 . 1013 ( 0   0   1   0 ) 
 90.0980 . 0700.3370 . 0723 ( 0   0   1   0 ) 
 100.1070 . 0660.2340 . 0783 ( 0   0   1   0 ) 
 110.0500 . 0320.3310 . 1103 ( 0   0   1   0 ) 
 120.0400 . 0560.2640 . 0592 ( 0   1   0   0 ) 
 130.0410 . 0400.2690 . 0672 ( 0   1   0   0 ) 
 140.0350 . 0180.3680 . 0432 ( 0   1   0   0 ) 
 150.0990 . 0240.2150 . 0822 ( 0   1   0   0 ) 
 160.0380 . 0400.3090 . 1712 ( 0   1   0   0 ) 
 170.0860 . 0110.1880 . 0832 ( 0   1   0   0 ) 
 180.0390 . 0180.2680 . 1332 ( 0   1   0   0 ) 
 190.0310 . 0160.1340 . 2431 ( 1   0   0   0 ) 
 200.0070 . 0140.0900 . 1341 ( 1   0   0   0 ) 
 
 表 2   利用 大气环境 质量 分类 神经网络 自动 获取 的 知识 求解 实际 问题 的 结果 
 Table   2   Results   of   the   application   of   neural   network   of   atmospheric   environmental   quality   classification 
 
 序号 输 　 　 入 　 　 值神   经   网   络   求   解   结   果 实际 的 大 
 气 环境 质 
 量   类   别 
 SO2 , 
 mg / m3NOx , 
 mg / m3TSP 
 mg / m31 / 降尘 ， 
 km2 * 月 / t 输 　 出 　 值 大气环境 
 质量 类别 
 10.3510 . 0650.0350 . 056 ( 0 ， 0.001069 ， 0.042149 ， 0.962124 ) 44 
 　 　 　 　 　 → ( 0001 ) 
 20.1250 . 0840.3220 . 019 ( 0 ， 0.001702 ， 0.014939 ， 0.986333 ) 44 
 　 　 　 　 　 → ( 0001 ) 
 30.0890 . 0570.6630 . 028 ( 0 ， 0.007324 ， 0.000777 ， 0.999314 ) 44 
 　 　 　 　 　 → ( 0001 ) 
 40.1500 . 0360.4830 . 023 ( 0 ， 0.007142 ， 0.000815 ， 0.999278 ) 44 
 　 　 　 　 　 → ( 0001 ) 
 50.1800 . 0360.2220 . 079 ( 0 ， 0 ， 1.000000 ， 0 ) 33 
 　 　 　 　 　 → ( 0010 ) 
 60.1280 . 0350.3070 . 063 ( 0 ， 0 ， 1.000000 ， 0 ) 33 
 　 　 　 　 　 → ( 0010 ) 
 70.0650 . 0220.1910 . 096 ( 0.001535 ， 0.998202 ， 0.000017 ， 0 ) 22 
 　 　 　 　 　 → ( 0100 ) 
 80.0540 . 0460.2120 . 089 ( 0.000325 ， 0.999110 ， 0.000058 ， 0 ) 22 
 　 　 　 　 　 → ( 0100 ) 
 90.0380 . 0400.3090 . 171 ( 0.000001 ， 0.982231 ， 0.011314 ， 0 ) 22 
 　 　 　 　 　 → ( 0100 ) 
 100.0070 . 0190.0990 . 237 ( 0.999592 ， 0.003847 ， 0 ， 0 ) 11 
 　 　 　 　 　 → ( 1000 ) 
 
 4   结论 
 　 　 与 知识 的 人工 获取 相比 ， 用 人工神经网络 实现 的 自动 的 知识 获取 既 具有 更 高 的 时间 效率 ， 又 能 保证 更 高 的 质量 . 这样 ， 在 知识库 系统 中 成为 瓶颈 的 知识 获取 问题 通过 人工神经网络 就 得到 了 比较 好 的 解决 ， 至少 不再 是 瓶颈 问题 . 在 ISAPEC 中 ， 难以 通过 人工 获取 并 将 之 表示 为 规则 的 知识 将 通过 建立 相应 的 神经网络 从 实际 的 例子 中 自动 获取 . 例如 有关 大气污染 治理 措施 选择 的 知识 获取 将 通过 大气污染 治理 措施 选择 神经网络 来 实现 ， 从而 保证 ISAPEC 提供 的 规划 方案 更加 科学 、 合理 、 有效 . 
 　 * 国家环保局 科技 发展 项目 
 参考文献 
 　 1   陈文颖 . 大气污染 总量 控制 规划 方法 与 智能 决策支持系统 ［ 博士学位 论文 ］ . 北京 ： 清华大学 ， 1996 
 　 2   陈文颖 . 大气污染 总量 控制 规划 智能 决策支持系统 的 开发 与 研究 . 中国 环境 科学 ， 1997 ， 17 ( 1 ) ： 1 — 4 
 　 3   张立明 . 人工神经网络 的 模型 及其 应用 . 上海 ： 复旦大学 出版社 ， 1992 
 　 4   钟义信 等 . 智能 理论 与 技术 — — 人工智能 与 神经网络 . 北京 ： 人民邮电出版社 ， 1992 
 　 5   《 中国 环境 年鉴 》 编辑 委员会 . 中国 环境 年鉴 1994 . 北京 ： 中国 环境 年鉴 社 ， 1994 ： 184 — 186 
 
 AUTOMATIC   ACQUISITION   OF   KNOWLEDGE   IN   ISAPEC 
 Chen   Wenying 
 ( Institute   of   Nuclear   Energy   Technology , Tsinghua   University , Beijing   100084 ) 
 Hou   Dun 
 ( Urban   Water   Resources   Center , Ministry   of   Construction , Beijing   100007 ) 
 ABSTRACT   The   necessity   of   using   the   artificial   neural   network   to   obtain   the   knowledge   automatically   in   the   intelligent   decision   support   system   of   air   pollution   total   emission   control   planning   ( ISAPEC )   is   expounded . A   process   of   designing   and   achieving   automatic   acquisition   of   the   knowledge   in   ISAPEC   is   introduced . The   function   of   the   automatic   acquired   knowledge   is   tested   through   a   case   study . 
 Keywords   total   emission   control   planning , intelligent   decision   support   system , artificial   neural   network , automatic   acquisition   of   knowledge . 
 1997 - 01 - 14 收到 原稿 
 1997 - 09 - 04 收到 修改稿 
