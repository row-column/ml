中国 环境 科学 
 CHINA   ENVIRONMENTAL   SCIENCE 
 1998 年   第 18 卷   第 3 期   No.3   Vol.18   1998 
 科技期刊 
 
 水污染 可控性 分析 的 可视化 系统 研究 
 宣 　 华 　 ( 中国 环境 管理 干部 学院 环境 信息 系 , 秦皇岛   066000 ) 
 文 　 摘 　   以 河南省 安阳市 境内 的 万金 渠为例 ， 在 国内 首次 提出 了 实现 水污染 可控性 分析 的 计算机 图形 可视化 系统 的 技术 路线 和 系统 设计方案 ， 探讨 了 实现 河流 水系 动态 画面 交互 处理 的 可能性 。 为 处理 大量 的 、 瞬息 多变 的 流域 水 环境 信息 提供 简单 可行 的 技术手段 ， 使 决策者 能够 及时 掌握 和 了解 实际 水系 的 各种 变化 情况 而 进行 决策 。 
 关键词 　 水污染 　 可视化 　 交互 处理 　 动态显示 
 Study   on   the   visualization   of   control   analysis   for   water   pollution . Xuan   Hua   ( Department   of   Environmental   Information ,   Chinese   College   of   Environmental   Management   Officials , Qinhuangdao   066000 ) . China   Environmental   Science.1998 , 18 ( 3 ) : 231 ～ 235 
 Abstract — Taking   Wanjin   Canal   water   system   for   example ,   this   paper   for   the   first   time   in   our   country , puts   forword   the   technical   route   of   realizing   the   visualization   system   of   computer   pictures   for   the   control   analysis   of   water   pollution   and   the   design   program   of   the   system .   The   possibility   of   realizing   mutual   treatments   for   the   dynamic   pictures   of   river   system   is   discussed   in   detail .   The   simple   and   practical   mean   is   provided   for   dealing   with   the   water   environmental   information   of   a   large   number   of   changing   valley   in   a   twinkle .   By   way   of   this   technique ,   decision   makers   can   make   a   new   decision   successfully   when   they   grasp   and   know   well   the   various   changing   circumstances   of   actual   water   systems . 
 Key   words : water   pollution 　 visualization 　 mutual   treatments 　 dynamic   pictures 
 　 　 进行 水 环境规划 ， 首先 要 揭示 的 是 规划 范围 内 环境 性质 的 空间 变化规律 ， 摸清 环境 现状 ， 并 由此 进行 功能 区划 、 环境容量 计算 等 一系列 工作 ， 这些 工作 都 基于 地理位置 图 。 长期以来 ， 人们 就 企盼 着 能 将 一张 张 表格 数字 变成 一幅幅 彩色 的 、 动态 的 、 真实 的 现场 画面 ， 将 各种 水 环境 数据 ， 通过 计算 反映 在 计算机 图形 中 ， 在 屏幕 上 动态 地 观察 各 河流 各 功能区 的 一系列 变化 。 决策者 可以 通过 对 图形 的 观察 ， 了解 各 因素 的 情况 ， 根据 图形 的 大小 、 色彩 、 形状 等 ， 对 各种 方案 进行 比较 和 决策 ， 为水 环境 管理 、 规划 提供 高效 的 服务 。 
 　 　 目前 计算机 可视化 技术 已 在 许多 领域 得到 应用 〔 1 〕 ， 然而 在 国内 环境保护 领域 的 应用 还 未 见 报道 。 本文 将 可视化 技术 应用 到 水 环境规划 中 ， 以 满足 广大 环境保护 工作者 的 需求 ， 提高 我国 环境 管理 的 水平 。 
 1 　 可视化 技术 在 水污染 可控性 分析 中 的 应用 
 　 　 可视化 技术 是 指 利用计算机 图形 技术 和 方法 ， 对 大量 的 数据 进行 处理 ， 并 以 图形 、 图象 的 形式 ， 形象 而 具体 地 显示 出来 〔 1 〕 。 实际上 人们 认识 世界 的 重要 方法 之一 就是 用 视觉 观察 客观存在 。 它 作为 科研工作 的 一种 强有力 的 手段 ， 大大提高 了 人类 认识 世界 、 研究 世界 的 能力 〔 2 〕 。 
 　 　 在 进行 水污染 可控性 分析 中 应用 计算机 图形 可视化 技术 ， 可以 通过 水系 图形 的 动态显示 ， 直接 观察 到 每条 河流 每个 控制 单元 的 水质 情况 ， 变 静态 的 数据 表格 为 动态 的 图形 输出 。 在 水系 画面 的 基础 上 ， 随着 数据 的 变化 ， 水质 状况 也 会 随之 变化 ，   反映 到 图形 上 的 颜色 和 画面 也 随之 变化 ， 操作者 通过 比较 和 修改 各种 参数 ， 直接 找出 污染 程度 的 临界值 和 最佳 控制点 ， 实现 对 计算 过程 的 引导 和 动态控制 ， 用以 进行 环境 评价 、 预测 和 决策 。 
 2 　 水污染 可控性 分析 程序框图 
 　 　 该 程序 的 主要 功能 是 对 排向 河流 的 污染源 进行 具体 的 可控性 分析 ， 计算 出全 河段 的 主要 污染 控制 单元 和 每 一 单元 的 主要 污染源 ， 并 对 每 一种 污染物 进行 单 因子 的 解析 ， 按照 GB8978 - 88 制定 的 三级 五项 排污 标准 ， 对 每 一 污染源 的 每 一种 污染物 排放 情况 进行 解析 ( 见图 1 ) 。 
 
 图 1 　 水污染 可控性 分析 的 可视化 系统 框图 
 Fig.1 　 Sketch   of   visualization   system   of   control 
 analysis   for   water   pollution 
 3 　 主要 功能模块 简介 
 3.1 　 污染源 活动 窗口 开启 、 关闭 模块 
 　 　 当 用户 需要 对 某个 污染源 进行 数据 的 录入 、 查看 、 修改 等 操作 时 ， 可 点击 鼠标 ， 在 该 点源 位置 附近 将 开出 一个 窗口 ， 显示 出该 点源 的 名称 、 排放量 及 排放 浓度 等 信息 。 如 改动 其中 某一 数据 ， 将 引起 图形 色彩 的 变化 、 比例 的 变化 、 排序 的 变化 等等 。 
 3.2 　 图形 色彩 变化 模块 
 　 　 该 模块 根据 有关 数学模型 计算 的 结果 ， 调用 色彩 函数 ， 将 水系 的 不同 区域 染成 不同 的 颜色 〔 3 〕 ， 颜色 越深 ， 越 接近 黑色 ， 则 表明 该 区域 污染 越 严重 ； 反之 颜色 越浅 ， 越 接近 浅兰色 ， 则 表明 该 区域 较为 清洁 ， 应 保持 下去 。 决策者 可 根据 颜色 的 深浅 变化 ， 反复 修改 数据 ， 找出 最 满意 的 结果 。 
 3.3 　 各 控制 断面 主要 污染源 排放 顺序 显示 模块 
 　 　 该 模块 的 作用 是 在 众多 的 污染源 中 选出 影响 该 断面 最为 严重 的 前 5 个 污染源 ， 选择 的 原则 是 综合 选择 ， 即 综合 各种 污染物 的 排放 浓度 和 排放量 ， 最后 选定 严重 制约 该 断面 污染 程度 的 重点 污染源 ， 为 决策者 制定 治理 方案 提供 依据 。 该 模块 受制于 数据 的 变化 ， 如 在 污染源 活动 窗口 中 修改 某一 数据 ， 都 将 引起 模块 的 变化 ， 即 重新 计算 、 重新 排序 、 重新 显示 ， 始终 给 用户 一种 全新 的 变化 信息 。 
 3.4 　 全 流域 超标 点源 超标 状况 滚动 显示 模块 
 　 　 该 模块 的 功能 是 在 选定 某一 污染 因子 后 ， 按照   GB8978 - 88 有关 该 污染物 的 一 、 二 、 三级 排放 标准 的 五项 具体 排放 指标 ， 在 全 河段 范围 内 找出 超标准 排放 的 污染源 ， 并 具体 计算 出对 哪些 标准 有 超标 排放 及 超标 排放 的 倍数 ， 滚动 显示 输出 ， 不 超标 则 不 显示 ， 这项 数据 对 决策者 进行 污染物 的 削减 量计算 有 具体 的 指导意义 。 同时 对 新建 工程 废水 排放 的 总量 与 浓度 的 测算 也 有 实际 的 意义 。 决策者 还 可 根据 此项 数据 计算 环境保护 投资 的 效益 和 污染物 允许 排放量 的 最佳值 ， 作出 投资 少 效益 大 的 多 目标 决策 。 
 3.5 　 全 画面 色彩 协调 显示 模块 
 　 　 人们 对 图象 的 理解 ， 除 大小 、 形状 外 ， 颜色 也 是 其 主要 的 组成部分 。 该 模块 的 色彩 功能 有别于 其它 图象 ， 该 模块 不是 以 污染 数据 为 染色 的 基础 ， 而是 以 画面 的 清晰 程度 来 用色 。 对于 一条 河流 的 一种 污染 因子 ， 按 其 控制 单元 的 个数 ， 将 每 一 单元 的 名称 、 数据 、 水系 图及 饼 状图 的 该 部分 量 都 采用 一种 颜色 协调 起来 ， 这样 用户 可 根据 颜色 “ 一目了然 ” 地 了解 到 该 控制 单元 的 所有 信息 。 
 4 　 实例 分析 
 　 　 以 河南省 安阳市 境内 的 万金 渠 水系 为例 ， 探讨 实现 水系 画面 动态 交互 的 可能性 。 
 4.1 　 控制 单元 的 划分 
 　 　 根据 安阳市 水 环境 功能 的 现状 分析 和 安阳市 急待 解决 的 水 环境 问题 ， 兼顾 地理位置 及 一些 行政 管理 上 的 要求 ， 将 万金 渠 流域 划分 为 ： 上 万金 渠 ( 徐家 桥至 大西门 ) 、 环城 河 、 北 万金 渠 、 邱家沟 、 婴儿 沟 、 南 万金 渠 等 控制 单元 〔 4 〕 。 
 4.2 　 污染源 时空 分布 系统 
 　 　 污染源 的 时空 分布 及 排污 去向 是 划分 水体 功能 的 重要依据 ， 也 是 计算 削减 污染物 及 进行 环境影响 评价 的 重要 基础 数据 。 在 万金 渠 水系 中 ， 选择 COD 、 SS 和 石油 类 三项 指标 ， 将 各 污染源 以 圆圈 的 图符 标识 在 图上 ， 并 以 直线 标明 它 的 排污 去向 及 所排 向 的 区域 ， 当 用户 需要 了解 有关 污染源 的 信息 ， 需要 修改 有关 数据 时 ， 可用 鼠标 点动 该 图符 ， 则 在 其 附近 自动 开出 一 污染源 的 信息 窗口 ， 如图 2 所示 。 在 开出 的 窗口 中有 该 点源 的 名称 、 废水 排放量 及 排放 浓度 等 ， 用户 可用 鼠标 和 数字 键配合 录入 和 修改 有关 的 数据 ， 如需 存盘 则 按 “ 存盘 ” 按钮 ， 数据 存盘 并 重新 进行 有关 的 计算 ； 如 只是 浏览 、 不 存盘 则 按 “ 关闭 窗口 ” 按钮 ， 窗口 自行 关闭 。 有关 计算 的 结果 将 反映 在 图下方 的 方框 内 和 水系 各 控制 单元 的 颜色 上 。 可 直观 地 推测 出 指定 区域 内 的 重点 污染源 的 主要 污染 指标 。 窗口 功能 的 设计 完全符合 Windows 的 设计 风格 ， 即使 对 计算机 不太熟 ， 也 同样 可以 使用 与 操作 ， 达到 满意 的 效果 。 
 
 图 2 　 污染源 分布 
 Fig.2 　 Distribution   of   pollution   sources 
 4.3 　 污染 控制 单元 的 解析 系统 
 　 　 在 进行 水 环境 功能 区划 时 ， 重点 要 研究 每 一个 污染 控制 单元 的 排放量 是否 达到 了 该 水域 的 功能 要求 ， 如达 不到 则 要 进行 排放量 的 削减 ， 而且 要 削减到 点源 ， 这 就要 计算 出 在 这 一 控制 单元 中 主要 污染源 和 主要 污染物 ， 即 排列 出该 单元 的 优先 控制 顺序 。 如 要 研究 万金 渠 婴儿 沟 这段 区域 的 排放 情况 ， 可点动 “ 婴儿 沟 ” ， 见图 3 ， 画面 的 左下方 就 显示 出 在 这 一 区域 内 所有 污染源 的 各种 污染物 排放量 和 所 占 总量 的 百分比 ， 对于 一个 污染源 的 不同 排放口 ， 图 面上 则 分别 列出 ， 分别 计算 ， 然后 再 计算 其 合计 。 点动 该 方框 内 的 滚动条 ， 可 浏览 全部 数据 ， 同时 图 3 中 还 显现出 该 单元 内 的 前 5 个 排污 大户 。 如 在此期间 修改 某一 污染源 的 排放 数据 ， 则 重新 计算 排放量 和 比例 数 ， 重新排列 控制 顺序 ， 重新 为 河段 填充 颜色 ， 因此 这是 一个 动态 的 系统 ， 即可 反映 现状 ， 又 能 预测 未来 。 系统 一 但 设计 好 ， 可 长期 使用 ( 因为 无 特殊 原因 ， 监测 断面 不会 改变 ) 。 
 　 
 
 图 3 　 污染源 分布 
 Fig.3 　 Distribution   of   pollution   sources 
 
 图 4 　 单 因子 解析 
 Fig.4 　 Analysis   picture   of   single   factor 
 4.4 　 全 流域 综合 状况 分析 
 　 　 在 单元 分析 的 基础 上 ， 研究 全 水系 的 综合 情况 ， 如图 2 下方 显示 出 了 各 控制 单元 的 总 排放 情况 ， 点击 滚动 按钮 ， 可 浏览 所有 控制 单元 各种 污染物 的 排放 情况 ， 同时 画面 还 给出 了 万金 渠全 流域 水污染 控制 单元 的 优先 控制 顺序 ， 该 画面 仍 将 保持 最新 的 计算结果 。 
 4.5 　 单 因子 解析 系统 
 　 　 根据 GB8978 - 88 制定 的 排放 标准 ， 对 每 一条 河流 每 一个 控制 单元 进行 单 因子 解析 。 即 找出 对 不同 功能 河段 影响 最大 的 污染 因子 ， 计算 出 每条 河流 每个 控制 单元 污染 最重 的 指标 ， 定量分析 污染物 的 构成 ， 计算 出 各个 污染源 对 每个 标准 的 超标 倍数 。 并 按水 环境 功能 区划 对 工业 结构 进行 经济评价 ， 调整 工业布局 ， 加强 对 新建 工业 选址 的 监督 ， 防止出现 新 的 不 合理布局 ， 在 经济 迅速 发展 的 前提 下 ， 实现 经济 和 水 环境 的 基本 协调 ， 这项 工作 是 安阳市 实现 水 环境 战略 中 解决矛盾 的 协调 因子 之一 ， 是 分析 水 环境 目标 可达性 的 重要依据 。 若 选定 万金 渠 CODCr 的 单 因子 解析 画面 ( 见图 4 ) 。 画面 上以 6 种颜色 显示 出 6 个 控制 单元 的 有关 数据 ， 同时 以 6 种颜色 绘出 水系 的 6 段 画面 ， 画面 左下方 则 以 饼 状图 的 形式 显示 出 每个 控制 单元 CODCr 的 百分比 分布 状况 。 3 种 不同 的 语言 符号 表示 同一 内容 时 ， 以 相同 的 颜色 ， 给人以 直观 、 清晰 的 印象 。 同时 在 图 的 下方 ， 列出 了 CODCr 三级 五项 的 排放 标准 。 在 万金 渠 沿岸 ， 凡是 有 一项 以上 超标 排放 的 污染源 ， 其 污染源 名称 及 超标 倍数 均 被 分别 列出 ， 按 动态 滚动条 可 浏览 全部 超标 的 点源 ， 同时 还 可 选择 SS 和 石油 类 的 单 因子 解析 画面 。 
 5 　 结论 
 　 　 应用 计算机 图形 可视化 技术 的 水污染 可控性 分析 系统 ， 能 及时 准确 地 处理 大量 的 、 随 时间 和 空间 不断 变化 的 环境 信息 ， 为 决策者 进行 环境 问题 的 分析 提供 了 简单易行 的 技术手段 。 与 GIS 相比 不仅 费用 低 、 易 普及 ， 而且 在 进行 线状 实体 处理 和 模拟 时 也 显示 出 了 优越 的 性能 。 该软件 在 微机 上 应用 ， 在 Windows 环境 下 运行 ， 操作 简单 方便 ， 打印 功能 强 ， 资金 少 ， 见效快 ， 可 将 其 推广 到 其它 城市 的 一般 水系 。 
 参考文献 
 1 　 唐泽圣 . 科学计算 可视化 . 中国 计算机用户 , 1996 , ( 3 ) : 1 ～ 4 
 2 　 林 　 宏 , 李 　 颖 , 式 保真 . 工程 应用 可视化 系统 的 开发 . 计算机 工程 与 设计 , 1996 , 17 ( 1 ) : 39 ～ 46 
 3 　 李学军 , 周嘉玉 . 真实 图形 的 颜色 量化 . 计算机辅助 设计 与 图形学 学报 , 1996 , 8 ( 3 ) : 193 ～ 196 
 4 　 夏 　 青 , 王 华东 . 环境容量 开发 与 利用 . 北京 ： 北京师范大学 出版社 , 1990 
 
 作者简介 
 宣 　 华 　 女 ， 1960 年 10 月生 。 现任 中国 环境 管理 干部 学院 环境 信息 系 副 主任 ， 计算机 教研室 主任 。 主要 从事 计算机 教学 和 环境 科研工作 。 曾 主要 参加 国家 “ 七五 ” 攻关 课题 “ 环境 信息 数据库 在 地方 管理 上 的 应用 ” 、 “ 秦皇岛市 环境 综合 整治 规划 ” 等 课题 。 发表 论文 6 篇 。 
 收稿 日期 ： 1997 - 05 - 15 
