宇航学 报 
 JOURNAL   OF   ASTRONAUTICS 
 1999 年   第 2 期 　 No.2   1999 
 
 
 
 卫星 对 地球 覆盖 情况 的 判据 及 算法 探讨 
 闫 　 野 　 　 任 　 萱 　 　 陈 　 磊 
 　 　 摘 　 要 　 在 多 颗卫星 轨道 的 设计 过程 中 , 经常 要 考虑 卫星 对 地球 的 覆盖 情况 。 本文 针对 多 颗卫星 在 某 一 时刻 是否 对 地球 进行 了 全球 覆盖 进行 了 探讨 , 并 给出 了 一种 简单 的 判定 方法 及其 对应 的 算法 , 同时 对 这 一 方法 进一步 推广 为 判定 是否 多 颗卫星 同时 对 地球 进行 了 N 次 覆盖 。 本文 给出 的 方法 对于 卫星 网 设计 有 一定 的 帮助 。 
 　 　 主题词 　 人造卫星 　 覆盖 　 判据 　 算法 
 CRITERION   AND   ALGORITHM   
 OF   SATELLITES   COVERAGE   SITUATION 
 Yan   Ye   Ren   Xuan   Chen   Lei 
 ( National   University   of   Defence   Technology   303 * Changsha * 410073 ) 
 　 　 Abstract 　 The   situation   of   coverage   has   to   be   considered   in   the   design   process   of   satellite   orbit . This   paper   probes   whether   the   whole - earth   is   covered   with   satellite - net   at   a   special   time . In   accordance   with   this   problem , a   simple   criterion   and   its   corresponding   algorithm   are   given . At   the   same   time , the   method   is   deduced   to   the   problem : whether   the   whole   earth   is   covered   N   times   with   the   satellites . This   paper   is   useful   to   the   satellite - net   designing . 
 　 　 Key   words 　 Satellite   Coverage   Criterion   Algorithm 
 1 　 引 　 言 
 　 　 围绕 地球 的 多颗 人造卫星 对 地球表面 进行 覆盖 , 在 某 一 时刻 , 若 地球 上 任意 一点 都 至少 被 一颗 卫星 所 覆盖 , 那么 我们 称 这 一 时刻 这些 卫星 对 地球 进行 了 一次 覆盖 ; 同理 , 在 某 一 时刻 , 若 地球 上 任意 一点 都 至少 同时 被 N 颗卫星 所 覆盖 , 那么 我们 称 这 一 时刻 这些 卫星 对 地球 进行 了 N 次 覆盖 。 要 解决 的 问题 是 在 已知 某一 时刻 各 卫星 的 星下点 坐标 与 覆盖 半径 的 情况 下 , 怎样 判定 卫星 是否 对 地球 进行 了 一次 覆盖 ( 或 N 次 覆盖 ) 。 最 直观 的 算法 是 对 地球 上 足够 多 的 点 一一 抽样 验证 , 但 这种 方法 得到 的 结论 在 理论 上 是 不 严格 的 ; 另 一种 是 计算 多 颗卫星 对 地球表面 覆盖 的 总面积 , 如果 覆盖面积 等于 地球 表面积 , 那么 可知 卫星 对 地球 进行 了 一次 覆盖 , 这种 方法 很难 推广 到 N 次 覆盖 的 判定 , 即使 是 对于 一次 覆盖 的 情况 在 计算 上 也 相当 复杂 , 在 球面 上求 若干 区域 的 交集 和 补集 是 十分困难 的 ; 此外 还 一些 解决 方法 , 但 由于 这样 或 那样 的 原因 都 不尽人意 。 本文 旨在 对 一次 覆盖 和 N 次 覆盖 问题 寻求 一种 更为 简单 有效 的 判定 方法 和 切实可行 的 算法 。 本文 的 讨论 建立 在 以下 假设 条件 下 : 地球 为 理想 圆球 ; 任意 两颗 卫星 要么 星下点 坐标 不同 , 要么 覆盖 半径 不同 。 
 2 　 一次 覆盖 判据 
 　 　 首先 考虑 一种 假定 的 二维 情况 , 如图 1 所示 , 在 矩形 区域 A 内 ( 不 含 边界 ) 有 若干个 圆形 覆盖 区 , 我们 可以 通过 下面 的 方法 判断 是否 这个 矩形 区域 已 全部 被 这些 圆形 覆盖 区 所 覆盖 。 
 
 图 1 　 二维 情况 下 的 一次 覆盖 问题 
 　 　 判据 一 : 如果 区域 A 内 存在 已 被 覆盖 的 点且 在 区域 A 内 任意 一个 圆形 覆盖 区 的 边界 都 被 其它 圆形 覆盖 区 所 覆盖 , 那么 区域 A 将 被 这些 圆形 覆盖 区 全部 覆盖 且 至少 为 一次 覆盖 , 即 A 内 任意 一点 都 会 被 圆形 覆盖 区 至少 覆盖 一次 。 
 　 　 证明 是 简单明了 的 , 可以 用 反证法 : 如果 A 中 尚存 在 未 被 覆盖 的 部分 ( 如图 1 中 的 阴影 部分 ) , 那么 这个 未 被 覆盖 部分 的 边界 一定 是 由 圆形 覆盖 区 的 部分 边界 和 A 的 边界 所 围成 , 只要 A 中 的 被 覆盖 的 区域 非空 , 那么 必有 某个 圆形 覆盖 区 在 A 范围 内 的 一段 边界 未 被 其它 圆形 覆盖 区 所 覆盖 。 
 　 　 其实 判据 一中 的 区域 A 可以 是 n 维实 空间 中 的 任意 非空 连通 域 , 而 圆形 覆盖 区 可以 是 A 上 的 任意 非空单 连通 域 。 
 　 　 将 上面 的 方法 推广 到 多维 情况 , 可以 把 区域 A 看作 整个 地球表面 , 显然 此时 A 已 成为 一个 没有 边界 的 闭合 曲面 , 圆形 覆盖 区 可以 看作 是 卫星 覆盖 区 。 同时 注意 到 卫星 的 覆盖 半径 小于 90 度 , 可以 得到 与 判据 一 形式 几乎 一样 的 判据 二 , 即 多 颗卫星 对 地球 的 一次 覆盖 判据 。 
 　 　 判据 二 : 如果 任意 一颗 卫星 覆盖 区 的 边界 都 被 其它 卫星 的 覆盖 区 所 覆盖 , 那么 此时 地球 上 的 任意 一点 都 至少 被 一颗 卫星 所 覆盖 , 即 至少 满足 一次 覆盖 条件 。 
 
 图 2 　 星下点 与 地心 坐标系 
 3 　 N 次 覆盖 判据 
 　 　 一次 覆盖 是 最 简单 的 情况 , 如果 问题 变为 在 某 一 时刻 是否 地球 上 任意 一点 都 至少 被 N 颗卫星 所 覆盖 ( 即 N 次 覆盖 问题 ) 将 更 有 现实意义 。 这一 貌似 复杂 的 问题 其实 只是 判据 二 的 一个 简单 变形 , 其 形式 与 判据 二 如出一辙 。 下面 给出 关于 N 次 覆盖 的 判据 三 。 
 　 　 判据 三 : 如果 任意 一颗 卫星 覆盖 区 边界 上 任意 一点 都 被 其它 卫星 的 覆盖 区 至少 N 次 覆盖 , 那么 此时 地球 上 的 任意 一点 都 至少 被 N 颗卫星 所 覆盖 , 即 满足 N 次 覆盖 条件 。 
 　 　 首先 由 判据 三 可知 , 当 N ≥ 1 时 , 至少 是 一次 覆盖 ( 判据 二 ) , 对于 N 次 覆盖 , 若 在 地球 上 存在 某个 区域 只 被 少于 N 颗 的 卫星 所 覆盖 , 那么 这个 区域 的 边界 必然 是 某些 卫星 覆盖 区 的 边界 , 并且 这部分 边界 上 的 任意 一点 只 被 其它 的 少于 N 颗 的 卫星 所 覆盖 , 这 与 判据 三中 的 至少 有 N 颗卫星 对 这 一点 覆盖 相 矛盾 , 从而 证明 了 判据 三 的 正确性 。 
 4 　 一次 覆盖 判定 算法 
 　 　 上面 给出 的 判据 在 形式 上 是 简单 的 , 但离 运用 到 具体 运算 上 还有 一定 的 差距 , 计算 中 数据结构 选择 的 优劣 , 将 直接 影响 到 计算 效率 和 可行性 。 下面 给出 一种 相对 简单易行 的 计算 思路 。 
 　 　 对于 任意 一个 卫星 的 覆盖 区 , 如何 判定 它 的 边界 是否 完全 被 其它 卫星 的 覆盖 区 所 覆盖 了 呢 ? 为了 避免 计算 中 奇异 情况 的 出现 , 我们 假设 每 颗卫星 的 覆盖 半径 ri ＜ 90 ° ( ri 是 第 i 颗卫星 的 覆盖 半径 ) , 一般来说 卫星 的 覆盖 半径 小于 75 ° , 因此 这个 假设 是 合乎 实际 的 。 首先 把 每 颗卫星 的 星下点 坐标 统一 转换 到 地心 坐标系 上 , 设 ( φ i , λ i ) 是 第 i 颗卫星 的 纬度 和 经度 , 则 这 颗卫星 在 地心 坐标系 下 的 坐标 可 表示 为式 ( 1 ) , 其中 R 是 地球 半径 。 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 1 ) 
 　 　 下面 对 其中 某个 卫星 k 的 覆盖 区 边界 的 覆盖 情况 加以分析 , 首先 利用 式 ( 2 ) 对 其它 卫星 的 位置 进行 坐标 变换 , 其中 i ≠ k 
 　 　 　 　 　 　 　 ( 2 ) 
 
 图 3 　 卫星 i 与 卫星 k 的 关系 
 　 　 我们 称 ( Xki , Yki , Zki ) 是 卫星 i 关于 卫星 k 的 坐标 , 这一 变换 旨在 使 新 坐标系 的 Z 轴 指向 卫星 k 的 地心 矢 方向 , 对于 Xki 、 Yki 来说 , 这 相当于 以 k 的 星下点 为 中心 , 沿着 k 的 地心 矢 方向 对 其它 卫星 在 k 的 当地 水平面 内 进行 了 二维 投影 。 令 θ ki 表示 卫星 i 关于 卫星 k 的 方位角 , α ki 表示 卫星 i 对 卫星 k 覆盖 区 边界 的 覆盖范围 , 如图 3 所示 , 则 有式 ( 3 ) 、 式 ( 4 ) 。 
 　 　 　 　 　 　 　 　 　 　 　 ( 3 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　   ( 4 ) 
 　 　 其中 　 　 　 
 　 　 在 这里 Xki 、 Yki 有 可能 都 为 0 , 这时 可以 让 θ ki 为 任意 值 , 不防取 0 。 这样 我们 可以 得到 一组 θ ki 、 α ki ( i ≠ k ) , 即 卫星 i 对 卫星 k 覆盖 区域 边界 的 覆盖 方位角 和 覆盖范围 角 , 覆盖范围 是 ( θ ki - α ki , θ ki + α ki ) 。 可以 用 下面 的 方法 计算 是否 这组 ( θ ki , α ki ) 对 k 的 边界 完全 覆盖 , 如图 4 所示 
 
 　 　 图 4 　 开始 计算 时 的 初始状态 
 　 　 若 第一块 与 第二块 相交 则 对 这两块 合并 , 求 出新 的 第一块 , 如式 ( 5 ) 和 图 5 所示 
 
 图 5 　 第一 、 二块 合并 后 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 5 ) 
 　 　 这样 依次 类推 让 第一块 与 其余 各块 试图 合并 , 直到 最后 一块 , 然后 进行 判断 , 若 第一块 的 α ki ≥ 180 ° , 则 k 的 边界 已 全部 覆盖 , 算法 结束 ; 否则 重复 上面 的 方法 进行 下 一趟 计算 , 如果 在 某 一趟 计算 中 没有 合并 事件 发生 , 而且 第一块 α ki 的 值 仍然 小于 180 ° , 则 说明 卫星 k 的 边界 没有 全 被 其它 卫星 的 覆盖 区 所 覆盖 。 注意 每 一趟 合并 都 发生 在 第一块 与 其他 各块 之间 。 本节 中 所说 的 合并 事件 是 指使 第一块 α ki 范围 扩大 的 合并 。 
 5 　 N 次 覆盖 判定 算法 
 　 　 对于 卫星 k 覆盖 区 边界 的 N 次 覆盖 算法 显然 要 复杂 一些 , 先 判断 是否 为 一次 覆盖 , 再 判断 是否 为 两次 覆盖 , 然后 判断 三 、 四 、 … 、 N 次 覆盖 的 情况 。 设 当前 正在 进行 是否 M 次 覆盖 的 判断 ( M ≤ N ) , 同样 对 各块 进行 合并 , 再 进行 某 一趟 合并 的 时候 , 如果 有 合并 事件 发生 , 比如 ( θ ki1 , α ki1 ) 与 ( θ ki2 , α ki2 ) 有 相交 的 部分 , 那么 除了 按照 上面 一次 覆盖 的 算法 对 这两块 进行 合并 外 , 还 要求 出 这两块 的 交集 , 也 用 覆盖 角 和 方位角 的 方法 表示 , 由于 卫星 k 的 覆盖 区 边界 是 闭合 的 圆 , 交集 可能 由 几个 角度 范围 的 并 集 构成 , 我们 把 表示 交集 的 块 链接 到 最后 一块 的 后面 , 但 这些 被 链接 的 块 不 参加 M 次 覆盖 的 判断 ( 见图 6 ) , 和 一次 覆盖 算法 的 判断 条件 一样 判断 是否 卫星 对 地球 进行 了 M 次 覆盖 , 如果 满足 M 次 覆盖 , 那么 摘掉 链中 的 第一块 , 让 第二块 作为 第一块 , 并且 把 M 次 覆盖 计算 中 链接 进来 的 交集 也 纳入 M + 1 次 覆盖 判断 的 计算 之中 ( 见图 7 ) , 对 M + 1 次 覆盖 的 判断 算法 与 对 M 次 覆盖 的 判断 算法 相同 。 
 
 图 6 　 在 M 次 覆盖 判断 计算 中 的 合并 与 链接 
 
 图 7 　 进行 M + 1 次 覆盖 判断 计算 的 初始状态 
 6 　 进一步 推广 与 仿真 结果 
 　 　 本文 中 介绍 的 方法 还 可以 进一步 加以 推广 , 比如 求 地球 上 的 某 一 区域 是否 满足 多次 覆盖 条件 ; 星座 设计 中 卫星 轨道 倾角 的 取值 范围 等 。 文章 中 算法 的 一个 主要 优点 是 便于 在 计算机 上 实现 。 在 星座 研究 和 设计 中 我们 使用 了 这 一 方法 。 
 　 　 算例 1 : 一个 参考 码为 18 / 3 / 0 的 δ - 星座 , 若 轨道 高度 为 20000 公里 , 轨道 倾角 60 ° , 最小 观测 角 10 ° , 则 仿真 结果表明 星座 可以 满足 对 地球 进行 4 次 覆盖 要求 。 
 　 　 算例 2 : 一个 参考 码为 45 / 9 / 9 的 δ - 星座 , 若 轨道 高度 为 900 公里 , 轨道 倾角 79.47 ° , 最小 观测 角 10 ° , 则 仿真 结果表明 星座 可以 满足 对 地球 进行 1 次 覆盖 要求 。 
 　 　 作者 单位 ： 国防科技大学 自动控制 系 303 教研室 . 长沙 . 410073 
 参考文献 
 　 1 　 林来兴 . 现代 小 卫星 及其 关键技术 . 中国 空间 科学技术 ( 4 ) , 1995 
 　 2 　 任萱 编著 . 人造卫星 轨道 力学 . 国防科学技术大学 出版社 , 1988 
 　 3 　 James   R . Wertz   &   Wiley   J . Larson 编 . 航天 任务 的 分析 与 设计 . 航空 出版社 , 1992.1 
 　 4 　 肖峰 编著 . 球面 天文学 与 天体力学 基础 . 国防科学技术大学 出版社 , 1989 
 　 5 　 Walke   J   G . Continuous   Whole - Earth   Coverage   by   Circular - Orbit   Satellite   Patterns . Royal   Aircraft   Establishment   Technical   Report   No.77044 , 1977 
 　 6 　 Ballard   A   H . Rosette   Constellations   of   earth   Satellites . IEEE   Transaction   on   Aerospace   and   Electronic   Systems , Vol . AES - 16 , No.5 , 1980 
 收稿 日期 : 1997 年 3 月 5 日 , 修回 日期 : 1998 年 3 月 16 日 
