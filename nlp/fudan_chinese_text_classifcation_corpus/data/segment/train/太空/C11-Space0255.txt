　 宇航学 报 
 JOURNAL   OF   ASTRONAUTICS 
 1999 年   第 20 卷   第 3 期   vol.20   No.3   1999 
 
 
 
 　 　 具有 力觉 临场感 的 主从 遥控 机器人 
 系统 的 双向 控制 
 陈卫东 　 席裕庚 　 蔡鹤皋 
 　 　 摘 　 要 　 本文 研究 借助 力觉 临场感 技术 实现 主从 机器人 遥 操作 的 控制 理论 和 设计 方法 ， 基于 对 控制系统 的 动力学 分析 ， 在力 和 运动 的 双向 控制 中 采用 力 反射 伺服 型 控制 方案 ， 实验 结果表明 了 该 方案 的 可行性 ， 显示 了 在 非 结构性 环境 下 临场感 在 增强 人机交互 能力 方面 的 优越性 。 
 　 　 主题词 　 主从 机器人 　 遥 操作 　 力觉 临场感 　 双向 控制 
 BILATERAL   CONTROL   OF   MASTER - SLAVE   
 TELEROBOT   SYSTEM   WITH   FORCE   TELEPRESENCE 
 Chen   Weidong   Xi   Yugeng 
 ( Department   of   Automation   Shanghai   Jiao   Tong   University . Shanghai.200030 ) 
 Cai   Hegao 
 ( Robot   Research   Institute   Harbin   Institute   of   Technology . Harbin.150001 ) 
 　 　 Abstract 　 This   paper   focuses   on   the   control   theory   and   design   method   of   master - slave   robot   system , that   can   implement   precise   teleoperation   by   means   of   force   telepresence   technology   under   the   unstructural   environment . Based   on   the   dynamics   analysis   of   the   control   system , a   force - reflecting   servo   control   scheme   is   adopted   in   the   force   and   motion   bilateral   control . Teleoperation   experiments   demonstrate   the   practicability   of   this   control   scheme   and   show   the   advanced   capability   to   improve   the   man - machine   interactivity . 
 　 　 Key   words 　 Master - slave   robot   Teleoperation   Force   telepresence   Bilateral   control 
 　 　 1 　 引言 
 　 　 主从 遥控 机器人 可以 在 非 结构性 环境 下 ( 空间 、 深海 、 辐射 、 战场 等 ) 进行 复杂 的 操纵 作业 ( 如 航天器 的 装配 、 维修 ) 。 操作者 的 操纵 质量 与 对 “ 从 环境 ” 信息 ( 包括 ： 力觉 、 视觉 等 ) 的 真实 获得 能力 密切相关 ， 借助于 力觉 临场感 功能 ， 可以 使 操作者 真实 地 感觉 到 机器人 与 被 操作 物体 的 动态 相互作用 ， 就象 操作者 自己 的 手臂 在 操作 物体 一样 ， 这 有助于 操作者 完成 复杂 精密 的 作业 。 这种 机器人 控制 方式 ， 是 进行 远距离 控制 的 理想 方法 之一 ［ 1 ］ 。 
 　 　 近年来 ， 由于 认识 到 力觉 临场 在 有 接触 遥 操作 中 的 重要 作用 ， 对 其 相关 技术 的 研究 和 应用 受到 广泛 关注 ， 如 美国 的 JPL / NASA 机器人 ［ 2 ］ ， 日本 的 MSMS 机器人 ［ 3 ］ ， 德国 的 ROTEX 机器人 ［ 4 ］ 均 采用 该项 技术 ， 我国 在 这 一 领域 起步 较晚 ， 目前 已 在 空间 及 水下 机器人 领域 取得 进展 ， 863 计划 也 已 将 具有 临场感 的 遥 操作系统 作为 智能 机器人 主题 的 关键技术 开展 研究 。 
 　 　 双向 控制 是 指主手 和 从 手间 的 运动 和 力觉 信息 的 交互 反馈 控制 ， 早期 的 遥控 机器人 系统 采用 双向 位置 反馈 来 实现 力觉 临场感 ， 但 由于 主从 手间 无法 消除 的 位置 误差 ， 使 系统 在 自由空间 运动 也 显得 十分 “ 迟滞 ” ［ 1 ］ ， 直接 影响 系统 的 操作 性能 。 基于 传感器 技术 的 提高 ， 使 我们 能够 采用 高性能 的 腕力 传感器 实现 主从 手间 的 双向 力觉 反馈 ， 为 采用 更 先进 的 控制策略 进一步提高 遥 操作 性能 提供 了 基础 。 
 　 　 2 　 双向 控制策略 
 　 　 通用 的 主从 遥控 机器人 为 多 自由度 异构 系统 ， 其 在 笛卡尔 空间 控制 方程 的 一般 形式 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 1 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 2 ) 
 　 　 其中 Kmpm , K ′ mpm , K ″ mpm 与 Kmfm 分别 为主 手 的 位置 、 速度 、 加速度 和力 的 反馈 增益 矩阵 ， 而 Kmps , K ′ mps ， K ″ mps 与 Kmfs 是从 手 位置 、 速度 、 加速度 和力 的 反馈 增益 矩阵 ， 这 八个 增益 系数 确定 了 主手 的 驱动力 向量 Fm ； 同样 ， Kspm , K ′ spm , K ″ spm , Ksfm , Ksps , K ′ sps , K ″ sps 与 Ksfs 确定 了 从 手 的 驱动力 向量 Fs 。 Xm , Fo 为主 手 位移 和 操作 力 ， Xs , Fe 为 从 手 位移 和 反馈 力 。 以上 各 向量 为 6 维 ， 矩阵 为 6 × 6 维 。 典型 的 主从 控制策略 ， 如 位置 伺服 型 、 力 反射 型和力 反射 伺服 型 主从 控制系统 ， 均 为 式 ( 1 ) 和 ( 2 ) 的 特例 。 
 　 　 3 　 控制系统 动力学 分析 
 　 　 下面 引入 操作 物体 的 动力学 特性 ， 分析 比较 位置 伺服 型 、 力 反射 型和力 反射 伺报 型 三种 控制策略 的 性能 。 
 　 　 一 、 力 反射 伺服 型 ： 
 　 　 设式 ( 1 ) 和 ( 2 ) 中 ： Kmfm = Kmfs = - Kf 、 Kspm = Ksps = Kp 和 K ′ spm = K ′ sps = Kv , 其它 参数 取为 零 。 则 主手 动力学 方程 及其 控制策略 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 3 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 4 ) 
 　 　 从手 动力学 方程 、 其 控制策略 及 物体 动力学 为 方程 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 5 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 6 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 7 ) 
 　 　 为了 简化 分析 ， 设主手 与 从 手 的 动力学 特性 相同 ( Mm = Ms = Mo , Bm = Bs = Bo ) ， 则 操作者 感受 到 的 反射 力为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 8 ) 
 　 　 如果 力反馈 增益 Kf 取得 足够 大 ， 则 近似 有 Fo = Fe 。 同理 ， 若 其它 两项 增益 系数 Kp 和 Kv 足够 大 ， 也 可 减少 主从 随动 误差 。 但应 注意 ， 过大 的 增益 会 引起 系统 稳定性 下降 。 
 　 　 二 、 力 反射 型 ： 
 　 　 设式 ( 1 ) 和 ( 2 ) 中 ： Kmfs = - I 、 Kspm = Ksps = Kp 和 K ′ spm = K ′ sps = Kv ， 其它 参数 取为 零 ， I 为 单位 方阵 。 主手 动力学 方程 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 9 ) 
 　 　 从手 动力学 方程 、 其 控制策略 及 物体 动力学 为 方程 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 10 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 11 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 12 ) 
 　 　 为了 简化 分析 ， 设主手 与 从 手 的 动力学 特性 相同 ( Mm = Ms = Mo , Bm = Bs = Bo ) ， 则 操作者 感受 到 的 反射 力为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 13 ) 
 　 　 该型 系统 能够 消除 从手 的 动力学 特性 ， 但是 ， 由于 主手 的 动力学 特性 附加 到 反射 力中 ， 该型 系统 的 力 反应 性能 不如 力 反射 伺服 型 系统 。 
 　 　 三 、 位置 伺服 型 ： 
 　 　 设式 ( 1 ) 和 ( 2 ) 中 ： Kmpm = Kmps = Kspm = Ksps = Kp 和 K ′ mpm = K ′ mps = K ′ spm = K ′ sps = Kv , 其它 参数 取为 零 。 则 主手 动力学 方程 及其 控制策略 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 14 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 15 ) 
 　 　 从手 动力学 方程 、 其 控制策略 及 物体 动力学 为 方程 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 16 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 17 ) 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 18 ) 
 　 　 为了 简化 分析 ， 设主手 与 从 手 的 动力学 特性 和 反馈 增益 相同 ， 则 操作者 感受 到 的 反射 力为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 19 ) 
 　 　 由于 主手 和 从 手 的 动力学 特性 都 附加 到 反射 力中 ， 该型 系统 的 力 反应 性能 不如 力 反射 型 系统 。 
 　 　 分析 结果表明 ， 在 这 两种 控制 方案 中 ， 操作者 感觉 到 的 从 手 一侧 的 现场 力 / 力矩 要 受到 主从 手 本身 动力学 特性 的 干扰 ， 尤其 当主手 各 关节 的 惯量 和 摩擦 较大 时 ， 力 转移 的 能力 大大降低 ， 换句话说 ， 只 有力 反射 伺服 型 才 是 比较 理想 的 双向 控制策略 。 
 　 　 4 　 控制系统 构成 与 设计 
 　 　 具有 力学 临场感 的 主从 遥控 机器人 系统 硬件 配置 如图 1 所示 。 系统 硬件 包括 由 以下 六个 部分 ： 
 
 图 1 　 系统 硬件 配置图 
 　 　 1 . 主手 ： 自行 研制 的 三 自由度 关节 型 机械 臂 ， 其中 包括 直流 力矩电机 驱动 机构 和 光电 码盘 测角 机构 ； 2 . 从手 ： PUMA562 型 机器人 ； 3 . 主手力 传感器 ： 中科院 合肥 智能 研究所 生产 的 SAFMS - Ⅱ 型 六维力 / 力矩 腕力 传感器 ； 4 . 从 手力 传感器 ： 美国 LORD 公司 生产 的 F / T30 / 100 型六维 腕力 传感器 ； 5 . 控制器 ： PC - AT486   DX2 / 66 型 计算机 及其 控制 接口卡 ， 包括 ： ( a ) 主手力 信号 采集卡 ； ( b ) 从 手力 信号 采集卡 ； ( c ) 主手 码盘 检测 卡 ； ( d ) 主手 电机 控制 数 / 模 转换 卡 。 6 . 智能型 通讯 卡 ： 实现 与 PUMA 控制器 的 ALTER 实时 路径 修正 功能 接口 的 通讯 任务 。 
 　 　 本文 采用 力 反射 伺服 型 控制 方案 ， 由于 主从 手 异构 ， 还 需 进行 相应 的 正 逆 运动学 和 力学 解算 ， 并 可 通过 软件 设置 不同 的 力 比和位 比 。 其实 时 控制系统 的 结构 如图 2 所示 ， 包括 力觉 伺服 环 和 位置 伺服 环 ， 图中 Gf 为力 控制器 ， 采样 周期 为 28ms 。 当 从 手 自由 运动 时 ， 系统 为 开环 位置 控制 ， 当 操作 物体 时 ， 力 控制 环 闭合 。 
 
 　 图 2 　 力 反射 伺服 型 控制系统 结构图 
 　 　 力 控制器 采用 常规 PID 控制 方法 ， Fo 的 顺馈 通道 对于 系统 的 闭环 特性 没有 任何 影响 ， 分析 系统 的 闭环 特性 时 可以 不加考虑 。 可以 看出 ， 由于 顺馈 环节 的 作用 ， 该 系统 存在 稳态 误差 。 系统 稳态 响应 为 ： 
 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ( 20 ) 
 　 　 式 ( 20 ) 中 Kf 为力 控制器 Gf 的 比例 增益 。 对于 比例控制 ， 显然 ， 加大 比例 增益 可以 减小 稳态 误差 ， 改善 系统 性能 ， 增加 系统 的 带宽 ， 加快 系统 的 响应速度 ， 减小 过渡 过程 时间 ， 但 系统 根 轨迹 ( 见图 3 ) 表明 ， 随着 Kf 的 提高 ， 两条 根 轨迹 将 进入 ［ S ］ 平面 的 正半 平面 ， 系统 将 失稳 。 因此 ， 选择 适当 的 控制器 增益 ， 就是 在 系统 响应 性能 和 稳定性 之间 的 折衷 。 
 
 　 　 图 3 　 控制系统 的 根 轨迹 
 　 　 系统 根 轨迹 还 表明 ， 物体 的 刚度 Ke 的 变化 也 对系统 的 稳定性 和 性能 具有 明显 的 影响 ， 过高 的 物体 刚度 也 会 使 系统 变得 不 稳定 。 
 　 　 当 采用 比例 + 微分 控制 ( PD 控制 ) 时 ， 即 Gf = Kf ( 1 + Kds ) ， 相当于 在 ［ S ］ 平面 的 左 半部 加入 一个 实 零点 ， 两条 根 轨迹 的 渐进 线 与 实轴正 方向 的 夹角 为 ± 90 ° ， 这 可以 增加 系统 的 稳定 裕度 ， 甚至 使 系统 成为 绝对 稳定 系统 ， 但 由于 存在 传感器 噪声 ， 微分 作用 不宜 过大 。 
 　 　 当 采用 比例 + 积分 + 微分 控制 ( PID 控制 ) 时 ， 即 Gf = Kf ( 1 + Kds + Kis - 1 ) ， 相当于 在 ［ S ］ 平面 的 左 半部 加入 一个 实 极点 ， 虽然 可以 改善 力 反应 的 稳态 精度 ， 但 它 降低 了 系统 的 稳定 裕度 ， 鲁棒性 差 ， 对 机器人 的 非线性 动力学 特性 更为 敏感 ， 易 产生 超 调和 振荡 ， 不利于 操作 备者 的 临场感 ， 一般 在 实际操作 中 不 加入 积分 环节 。 
 　 　 实际上 PUMA 机器人 是 一个 强 耦合 的 非线性 系统 ， 随着 位置 和 姿态 的 改变 其 动力学 特性 也 发生 相应 的 变化 ， 在 控制器 的 设计 中 ， 还 应对 机器人 的 非线性 给予 适当 的 考虑 ； 另外 主从 通讯 还 存在 0.084 s 的 时延 ， 对系统 的 稳定性 也 有 不利 影响 ， 因此 应 在 一个 相对 保守 位置 设计 控制器 。 
 　 　 5 　 遥 操作 实验 
 　 　 遥 操作 实验 包括 在 约束 空间 内 的 3 项 内容 ： 
 　 　 ( 1 ) 任务 1 ： 将 一块 清洁 用 海绵 放在 实验 台上 ， 操作者 操纵 从手 反复 推压 海绵 ， 并 测试 操作者 对 海绵 阻抗 特性 的 感觉 。 
 　 　 ( 2 ) 任务 2 ： 将 一块 铝板 用 夹钳 固定 在 实验 台上 ， 操作者 操纵 手 末端 触碰 铝板 并 逐渐 加大 推力 。 由于 从手 末端 也 是 用 铝料 加工 的 ， 此时 的 接触 变得 很 危险 ， 这 就是 所谓 的 “ 硬 接触 ” 。 
 　 　 ( 3 ) 任务 3 ： 借助 力觉 临场感 完成 遥控 销孔 装配 实验 。 将 孔件 用来 夹钳 固定 在 实验 台上 ， LODR 力 传感器 下 连接 一 气动 两指 手爪 。 整个 装配 实验 过程 可 分为 以下 几个 阶段 ： 找销 、 抓销 、 搜孔 和 插孔 。 在 搜孔 和 插孔 阶段 ， 操作者 通过 感觉 从手 末端 销件 与 孔件 的 接触力 ， 顺应 调整 从手 位置 ， 力觉 的 引入 克服 了 视觉 在 接触 状态 下 的 反馈 缺陷 ， 可 帮助 操作者 决策 操纵 行为 ， 完成 较 精密 的 装配 作用 。 为了 保证 “ 硬 接触 ” 条件 下 的 稳定性 ， 在 PUMA 机械手 的 末端 和 LORD 力 传感器 间连接 一个 被动 柔顺 装置 RCC 。 
 　 　 实验 结果表明 ： 在 约束 空间 ， 操作 海绵 时 ， 操作者 可以 准确 地 感觉 到 海绵 柔软 的 阻尼 特性 ， 主从 手 力 反应 如图 4 ( a ) 所示 。 操作 铝板 时 ， 操作者 可 逼真 地 体验 到 与 “ 硬墙 ” 接触 的 感觉 ， 主从 手 力 反应 如图 4 ( b ) 所示 。 增大 力 控制器 比例 增益 可以 提高 主从 系统 的 响应速度 ， 减小 稳态 误差 ， 但易 引起 振荡 ， 系统 稳定性 下降 。 选择 适当 的 微分 项 参数 可以 改善 系统 的 动态 特性 ， 提高 响应速度 ， 但 无论 Kd 过大 还是 过 小 ， 都 会 使 系统 超调 较大 ， 调节 时间 较长 。 借助于 视觉 和 系统 提供 的 力觉 临场感 功能 ， 操作者 可以 顺利完成 遥控 装配 作业 ， 遥控 装配 操作 中 的 主手力 反应 如图 5 所示 ， 在 大 范围 运动 阶段 通过 人体 视觉 定位 ， 在 小 范围 搜孔 和 插孔 阶段 借助于 力觉 临场感 ， 并 通过 设置 较 小 的 位 比 ( 1 / 2 或 1 / 4 ) ， 提高 装配 精度 ， 减小 操作者 的 人为 动作 误差 及 由此 产生 的 撞击 造成 的 工件 损伤 。 当然 ， 对 操作者 的 训练 也 是 非常 重要 的 ， 一个 熟练 的 操作者 可以 更好 地 理解力 觉 信息 ， 这 可以 减小 人为 动作 误差 ， 提高 装配 效率 。 
 
 图 4 　 主从 手 力 反应 曲线 和 主手 位置 响应 曲线 ( 主手 ： 实线 ； 从手 ： 虚线 ) 
 
 
 图 5 　 任务 3 中主手 装配 操作 力 响应 曲线 
 　 　 6 　 结论 
 　 　 本文 建立 的 具有 力觉 临场感 的 主从 遥控 机器人 系统 ， 使 操作者 可以 获得 从手 与 环境 接触 时 的 真实 临场 感觉 ， 明显改善 了 遥 操作系统 的 操作 性能 ， 成功 地 完成 了 遥控 装配 作业 ， 实验 结果表明 了 理论 分析 和 系统 设计 的 正确性 和 有效性 。 
 　 　 临场感 作为 一种 新颖 的 人机交互 技术 ， 既 充分 开发 了 机器人 在 有害 或 遥远 环境 下 的 作业 能力 ， 同时 又 发挥 了 人类 在 非 结构性 环境 中 的 智能 决策 作用 ， 已 成为 当前 机器人 研究 的 新 热点 ， 在 航天 、 核能 、 医疗 和 海洋 开发 等 领域 具有 广阔 的 应用 前景 。 
 　 　 远距离 遥控 的 大 时延 问题 ， 人机 遥控 与 局部 自主 的 共享 控制技术 以及 人机接口 的 多维 性 和 合适 性 问题 等 ， 都 有待 深入研究 。 
 作者 单位 ： 陈卫东 　 席裕庚 ： 上海交通大学 自动化系 . 上海 . 200030 
 　 　 　 　 　 蔡鹤皋 ： 哈尔滨工业大学 机器人 研究所 . 哈尔滨 . 150001 
 参考文献 
 　 　 1 　 蒋 新松 . 机器人学 导论 . 沈阳 ： 辽宁 科学技术 出版社 ， 1993 
 　 　 2 　 Edwin   P   K , Edmund   A . The   JPL   telerobot   teleoperation   system , International   Journal   of   Robotics   and   Automation , 1990 , 5 ( 1 ) : 27 - 31 
 　 　 3 　 Masao   Inoue   et   al . Six - axis   bilateral   control   of   an   articulated   slave   manipulator   using   a   Cartesian   master   manipulator . Advanced   Robotics , 1990 , 4 ( 2 ) : 139 - 150 
 　 　 4 　 Hirzinger   G . A   sensor - based   telerobotic   system   for   the   space   robot   experiment   ROTEX . 北京 ： 国际 高级 机器人学 讨论会 文集 ， 1991 ： 39 - 59 
 收稿 日期 : 1997 年 6 月 23 日 , 修回 日期 : 1998 年 10 月 22 日 
